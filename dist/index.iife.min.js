var MyLibrary=function(t,e){"use strict";var i=Object.defineProperty,s=t=>{throw TypeError(t)},n=(t,e)=>i(t,"name",{value:e,configurable:!0}),a=(t,e)=>{for(var s in e)i(t,s,{get:e[s],enumerable:!0})},o=(t,e,s)=>((t,e,s)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s)(t,"symbol"!=typeof e?e+"":e,s),r=(t,e,i)=>e.has(t)||s("Cannot "+i),c=(t,e,i)=>(r(t,e,"read from private field"),i?i.call(t):e.get(t)),l=(t,e,i)=>e.has(t)?s("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),h=(t,e,i,s)=>(r(t,e,"write to private field"),e.set(t,i),i),d=(t,e,i)=>(r(t,e,"access private method"),i);a({},{ChannelError:()=>lL,InnertubeError:()=>XM,MissingParamError:()=>eL,OAuth2Error:()=>sL,ParsingError:()=>ZM,Platform:()=>zM,PlayerError:()=>aL,SessionError:()=>rL,base64ToU8:()=>kL,concatMemos:()=>yL,debugFetch:()=>wL,deepCompare:()=>hL,escapeStringRegexp:()=>uL,findFunction:()=>TL,findVariable:()=>IL,generateRandomString:()=>_L,generateSidAuth:()=>mL,getCookie:()=>CL,getRandomUserAgent:()=>pL,getStringBetweenStrings:()=>dL,hasKeys:()=>gL,isTextRun:()=>SL,streamToIterable:()=>vL,throwIfMissing:()=>bL,timeToSeconds:()=>fL,u8ToBase64:()=>xL});var u={};a(u,{ArrayExpression:()=>f,ArrowFunctionExpression:()=>w,AssignmentExpression:()=>k,BinaryExpression:()=>C,BlockStatement:()=>I,BreakStatement:()=>M,CallExpression:()=>B,ConditionalExpression:()=>O,ContinueStatement:()=>F,EmptyStatement:()=>W,ExpressionStatement:()=>G,ForOfStatement:()=>q,ForStatement:()=>Y,FunctionDeclaration:()=>Q,FunctionExpression:()=>J,Identifier:()=>tt,IfStatement:()=>it,Literal:()=>nt,LogicalExpression:()=>ot,MemberExpression:()=>ct,NewExpression:()=>ht,ObjectExpression:()=>ft,Property:()=>gt,ReturnStatement:()=>wt,SequenceExpression:()=>kt,SwitchCase:()=>Ct,SwitchStatement:()=>It,TemplateLiteral:()=>Pt,ThisExpression:()=>At,ThrowStatement:()=>Lt,TryStatement:()=>Nt,UnaryExpression:()=>Vt,UpdateExpression:()=>Ut,VariableDeclaration:()=>Ht,WhileStatement:()=>$t});var p=class{constructor(t,e){this.node=t,this.visitor=e}run(){}};n(p,"BaseJSNode");var m=p,_=class extends m{run(){return this.node.elements.map(t=>this.visitor.visitNode(t))}};n(_,"ArrayExpression");var f=_,y=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction"),b=class extends Error{constructor(t,e){super(t),e&&(this.info=e)}};n(b,"JinterError");var g=b,v=class extends m{run(){let{params:t,body:e}=this.node;return y("anonymous function",i=>{let s=0;for(let e of t)this.visitor.visitNode(e),"Identifier"===e.type&&this.visitor.scope.set(e.name,i[s]),s++;return this.visitor.visitNode(e)})}};n(v,"ArrowFunctionExpression");var w=v,x=class t extends m{handleMemberExpression(t,e,i){let s=this.visitor.visitNode(t.object),n=this.visitor.visitNode(t.property),a=i(s[n],e);return s[n]=a}handleIdentifier(t,e,i){let s=i(this.visitor.visitNode(t),e);return this.visitor.scope.set(t.name,s),this.visitor.scope.get(t.name)}run(){let{operator:e,left:i,right:s}=this.node,n=this.visitor.visitNode(s),a=t.operatorMap[e];if(a){if("MemberExpression"===i.type)return this.handleMemberExpression(i,n,a);if("Identifier"===i.type)return this.handleIdentifier(i,n,a)}}};n(x,"AssignmentExpression");var k=x;k.operatorMap={"=":n((t,e)=>e,"="),"+=":n((t,e)=>t+e,"+="),"-=":n((t,e)=>t-e,"-="),"*=":n((t,e)=>t*e,"*="),"/=":n((t,e)=>t/e,"/="),"%=":n((t,e)=>t%e,"%="),"**=":n((t,e)=>t**e,"**="),"<<=":n((t,e)=>t<<e,"<<="),">>=":n((t,e)=>t>>e,">>="),">>>=":n((t,e)=>t>>>e,">>>="),"&=":n((t,e)=>t&e,"&="),"^=":n((t,e)=>t^e,"^="),"|=":n((t,e)=>t|e,"|=")};var S=class t extends m{run(){let{operator:e,left:i,right:s}=this.node,n=this.visitor.visitNode(i),a=this.visitor.visitNode(s),o=t.operatorMap[e];if(o)return o(n,a)}};n(S,"BinaryExpression");var C=S;C.operatorMap={"!=":n((t,e)=>t!=e,"!="),"!==":n((t,e)=>t!==e,"!=="),"==":n((t,e)=>t==e,"=="),"===":n((t,e)=>t===e,"==="),"<":n((t,e)=>t<e,"<"),"<=":n((t,e)=>t<=e,"<="),">":n((t,e)=>t>e,">"),">=":n((t,e)=>t>=e,">="),"+":n((t,e)=>t+e,"+"),"-":n((t,e)=>t-e,"-"),"*":n((t,e)=>t*e,"*"),"/":n((t,e)=>t/e,"/"),"%":n((t,e)=>t%e,"%"),"**":n((t,e)=>t**e,"**"),"&":n((t,e)=>t&e,"&"),"|":n((t,e)=>t|e,"|"),"^":n((t,e)=>t^e,"^"),"<<":n((t,e)=>t<<e,"<<"),">>":n((t,e)=>t>>e,">>"),">>>":n((t,e)=>t>>>e,">>>"),in:n((t,e)=>t in e,"in"),instanceof:n((t,e)=>t instanceof e,"instanceof")};var T=class extends m{run(){for(let t of this.node.body){let e=this.visitor.visitNode(t);if("ReturnStatement"===t.type||"$jintr_break_"===e||"$jintr_continue_"===e||("WhileStatement"===t.type||"IfStatement"===t.type||"ForStatement"===t.type||"TryStatement"===t.type)&&e)return e}}};n(T,"BlockStatement");var I=T,E=class extends m{run(){return"$jintr_break_"}};n(E,"BreakStatement");var P,R,A,M=E,L=function(t,e,i,s){if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},D={forEach:n((t,e,i)=>{let s=e;t.length>1&&i.scope.set("_this",t.slice(-1)[0]);let n=0;for(let e of s)t[0]([e,n++,s])},"forEach"),toString:n((t,e)=>e.toString(),"toString")},N=class extends m{constructor(){super(...arguments),P.add(this)}run(){let t,e;if("MemberExpression"===this.node.callee.type?(t=this.visitor.getName(this.node.callee.object),e=this.visitor.getName(this.node.callee.property)):"Identifier"===this.node.callee.type&&(e=this.node.callee.name),t&&this.visitor.listeners[t]){let e=this.visitor.listeners[t](this.node,this.visitor);if("__continue_exec"!==e)return e}if(e&&"toString"!==e&&this.visitor.listeners[e]){let t=this.visitor.listeners[e](this.node,this.visitor);if("__continue_exec"!==t)return t}if("MemberExpression"===this.node.callee.type){let t=this.visitor.visitNode(this.node.callee.object),e=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),i=this.node.arguments.map(t=>this.visitor.visitNode(t));return e in D?D[e](i,t,this.visitor):(t||L(this,P,"m",R).call(this),"function"!=typeof t[e]&&L(this,P,"m",R).call(this),t[e].toString().includes("[native code]")?t[e](...i):t[e](i))}let i=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map(t=>this.visitor.visitNode(t));return"function"!=typeof i&&L(this,P,"m",R).call(this),i(s)}};n(N,"CallExpression");var B=N;P=new WeakSet,R=n(function(){if("MemberExpression"===this.node.callee.type||"Identifier"===this.node.callee.type){let t=L(this,P,"m",A).call(this,this.node.callee);throw new g(`${t} is not a function`)}if("SequenceExpression"===this.node.callee.type){let t=[],e=[];throw t.push("("),this.node.callee.expressions.forEach(t=>{"Literal"===t.type?e.push(t.raw||""):"Identifier"===t.type?e.push(t.name):"MemberExpression"===t.type&&(t.computed?e.push(`${this.visitor.getName(t.object)}[${this.visitor.getName(t.property)||"..."}]`):e.push(`${this.visitor.getName(t.object)}.${this.visitor.getName(t.property)}`))}),t.push(e.join(", ")),t.push(")"),new g(`${t.join("")} is not a function`)}},"_CallExpression_throwError"),A=n(function t(e){if("Identifier"===e.type)return e.name;if("MemberExpression"===e.type){return`${L(this,P,"m",t).call(this,e.object)}${e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`}`}return"<unknown>"},"_CallExpression_getCalleeString");var V=class extends m{run(){let{test:t,consequent:e,alternate:i}=this.node;return this.visitor.visitNode(t)?this.visitor.visitNode(e):this.visitor.visitNode(i)}};n(V,"ConditionalExpression");var O=V,U=class extends m{run(){return"$jintr_continue_"}};n(U,"ContinueStatement");var F=U,H=class extends m{run(){}};n(H,"EmptyStatement");var W=H,j=class extends m{run(){return this.visitor.visitNode(this.node.expression)}};n(j,"ExpressionStatement");var G=j,$=class extends m{run(){this.visitor.visitNode(this.node.left);let t=this.visitor.visitNode(this.node.right);for(let e of t){if("VariableDeclaration"===this.node.left.type&&"Identifier"===this.node.left.declarations[0].id.type)this.visitor.scope.set(this.node.left.declarations[0].id.name,e);else if("VariableDeclaration"===this.node.left.type&&"ObjectPattern"===this.node.left.declarations[0].id.type)for(let t of this.node.left.declarations[0].id.properties)"Property"===t.type&&"Identifier"===t.value.type&&"Identifier"===t.key.type&&this.visitor.scope.set(t.value.name,e[t.key.name]);let t=this.visitor.visitNode(this.node.body);if("$jintr_break_"===t)break;if("$jintr_continue_"!==t&&t&&"ExpressionStatement"!==this.node.body.type)return t}}};n($,"ForOfStatement");var q=$,K=class extends m{run(){this.node.init&&this.visitor.visitNode(this.node.init);let t=n(()=>!this.node.test||this.visitor.visitNode(this.node.test),"test");for(;t();){let t=this.visitor.visitNode(this.node.body);if("$jintr_continue_"!==t){if("$jintr_break_"===t)break;if(this.node.update&&this.visitor.visitNode(this.node.update),t&&"ExpressionStatement"!==this.node.body.type)return t}}}};n(K,"ForStatement");var Y=K,z=class extends m{run(){let{params:t,body:e}=this.node,i=this.visitor.visitNode(this.node.id),s=y(i,i=>{let s=0;for(let e of t)this.visitor.visitNode(e),"Identifier"===e.type&&this.visitor.scope.set(e.name,i[s]),s++;return this.visitor.visitNode(e)});this.visitor.scope.set(i,s)}};n(z,"FunctionDeclaration");var Q=z,X=class extends m{run(){let{params:t,body:e}=this.node;return y("anonymous function",i=>{let s=0;for(let e of t)this.visitor.visitNode(e),"Identifier"===e.type&&this.visitor.scope.set(e.name,i[s]),s++;return this.visitor.visitNode(e)})}};n(X,"FunctionExpression");var J=X,Z=class extends m{run(){if(this.visitor.listeners[this.node.name]){let t=this.visitor.listeners[this.node.name](this.node,this.visitor);if("__continue_exec"!==t)return t}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Z,"Identifier");var tt=Z,et=class extends m{run(){return this.visitor.visitNode(this.node.test)?this.visitor.visitNode(this.node.consequent):this.node.alternate?this.visitor.visitNode(this.node.alternate):void 0}};n(et,"IfStatement");var it=et,st=class extends m{run(){return this.node.value}};n(st,"Literal");var nt=st,at=class t extends m{run(){let{operator:e,left:i,right:s}=this.node,n=t.operatorMap[e];if(n)return n(this.visitor,i,s)}};n(at,"LogicalExpression");var ot=at;ot.operatorMap={"&&":n((t,e,i)=>{let s=t.visitNode(e);return!0===s?t.visitNode(i):s},"&&"),"||":n((t,e,i)=>t.visitNode(e)||t.visitNode(i),"||"),"??":n((t,e,i)=>{let s=n((t,e)=>e&&"undefined"===t?void 0:t,"normalizeUndefined"),a=s(t.visitNode(e),"Identifier"===e.type),o=s(t.visitNode(i),"Identifier"===i.type);return a??o},"??")};var rt=class extends m{run(){let{object:t,property:e,computed:i}=this.node,s=this.visitor.visitNode(t),n=i?this.visitor.visitNode(e):this.visitor.getName(e);if(void 0!==n||null!==n){if(this.visitor.listeners[n]){let t=this.visitor.listeners[n](this.node,this.visitor);if("__continue_exec"!==t)return t}return s?.[n]}}};n(rt,"MemberExpression");var ct=rt,lt=class extends m{run(){let t=this.visitor.visitNode(this.node.callee),e=this.node.arguments.map(t=>this.visitor.visitNode(t));return e.length?new t(e):new t}};n(lt,"NewExpression");var ht=lt,dt=class extends m{run(){let t={};for(let e of this.node.properties){if("Property"!==e.type)throw new Error(`Unhandled property type: ${e.type}`);t={...t,...this.visitor.visitNode(e)}}return t}};n(dt,"ObjectExpression");var ut,pt,mt,_t,ft=dt,yt=function(t,e,i,s){if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},bt=class extends m{constructor(){super(...arguments),ut.add(this)}run(){switch(this.node.kind){case"init":return yt(this,ut,"m",pt).call(this);case"get":return yt(this,ut,"m",mt).call(this);case"set":return yt(this,ut,"m",_t).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(bt,"Property");var gt=bt;ut=new WeakSet,pt=n(function(){let t=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),e=this.visitor.visitNode(this.node.value);if(t)return{[t]:e}},"_Property_init"),mt=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),_t=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var vt=class extends m{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(vt,"ReturnStatement");var wt=vt,xt=class extends m{run(){let t;for(let e of this.node.expressions)t=this.visitor.visitNode(e);return t}};n(xt,"SequenceExpression");var kt=xt,St=class extends m{run(){for(let t of this.node.consequent){let e=this.visitor.visitNode(t);if("ContinueStatement"===t.type||"BreakStatement"===t.type)return e}}};n(St,"SwitchCase");var Ct=St,Tt=class extends m{run(){let t=this.visitor.visitNode(this.node.discriminant),e=!1,i=-1,s=0;for(;;){let n=this.node.cases[s];if(e){let t=this.visitor.visitNode(n);if("$jintr_break_"===t)break;if("$jintr_continue_"===t)return t;if(++s,s>=this.node.cases.length){s=0;break}continue}if(e=n&&t===this.visitor.visitNode(n.test),void 0===e&&s>this.node.cases.length)break;!n||e||n.test?n||e||-1===i?e||++s:(e=!0,s=i):(i=s,s+=1)}}};n(Tt,"SwitchStatement");var It=Tt,Et=class extends m{run(){let t="";for(let e=0;e<this.node.quasis.length;++e){let i=this.node.quasis[e];if("TemplateElement"!==i.type)throw new Error(`Unhandled quasi type: ${i.type}`);if(null===i.value.cooked)throw new Error(`Invalid template literal: ${i.value.raw}`);if(void 0!==i.value.cooked&&(t+=i.value.cooked),!i.tail){let s=this.node.expressions[e];if(void 0===s)throw new Error(`Expected expression after: ${i.value}`);t+=this.visitor.visitNode(s)}}return t}};n(Et,"TemplateLiteral");var Pt=Et,Rt=class extends m{run(){return this.visitor.scope.get("_this")}};n(Rt,"ThisExpression");var At=Rt,Mt=class extends m{run(){throw this.visitor.visitNode(this.node.argument)}};n(Mt,"ThrowStatement");var Lt=Mt,Dt=class extends m{run(){try{return this.visitor.visitNode(this.node.block)}catch(t){if(this.node.handler)return this.node.handler.param&&"Identifier"===this.node.handler.param.type&&this.visitor.scope.set(this.node.handler.param.name,t),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(Dt,"TryStatement");var Nt=Dt,Bt=class t extends m{static isValidOperator(e){return e in t.operatorMap}run(){let{operator:e,argument:i}=this.node;if(t.isValidOperator(e))return t.operatorMap[e](this.visitor,i)}};n(Bt,"UnaryExpression");var Vt=Bt;Vt.operatorMap={"-":n((t,e)=>-t.visitNode(e),"-"),"+":n((t,e)=>+t.visitNode(e),"+"),"!":n((t,e)=>!t.visitNode(e),"!"),"~":n((t,e)=>~t.visitNode(e),"~"),void:n((t,e)=>{t.visitNode(e)},"void"),typeof:n((t,e)=>{let i=t.visitNode(e);return"Identifier"===e.type&&"undefined"===i?"undefined":typeof t.visitNode(e)},"typeof"),delete:n((t,e)=>{if("MemberExpression"===e.type){return delete t.visitNode(e.object)[e.computed?t.visitNode(e.property):t.getName(e.property)]}return"Identifier"!==e.type||!t.scope.has(e.name)||t.scope.delete(e.name)},"delete")};var Ot=class extends m{run(){switch(this.node.operator){case"++":if("MemberExpression"===this.node.argument.type){return this.visitor.visitNode(this.node.argument.object)[this.visitor.visitNode(this.node.argument.property)]++}if("Identifier"===this.node.argument.type){let t=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,t+1),this.node.prefix?++t:t}break;case"--":if("MemberExpression"===this.node.argument.type){return this.visitor.visitNode(this.node.argument.object)[this.visitor.visitNode(this.node.argument.property)]--}if("Identifier"===this.node.argument.type){let t=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,t-1),this.node.prefix?--t:t}}}};n(Ot,"UpdateExpression");var Ut=Ot,Ft=class extends m{run(){this.node.declarations.forEach(t=>{let{id:e,init:i}=t,s=this.visitor.getName(e),n=i?this.visitor.visitNode(i):void 0;s&&this.visitor.scope.set(s,n),"object"==typeof n&&null!==n&&this.visitor.scope.set("_this",n)})}};n(Ft,"VariableDeclaration");var Ht=Ft,Wt=class extends m{run(){for(;this.visitor.visitNode(this.node.test);){let t=this.visitor.visitNode(this.node.body);if("$jintr_break_"===t)break;if("$jintr_continue_"!==t&&t)return t}}};n(Wt,"WhileStatement");var jt,Gt,$t=Wt,qt=class{constructor(){jt.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(t){this.ast=t}run(){let t;for(let e of this.ast)t=this.visitNode(e);return t}visitNode(t){if(!t)return null;let e=function(t,e,i,s){if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)}(this,jt,"m",Gt).call(this,t.type);return e?new e(t,this).run():null}getName(t){return"Identifier"===t.type?t.name:"Literal"===t.type?t.value:void 0}on(t,e){this.listeners[t]=e}};n(qt,"Visitor");var Kt=qt;jt=new WeakSet,Gt=n(function(t){return u[t]},"_Visitor_getNode");var Yt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],zt=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Qt="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Xt={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Jt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Zt={5:Jt,"5module":Jt+" export import",6:Jt+" const class extends export import super"},te=/^in(stanceof)?$/,ee=new RegExp("["+Qt+"]"),ie=new RegExp("["+Qt+"‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･]");function se(t,e){for(var i=65536,s=0;s<e.length;s+=2){if((i+=e[s])>t)return!1;if((i+=e[s+1])>=t)return!0}return!1}function ne(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&ee.test(String.fromCharCode(t)):!1!==e&&se(t,zt)))}function ae(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&ie.test(String.fromCharCode(t)):!1!==e&&(se(t,zt)||se(t,Yt)))))}n(se,"isInAstralSet"),n(ne,"isIdentifierStart"),n(ae,"isIdentifierChar");var oe=n(function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null},"TokenType");function re(t,e){return new oe(t,{beforeExpr:!0,binop:e})}n(re,"binop");var ce={beforeExpr:!0},le={startsExpr:!0},he={};function de(t,e){return void 0===e&&(e={}),e.keyword=t,he[t]=new oe(t,e)}n(de,"kw");var ue={num:new oe("num",le),regexp:new oe("regexp",le),string:new oe("string",le),name:new oe("name",le),privateId:new oe("privateId",le),eof:new oe("eof"),bracketL:new oe("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new oe("]"),braceL:new oe("{",{beforeExpr:!0,startsExpr:!0}),braceR:new oe("}"),parenL:new oe("(",{beforeExpr:!0,startsExpr:!0}),parenR:new oe(")"),comma:new oe(",",ce),semi:new oe(";",ce),colon:new oe(":",ce),dot:new oe("."),question:new oe("?",ce),questionDot:new oe("?."),arrow:new oe("=>",ce),template:new oe("template"),invalidTemplate:new oe("invalidTemplate"),ellipsis:new oe("...",ce),backQuote:new oe("`",le),dollarBraceL:new oe("${",{beforeExpr:!0,startsExpr:!0}),eq:new oe("=",{beforeExpr:!0,isAssign:!0}),assign:new oe("_=",{beforeExpr:!0,isAssign:!0}),incDec:new oe("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new oe("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:re("||",1),logicalAND:re("&&",2),bitwiseOR:re("|",3),bitwiseXOR:re("^",4),bitwiseAND:re("&",5),equality:re("==/!=/===/!==",6),relational:re("</>/<=/>=",7),bitShift:re("<</>>/>>>",8),plusMin:new oe("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:re("%",10),star:re("*",10),slash:re("/",10),starstar:new oe("**",{beforeExpr:!0}),coalesce:re("??",1),_break:de("break"),_case:de("case",ce),_catch:de("catch"),_continue:de("continue"),_debugger:de("debugger"),_default:de("default",ce),_do:de("do",{isLoop:!0,beforeExpr:!0}),_else:de("else",ce),_finally:de("finally"),_for:de("for",{isLoop:!0}),_function:de("function",le),_if:de("if"),_return:de("return",ce),_switch:de("switch"),_throw:de("throw",ce),_try:de("try"),_var:de("var"),_const:de("const"),_while:de("while",{isLoop:!0}),_with:de("with"),_new:de("new",{beforeExpr:!0,startsExpr:!0}),_this:de("this",le),_super:de("super",le),_class:de("class",le),_extends:de("extends",ce),_export:de("export"),_import:de("import",le),_null:de("null",le),_true:de("true",le),_false:de("false",le),_in:de("in",{beforeExpr:!0,binop:7}),_instanceof:de("instanceof",{beforeExpr:!0,binop:7}),_typeof:de("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:de("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:de("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},pe=/\r\n?|\n|\u2028|\u2029/,me=new RegExp(pe.source,"g");function _e(t){return 10===t||13===t||8232===t||8233===t}function fe(t,e,i){void 0===i&&(i=t.length);for(var s=e;s<i;s++){var n=t.charCodeAt(s);if(_e(n))return s<i-1&&13===n&&10===t.charCodeAt(s+1)?s+2:s+1}return-1}n(_e,"isNewLine"),n(fe,"nextLineBreak");var ye=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,be=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ge=Object.prototype,ve=ge.hasOwnProperty,we=ge.toString,xe=Object.hasOwn||function(t,e){return ve.call(t,e)},ke=Array.isArray||function(t){return"[object Array]"===we.call(t)},Se=Object.create(null);function Ce(t){return Se[t]||(Se[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function Te(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}n(Ce,"wordsRegexp"),n(Te,"codePointToString");var Ie=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Ee=n(function(t,e){this.line=t,this.column=e},"Position");Ee.prototype.offset=n(function(t){return new Ee(this.line,this.column+t)},"offset");var Pe=n(function(t,e,i){this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)},"SourceLocation");function Re(t,e){for(var i=1,s=0;;){var n=fe(t,s,e);if(n<0)return new Ee(i,e-s);++i,s=n}}n(Re,"getLineInfo");var Ae={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function Me(t){var e={};for(var i in Ae)e[i]=t&&xe(t,i)?t[i]:Ae[i];if("latest"===e.ecmaVersion?e.ecmaVersion=1e8:null==e.ecmaVersion?e.ecmaVersion=11:e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),(!t||null==t.allowHashBang)&&(e.allowHashBang=e.ecmaVersion>=14),ke(e.onToken)){var s=e.onToken;e.onToken=function(t){return s.push(t)}}return ke(e.onComment)&&(e.onComment=Le(e,e.onComment)),e}function Le(t,e){return function(i,s,n,a,o,r){var c={type:i?"Block":"Line",value:s,start:n,end:a};t.locations&&(c.loc=new Pe(this,o,r)),t.ranges&&(c.range=[n,a]),e.push(c)}}n(Me,"getOptions"),n(Le,"pushComment");var De=256;function Ne(t,e){return 2|(t?4:0)|(e?8:0)}n(Ne,"functionFlags");var Be=n(function(t,e,i){this.options=t=Me(t),this.sourceFile=t.sourceFile,this.keywords=Ce(Zt[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var s="";!0!==t.allowReserved&&(s=Xt[t.ecmaVersion>=6?6:5===t.ecmaVersion?5:3],"module"===t.sourceType&&(s+=" await")),this.reservedWords=Ce(s);var n=(s?s+" ":"")+Xt.strict;this.reservedWordsStrict=Ce(n),this.reservedWordsStrictBind=Ce(n+" "+Xt.strictBind),this.input=String(e),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(pe).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=ue.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},"Parser"),Ve={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Be.prototype.parse=n(function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},"parse"),Ve.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},Ve.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},Ve.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},Ve.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&De)return!1;if(2&e.flags)return(4&e.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Ve.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(64&e)>0||i||this.options.allowSuperOutsideMethod},Ve.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},Ve.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Ve.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(258&e)>0||i},Ve.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&De)>0},Be.extend=n(function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this,s=0;s<t.length;s++)i=t[s](i);return i},"extend"),Be.parse=n(function(t,e){return new this(e,t).parse()},"parse"),Be.parseExpressionAt=n(function(t,e,i){var s=new this(i,t,e);return s.nextToken(),s.parseExpression()},"parseExpressionAt"),Be.tokenizer=n(function(t,e){return new this(e,t)},"tokenizer"),Object.defineProperties(Be.prototype,Ve);var Oe=Be.prototype,Ue=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Oe.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){be.lastIndex=t,t+=be.exec(this.input)[0].length;var e=Ue.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2])){be.lastIndex=t+e[0].length;var i=be.exec(this.input),s=i.index+i[0].length,n=this.input.charAt(s);return";"===n||"}"===n||pe.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||"!"===n&&"="===this.input.charAt(s+1))}t+=e[0].length,be.lastIndex=t,t+=be.exec(this.input)[0].length,";"===this.input[t]&&t++}},Oe.eat=function(t){return this.type===t&&(this.next(),!0)},Oe.isContextual=function(t){return this.type===ue.name&&this.value===t&&!this.containsEsc},Oe.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},Oe.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},Oe.canInsertSemicolon=function(){return this.type===ue.eof||this.type===ue.braceR||pe.test(this.input.slice(this.lastTokEnd,this.start))},Oe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Oe.semicolon=function(){!this.eat(ue.semi)&&!this.insertSemicolon()&&this.unexpected()},Oe.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},Oe.expect=function(t){this.eat(t)||this.unexpected()},Oe.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var Fe=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Oe.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}},Oe.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,s=t.doubleProto;if(!e)return i>=0||s>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),s>=0&&this.raiseRecoverable(s,"Redefinition of __proto__ property")},Oe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Oe.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var He=Be.prototype;He.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==ue.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var s=0,n=Object.keys(this.undefinedExports);s<n.length;s+=1){var a=n[s];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var We={kind:"loop"},je={kind:"switch"};He.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;be.lastIndex=this.pos;var e=be.exec(this.input),i=this.pos+e[0].length,s=this.input.charCodeAt(i);if(91===s||92===s)return!0;if(t)return!1;if(123===s||s>55295&&s<56320)return!0;if(ne(s,!0)){for(var n=i+1;ae(s=this.input.charCodeAt(n),!0);)++n;if(92===s||s>55295&&s<56320)return!0;var a=this.input.slice(i,n);if(!te.test(a))return!0}return!1},He.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;be.lastIndex=this.pos;var t,e=be.exec(this.input),i=this.pos+e[0].length;return!(pe.test(this.input.slice(this.pos,i))||"function"!==this.input.slice(i,i+8)||i+8!==this.input.length&&(ae(t=this.input.charCodeAt(i+8))||t>55295&&t<56320))},He.parseStatement=function(t,e,i){var s,n=this.type,a=this.startNode();switch(this.isLet(t)&&(n=ue._var,s="let"),n){case ue._break:case ue._continue:return this.parseBreakContinueStatement(a,n.keyword);case ue._debugger:return this.parseDebuggerStatement(a);case ue._do:return this.parseDoStatement(a);case ue._for:return this.parseForStatement(a);case ue._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(a,!1,!t);case ue._class:return t&&this.unexpected(),this.parseClass(a,!0);case ue._if:return this.parseIfStatement(a);case ue._return:return this.parseReturnStatement(a);case ue._switch:return this.parseSwitchStatement(a);case ue._throw:return this.parseThrowStatement(a);case ue._try:return this.parseTryStatement(a);case ue._const:case ue._var:return s=s||this.value,t&&"var"!==s&&this.unexpected(),this.parseVarStatement(a,s);case ue._while:return this.parseWhileStatement(a);case ue._with:return this.parseWithStatement(a);case ue.braceL:return this.parseBlock(!0,a);case ue.semi:return this.parseEmptyStatement(a);case ue._export:case ue._import:if(this.options.ecmaVersion>10&&n===ue._import){be.lastIndex=this.pos;var o=be.exec(this.input),r=this.pos+o[0].length,c=this.input.charCodeAt(r);if(40===c||46===c)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===ue._import?this.parseImport(a):this.parseExport(a,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!t);var l=this.value,h=this.parseExpression();return n===ue.name&&"Identifier"===h.type&&this.eat(ue.colon)?this.parseLabeledStatement(a,l,h,t):this.parseExpressionStatement(a,h)}},He.parseBreakContinueStatement=function(t,e){var i="break"===e;this.next(),this.eat(ue.semi)||this.insertSemicolon()?t.label=null:this.type!==ue.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var s=0;s<this.labels.length;++s){var n=this.labels[s];if((null==t.label||n.name===t.label.name)&&(null!=n.kind&&(i||"loop"===n.kind)||t.label&&i))break}return s===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},He.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},He.parseDoStatement=function(t){return this.next(),this.labels.push(We),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(ue._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(ue.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},He.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(We),this.enterScope(0),this.expect(ue.parenL),this.type===ue.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===ue._var||this.type===ue._const||i){var s=this.startNode(),n=i?"let":this.value;return this.next(),this.parseVar(s,!0,n),this.finishNode(s,"VariableDeclaration"),(this.type===ue._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===s.declarations.length?(this.options.ecmaVersion>=9&&(this.type===ue._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,s)):(e>-1&&this.unexpected(e),this.parseFor(t,s))}var a=this.isContextual("let"),o=!1,r=this.containsEsc,c=new Fe,l=this.start,h=e>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===ue._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===ue._in&&this.unexpected(e),t.await=!0):o&&this.options.ecmaVersion>=8&&(h.start!==l||r||"Identifier"!==h.type||"async"!==h.name?this.options.ecmaVersion>=9&&(t.await=!1):this.unexpected()),a&&o&&this.raise(h.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(h,!1,c),this.checkLValPattern(h),this.parseForIn(t,h)):(this.checkExpressionErrors(c,!0),e>-1&&this.unexpected(e),this.parseFor(t,h))},He.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,$e|(i?0:qe),!1,e)},He.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(ue._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},He.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(ue.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},He.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(ue.braceL),this.labels.push(je),this.enterScope(0);for(var e,i=!1;this.type!==ue.braceR;)if(this.type===ue._case||this.type===ue._default){var s=this.type===ue._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),s?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(ue.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},He.parseThrowStatement=function(t){return this.next(),pe.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var Ge=[];He.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e="Identifier"===t.type;return this.enterScope(e?32:0),this.checkLValPattern(t,e?4:2),this.expect(ue.parenR),t},He.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===ue._catch){var e=this.startNode();this.next(),this.eat(ue.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(ue._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},He.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")},He.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(We),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},He.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},He.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},He.parseLabeledStatement=function(t,e,i,s){for(var n=0,a=this.labels;n<a.length;n+=1){a[n].name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===ue._switch?"switch":null,r=this.labels.length-1;r>=0;r--){var c=this.labels[r];if(c.statementStart!==t.start)break;c.statementStart=this.start,c.kind=o}return this.labels.push({name:e,kind:o,statementStart:this.start}),t.body=this.parseStatement(s?-1===s.indexOf("label")?s+"label":s:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},He.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},He.parseBlock=function(t,e,i){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(ue.braceL),t&&this.enterScope(0);this.type!==ue.braceR;){var s=this.parseStatement(null);e.body.push(s)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},He.parseFor=function(t,e){return t.init=e,this.expect(ue.semi),t.test=this.type===ue.semi?null:this.parseExpression(),this.expect(ue.semi),t.update=this.type===ue.parenR?null:this.parseExpression(),this.expect(ue.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},He.parseForIn=function(t,e){var i=this.type===ue._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(ue.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")},He.parseVar=function(t,e,i,s){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(ue.eq)?n.init=this.parseMaybeAssign(e):s||"const"!==i||this.type===ue._in||this.options.ecmaVersion>=6&&this.isContextual("of")?s||"Identifier"===n.id.type||e&&(this.type===ue._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(ue.comma))break}return t},He.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?1:2,!1)};var $e=1,qe=2;function Ke(t,e){var i=e.key.name,s=t[i],n="true";return"MethodDefinition"===e.type&&("get"===e.kind||"set"===e.kind)&&(n=(e.static?"s":"i")+e.kind),"iget"===s&&"iset"===n||"iset"===s&&"iget"===n||"sget"===s&&"sset"===n||"sset"===s&&"sget"===n?(t[i]="true",!1):!!s||(t[i]=n,!1)}function Ye(t,e){var i=t.computed,s=t.key;return!i&&("Identifier"===s.type&&s.name===e||"Literal"===s.type&&s.value===e)}He.parseFunction=function(t,e,i,s,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!s)&&(this.type===ue.star&&e&qe&&this.unexpected(),t.generator=this.eat(ue.star)),this.options.ecmaVersion>=8&&(t.async=!!s),e&$e&&(t.id=4&e&&this.type!==ue.name?null:this.parseIdent(),t.id&&!(e&qe)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var a=this.yieldPos,o=this.awaitPos,r=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ne(t.async,t.generator)),e&$e||(t.id=this.type===ue.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,n),this.yieldPos=a,this.awaitPos=o,this.awaitIdentPos=r,this.finishNode(t,e&$e?"FunctionDeclaration":"FunctionExpression")},He.parseFunctionParams=function(t){this.expect(ue.parenL),t.params=this.parseBindingList(ue.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},He.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var s=this.enterClassBody(),n=this.startNode(),a=!1;for(n.body=[],this.expect(ue.braceL);this.type!==ue.braceR;){var o=this.parseClassElement(null!==t.superClass);o&&(n.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind?(a&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),a=!0):o.key&&"PrivateIdentifier"===o.key.type&&Ke(s,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},He.parseClassElement=function(t){if(this.eat(ue.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),s="",n=!1,a=!1,o="method",r=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(ue.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===ue.star?r=!0:s="static"}if(i.static=r,!s&&e>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==ue.star||this.canInsertSemicolon()?s="async":a=!0),!s&&(e>=9||!a)&&this.eat(ue.star)&&(n=!0),!s&&!a&&!n){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=c:s=c)}if(s?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=s,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===ue.parenL||"method"!==o||n||a){var l=!i.static&&Ye(i,"constructor"),h=l&&t;l&&"method"!==o&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=l?"constructor":o,this.parseClassMethod(i,n,a,h)}else this.parseClassField(i);return i},He.isClassElementNameStart=function(){return this.type===ue.name||this.type===ue.privateId||this.type===ue.num||this.type===ue.string||this.type===ue.bracketL||this.type.keyword},He.parseClassElementName=function(t){this.type===ue.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},He.parseClassMethod=function(t,e,i,s){var n=t.key;"constructor"===t.kind?(e&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method")):t.static&&Ye(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,s);return"get"===t.kind&&0!==a.params.length&&this.raiseRecoverable(a.start,"getter should have no params"),"set"===t.kind&&1!==a.params.length&&this.raiseRecoverable(a.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===a.params[0].type&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},He.parseClassField=function(t){if(Ye(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Ye(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(ue.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")},He.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(320);this.type!==ue.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")},He.parseClassId=function(t,e){this.type===ue.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},He.parseClassSuper=function(t){t.superClass=this.eat(ue._extends)?this.parseExprSubscripts(null,!1):null},He.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},He.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var s=this.privateNameStack.length,n=0===s?null:this.privateNameStack[s-1],a=0;a<i.length;++a){var o=i[a];xe(e,o.name)||(n?n.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}},n(Ke,"isPrivateNameConflicted"),n(Ye,"checkKeyName"),He.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==ue.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")},He.parseExport=function(t,e){if(this.next(),this.eat(ue.star))return this.parseExportAllDeclaration(t,e);if(this.eat(ue._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==ue.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,s=t.specifiers;i<s.length;i+=1){var n=s[i];this.checkUnreserved(n.local),this.checkLocalExport(n.local),"Literal"===n.local.type&&this.raise(n.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},He.parseExportDeclaration=function(t){return this.parseStatement(null)},He.parseExportDefaultDeclaration=function(){var t;if(this.type===ue._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,4|$e,!1,t)}if(this.type===ue._class){var i=this.startNode();return this.parseClass(i,"nullableID")}var s=this.parseMaybeAssign();return this.semicolon(),s},He.checkExport=function(t,e,i){t&&("string"!=typeof e&&(e="Identifier"===e.type?e.name:e.value),xe(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)},He.checkPatternExport=function(t,e){var i=e.type;if("Identifier"===i)this.checkExport(t,e,e.start);else if("ObjectPattern"===i)for(var s=0,n=e.properties;s<n.length;s+=1){var a=n[s];this.checkPatternExport(t,a)}else if("ArrayPattern"===i)for(var o=0,r=e.elements;o<r.length;o+=1){var c=r[o];c&&this.checkPatternExport(t,c)}else"Property"===i?this.checkPatternExport(t,e.value):"AssignmentPattern"===i?this.checkPatternExport(t,e.left):"RestElement"===i&&this.checkPatternExport(t,e.argument)},He.checkVariableExport=function(t,e){if(t)for(var i=0,s=e;i<s.length;i+=1){var n=s[i];this.checkPatternExport(t,n.id)}},He.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},He.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")},He.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(ue.braceL);!this.eat(ue.braceR);){if(i)i=!1;else if(this.expect(ue.comma),this.afterTrailingComma(ue.braceR))break;e.push(this.parseExportSpecifier(t))}return e},He.parseImport=function(t){return this.next(),this.type===ue.string?(t.specifiers=Ge,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===ue.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},He.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportSpecifier")},He.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportDefaultSpecifier")},He.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportNamespaceSpecifier")},He.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===ue.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(ue.comma)))return t;if(this.type===ue.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(ue.braceL);!this.eat(ue.braceR);){if(e)e=!1;else if(this.expect(ue.comma),this.afterTrailingComma(ue.braceR))break;t.push(this.parseImportSpecifier())}return t},He.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===ue.string){var t=this.parseLiteral(this.value);return Ie.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)},He.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},He.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var ze=Be.prototype;ze.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var s=0,n=t.properties;s<n.length;s+=1){var a=n[s];this.toAssignable(a,e),"RestElement"===a.type&&("ArrayPattern"===a.argument.type||"ObjectPattern"===a.argument.type)&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t},ze.toAssignableList=function(t,e){for(var i=t.length,s=0;s<i;s++){var n=t[s];n&&this.toAssignable(n,e)}if(i){var a=t[i-1];6===this.options.ecmaVersion&&e&&a&&"RestElement"===a.type&&"Identifier"!==a.argument.type&&this.unexpected(a.argument.start)}return t},ze.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},ze.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==ue.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},ze.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case ue.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(ue.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case ue.braceL:return this.parseObj(!0)}return this.parseIdent()},ze.parseBindingList=function(t,e,i,s){for(var n=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(ue.comma),e&&this.type===ue.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===ue.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),n.push(o),this.type===ue.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}n.push(this.parseAssignableListItem(s))}return n},ze.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e},ze.parseBindingListItem=function(t){return t},ze.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(ue.eq))return i;var s=this.startNodeAt(t,e);return s.left=i,s.right=this.parseMaybeAssign(),this.finishNode(s,"AssignmentPattern")},ze.checkLValSimple=function(t,e,i){void 0===e&&(e=0);var s=0!==e;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(s?"Binding ":"Assigning to ")+t.name+" in strict mode"),s&&(2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(xe(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),5!==e&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":s&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return s&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(s?"Binding":"Assigning to")+" rvalue")}},ze.checkLValPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"ObjectPattern":for(var s=0,n=t.properties;s<n.length;s+=1){var a=n[s];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var o=0,r=t.elements;o<r.length;o+=1){var c=r[o];c&&this.checkLValInnerPattern(c,e,i)}break;default:this.checkLValSimple(t,e,i)}},ze.checkLValInnerPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Qe=n(function(t,e,i,s,n){this.token=t,this.isExpr=!!e,this.preserveSpace=!!i,this.override=s,this.generator=!!n},"TokContext"),Xe={b_stat:new Qe("{",!1),b_expr:new Qe("{",!0),b_tmpl:new Qe("${",!1),p_stat:new Qe("(",!1),p_expr:new Qe("(",!0),q_tmpl:new Qe("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Qe("function",!1),f_expr:new Qe("function",!0),f_expr_gen:new Qe("function",!0,!1,null,!0),f_gen:new Qe("function",!1,!1,null,!0)},Je=Be.prototype;Je.initialContext=function(){return[Xe.b_stat]},Je.curContext=function(){return this.context[this.context.length-1]},Je.braceIsBlock=function(t){var e=this.curContext();return e===Xe.f_expr||e===Xe.f_stat||(t!==ue.colon||e!==Xe.b_stat&&e!==Xe.b_expr?t===ue._return||t===ue.name&&this.exprAllowed?pe.test(this.input.slice(this.lastTokEnd,this.start)):t===ue._else||t===ue.semi||t===ue.eof||t===ue.parenR||t===ue.arrow||(t===ue.braceL?e===Xe.b_stat:t!==ue._var&&t!==ue._const&&t!==ue.name&&!this.exprAllowed):!e.isExpr)},Je.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},Je.updateContext=function(t){var e,i=this.type;i.keyword&&t===ue.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},Je.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)},ue.parenR.updateContext=ue.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===Xe.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},ue.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Xe.b_stat:Xe.b_expr),this.exprAllowed=!0},ue.dollarBraceL.updateContext=function(){this.context.push(Xe.b_tmpl),this.exprAllowed=!0},ue.parenL.updateContext=function(t){var e=t===ue._if||t===ue._for||t===ue._with||t===ue._while;this.context.push(e?Xe.p_stat:Xe.p_expr),this.exprAllowed=!0},ue.incDec.updateContext=function(){},ue._function.updateContext=ue._class.updateContext=function(t){!t.beforeExpr||t===ue._else||t===ue.semi&&this.curContext()!==Xe.p_stat||t===ue._return&&pe.test(this.input.slice(this.lastTokEnd,this.start))||(t===ue.colon||t===ue.braceL)&&this.curContext()===Xe.b_stat?this.context.push(Xe.f_stat):this.context.push(Xe.f_expr),this.exprAllowed=!1},ue.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},ue.backQuote.updateContext=function(){this.curContext()===Xe.q_tmpl?this.context.pop():this.context.push(Xe.q_tmpl),this.exprAllowed=!1},ue.star.updateContext=function(t){if(t===ue._function){var e=this.context.length-1;this.context[e]===Xe.f_expr?this.context[e]=Xe.f_expr_gen:this.context[e]=Xe.f_gen}this.exprAllowed=!0},ue.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==ue.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Ze=Be.prototype;function ti(t){return"Identifier"===t.type||"ParenthesizedExpression"===t.type&&ti(t.expression)}function ei(t){return"MemberExpression"===t.type&&"PrivateIdentifier"===t.property.type||"ChainExpression"===t.type&&ei(t.expression)||"ParenthesizedExpression"===t.type&&ei(t.expression)}Ze.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type||this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var s,n=t.key;switch(n.type){case"Identifier":s=n.name;break;case"Literal":s=String(n.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===s&&"init"===a&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0));var o=e[s="$"+s];if(o)("init"===a?this.strict&&o.init||o.get||o.set:o.init||o[a])&&this.raiseRecoverable(n.start,"Redefinition of property");else o=e[s]={init:!1,get:!1,set:!1};o[a]=!0}},Ze.parseExpression=function(t,e){var i=this.start,s=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===ue.comma){var a=this.startNodeAt(i,s);for(a.expressions=[n];this.eat(ue.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return n},Ze.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var s=!1,n=-1,a=-1,o=-1;e?(n=e.parenthesizedAssign,a=e.trailingComma,o=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Fe,s=!0);var r=this.start,c=this.startLoc;(this.type===ue.parenL||this.type===ue.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===t);var l=this.parseMaybeConditional(t,e);if(i&&(l=i.call(this,l,r,c)),this.type.isAssign){var h=this.startNodeAt(r,c);return h.operator=this.value,this.type===ue.eq&&(l=this.toAssignable(l,!1,e)),s||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=l.start&&(e.shorthandAssign=-1),this.type===ue.eq?this.checkLValPattern(l):this.checkLValSimple(l),h.left=l,this.next(),h.right=this.parseMaybeAssign(t),o>-1&&(e.doubleProto=o),this.finishNode(h,"AssignmentExpression")}return s&&this.checkExpressionErrors(e,!0),n>-1&&(e.parenthesizedAssign=n),a>-1&&(e.trailingComma=a),l},Ze.parseMaybeConditional=function(t,e){var i=this.start,s=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(ue.question)){var a=this.startNodeAt(i,s);return a.test=n,a.consequent=this.parseMaybeAssign(),this.expect(ue.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return n},Ze.parseExprOps=function(t,e){var i=this.start,s=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===i&&"ArrowFunctionExpression"===n.type?n:this.parseExprOp(n,i,s,-1,t)},Ze.parseExprOp=function(t,e,i,s,n){var a=this.type.binop;if(null!=a&&(!n||this.type!==ue._in)&&a>s){var o=this.type===ue.logicalOR||this.type===ue.logicalAND,r=this.type===ue.coalesce;r&&(a=ue.logicalAND.binop);var c=this.value;this.next();var l=this.start,h=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),l,h,a,n),u=this.buildBinary(e,i,t,d,c,o||r);return(o&&this.type===ue.coalesce||r&&(this.type===ue.logicalOR||this.type===ue.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(u,e,i,s,n)}return t},Ze.buildBinary=function(t,e,i,s,n,a){"PrivateIdentifier"===s.type&&this.raise(s.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(t,e);return o.left=i,o.operator=n,o.right=s,this.finishNode(o,a?"LogicalExpression":"BinaryExpression")},Ze.parseMaybeUnary=function(t,e,i,s){var n,a=this.start,o=this.startLoc;if(this.isContextual("await")&&this.canAwait)n=this.parseAwait(s),e=!0;else if(this.type.prefix){var r=this.startNode(),c=this.type===ue.incDec;r.operator=this.value,r.prefix=!0,this.next(),r.argument=this.parseMaybeUnary(null,!0,c,s),this.checkExpressionErrors(t,!0),c?this.checkLValSimple(r.argument):this.strict&&"delete"===r.operator&&ti(r.argument)?this.raiseRecoverable(r.start,"Deleting local variable in strict mode"):"delete"===r.operator&&ei(r.argument)?this.raiseRecoverable(r.start,"Private fields can not be deleted"):e=!0,n=this.finishNode(r,c?"UpdateExpression":"UnaryExpression")}else if(e||this.type!==ue.privateId){if(n=this.parseExprSubscripts(t,s),this.checkExpressionErrors(t))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(a,o);l.operator=this.value,l.prefix=!1,l.argument=n,this.checkLValSimple(n),this.next(),n=this.finishNode(l,"UpdateExpression")}}else(s||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),n=this.parsePrivateIdent(),this.type!==ue._in&&this.unexpected();return i||!this.eat(ue.starstar)?n:e?void this.unexpected(this.lastTokStart):this.buildBinary(a,o,n,this.parseMaybeUnary(null,!1,!1,s),"**",!1)},n(ti,"isLocalVariableAccess"),n(ei,"isPrivateFieldAccess"),Ze.parseExprSubscripts=function(t,e){var i=this.start,s=this.startLoc,n=this.parseExprAtom(t,e);if("ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return n;var a=this.parseSubscripts(n,i,s,!1,e);return t&&"MemberExpression"===a.type&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a},Ze.parseSubscripts=function(t,e,i,s,n){for(var a=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,o=!1;;){var r=this.parseSubscript(t,e,i,s,a,o,n);if(r.optional&&(o=!0),r===t||"ArrowFunctionExpression"===r.type){if(o){var c=this.startNodeAt(e,i);c.expression=r,r=this.finishNode(c,"ChainExpression")}return r}t=r}},Ze.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(ue.arrow)},Ze.parseSubscriptAsyncArrow=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,s)},Ze.parseSubscript=function(t,e,i,s,n,a,o){var r=this.options.ecmaVersion>=11,c=r&&this.eat(ue.questionDot);s&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(ue.bracketL);if(l||c&&this.type!==ue.parenL&&this.type!==ue.backQuote||this.eat(ue.dot)){var h=this.startNodeAt(e,i);h.object=t,l?(h.property=this.parseExpression(),this.expect(ue.bracketR)):this.type===ue.privateId&&"Super"!==t.type?h.property=this.parsePrivateIdent():h.property=this.parseIdent("never"!==this.options.allowReserved),h.computed=!!l,r&&(h.optional=c),t=this.finishNode(h,"MemberExpression")}else if(!s&&this.eat(ue.parenL)){var d=new Fe,u=this.yieldPos,p=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var _=this.parseExprList(ue.parenR,this.options.ecmaVersion>=8,!1,d);if(n&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=u,this.awaitPos=p,this.awaitIdentPos=m,this.parseSubscriptAsyncArrow(e,i,_,o);this.checkExpressionErrors(d,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var f=this.startNodeAt(e,i);f.callee=t,f.arguments=_,r&&(f.optional=c),t=this.finishNode(f,"CallExpression")}else if(this.type===ue.backQuote){(c||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(e,i);y.tag=t,y.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(y,"TaggedTemplateExpression")}return t},Ze.parseExprAtom=function(t,e,i){this.type===ue.slash&&this.readRegexp();var s,n=this.potentialArrowAt===this.start;switch(this.type){case ue._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),s=this.startNode(),this.next(),this.type===ue.parenL&&!this.allowDirectSuper&&this.raise(s.start,"super() call outside constructor of a subclass"),this.type!==ue.dot&&this.type!==ue.bracketL&&this.type!==ue.parenL&&this.unexpected(),this.finishNode(s,"Super");case ue._this:return s=this.startNode(),this.next(),this.finishNode(s,"ThisExpression");case ue.name:var a=this.start,o=this.startLoc,r=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!r&&"async"===c.name&&!this.canInsertSemicolon()&&this.eat(ue._function))return this.overrideContext(Xe.f_expr),this.parseFunction(this.startNodeAt(a,o),0,!1,!0,e);if(n&&!this.canInsertSemicolon()){if(this.eat(ue.arrow))return this.parseArrowExpression(this.startNodeAt(a,o),[c],!1,e);if(this.options.ecmaVersion>=8&&"async"===c.name&&this.type===ue.name&&!r&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(ue.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,o),[c],!0,e)}return c;case ue.regexp:var l=this.value;return(s=this.parseLiteral(l.value)).regex={pattern:l.pattern,flags:l.flags},s;case ue.num:case ue.string:return this.parseLiteral(this.value);case ue._null:case ue._true:case ue._false:return(s=this.startNode()).value=this.type===ue._null?null:this.type===ue._true,s.raw=this.type.keyword,this.next(),this.finishNode(s,"Literal");case ue.parenL:var h=this.start,d=this.parseParenAndDistinguishExpression(n,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),d;case ue.bracketL:return s=this.startNode(),this.next(),s.elements=this.parseExprList(ue.bracketR,!0,!0,t),this.finishNode(s,"ArrayExpression");case ue.braceL:return this.overrideContext(Xe.b_expr),this.parseObj(!1,t);case ue._function:return s=this.startNode(),this.next(),this.parseFunction(s,0);case ue._class:return this.parseClass(this.startNode(),!1);case ue._new:return this.parseNew();case ue.backQuote:return this.parseTemplate();case ue._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}},Ze.parseExprAtomDefault=function(){this.unexpected()},Ze.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===ue.parenL&&!t)return this.parseDynamicImport(e);if(this.type===ue.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}this.unexpected()},Ze.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(ue.parenR)){var e=this.start;this.eat(ue.comma)&&this.eat(ue.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},Ze.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},Ze.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},Ze.parseParenExpression=function(){this.expect(ue.parenL);var t=this.parseExpression();return this.expect(ue.parenR),t},Ze.shouldParseArrow=function(t){return!this.canInsertSemicolon()},Ze.parseParenAndDistinguishExpression=function(t,e){var i,s=this.start,n=this.startLoc,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,r=this.start,c=this.startLoc,l=[],h=!0,d=!1,u=new Fe,p=this.yieldPos,m=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==ue.parenR;){if(h?h=!1:this.expect(ue.comma),a&&this.afterTrailingComma(ue.parenR,!0)){d=!0;break}if(this.type===ue.ellipsis){o=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===ue.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var _=this.lastTokEnd,f=this.lastTokEndLoc;if(this.expect(ue.parenR),t&&this.shouldParseArrow(l)&&this.eat(ue.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=m,this.parseParenArrowList(s,n,l,e);(!l.length||d)&&this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(u,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=m||this.awaitPos,l.length>1?((i=this.startNodeAt(r,c)).expressions=l,this.finishNodeAt(i,"SequenceExpression",_,f)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(s,n);return y.expression=i,this.finishNode(y,"ParenthesizedExpression")}return i},Ze.parseParenItem=function(t){return t},Ze.parseParenArrowList=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,s)};var ii=[];Ze.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===ue.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var s=this.start,n=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),s,n,!0,!1),this.eat(ue.parenL)?t.arguments=this.parseExprList(ue.parenR,this.options.ecmaVersion>=8,!1):t.arguments=ii,this.finishNode(t,"NewExpression")},Ze.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===ue.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,"\n"),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),i.tail=this.type===ue.backQuote,this.finishNode(i,"TemplateElement")},Ze.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var s=this.parseTemplateElement({isTagged:e});for(i.quasis=[s];!s.tail;)this.type===ue.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(ue.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(ue.braceR),i.quasis.push(s=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")},Ze.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===ue.name||this.type===ue.num||this.type===ue.string||this.type===ue.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===ue.star)&&!pe.test(this.input.slice(this.lastTokEnd,this.start))},Ze.parseObj=function(t,e){var i=this.startNode(),s=!0,n={};for(i.properties=[],this.next();!this.eat(ue.braceR);){if(s)s=!1;else if(this.expect(ue.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(ue.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,n,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},Ze.parseProperty=function(t,e){var i,s,n,a,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(ue.ellipsis))return t?(o.argument=this.parseIdent(!1),this.type===ue.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,e),this.type===ue.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(t||e)&&(n=this.start,a=this.startLoc),t||(i=this.eat(ue.star)));var r=this.containsEsc;return this.parsePropertyName(o),!t&&!r&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(o)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(ue.star),this.parsePropertyName(o)):s=!1,this.parsePropertyValue(o,t,i,s,n,a,e,r),this.finishNode(o,"Property")},Ze.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e="get"===t.kind?0:1;if(t.value.params.length!==e){var i=t.value.start;"get"===t.kind?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")},Ze.parsePropertyValue=function(t,e,i,s,n,a,o,r){(i||s)&&this.type===ue.colon&&this.unexpected(),this.eat(ue.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),t.kind="init"):this.options.ecmaVersion>=6&&this.type===ue.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,s)):e||r||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===ue.comma||this.type===ue.braceR||this.type===ue.eq?this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((i||s)&&this.unexpected(),this.checkUnreserved(t.key),"await"===t.key.name&&!this.awaitIdentPos&&(this.awaitIdentPos=n),t.kind="init",e?t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key)):this.type===ue.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected():((i||s)&&this.unexpected(),this.parseGetterSetter(t))},Ze.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(ue.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(ue.bracketR),t.key;t.computed=!1}return t.key=this.type===ue.num||this.type===ue.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Ze.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},Ze.parseMethod=function(t,e,i){var s=this.startNode(),n=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=t),this.options.ecmaVersion>=8&&(s.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|Ne(e,s.generator)|(i?128:0)),this.expect(ue.parenL),s.params=this.parseBindingList(ue.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1,!0,!1),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(s,"FunctionExpression")},Ze.parseArrowExpression=function(t,e,i,s){var n=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|Ne(i,!1)),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,s),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(t,"ArrowFunctionExpression")},Ze.parseFunctionBody=function(t,e,i,s){var n=e&&this.type!==ue.braceL,a=this.strict,o=!1;if(n)t.body=this.parseMaybeAssign(s),t.expression=!0,this.checkParams(t,!1);else{var r=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||r)&&((o=this.strictDirective(this.end))&&r&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(t,!a&&!o&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,5),t.body=this.parseBlock(!1,void 0,o&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=c}this.exitScope()},Ze.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){if("Identifier"!==i[e].type)return!1}return!0},Ze.checkParams=function(t,e){for(var i=Object.create(null),s=0,n=t.params;s<n.length;s+=1){var a=n[s];this.checkLValInnerPattern(a,1,e?null:i)}},Ze.parseExprList=function(t,e,i,s){for(var n=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(ue.comma),e&&this.afterTrailingComma(t))break;var o=void 0;i&&this.type===ue.comma?o=null:this.type===ue.ellipsis?(o=this.parseSpread(s),s&&this.type===ue.comma&&s.trailingComma<0&&(s.trailingComma=this.start)):o=this.parseMaybeAssign(!1,s),n.push(o)}return n},Ze.checkUnreserved=function(t){var e=t.start,i=t.end,s=t.name;(this.inGenerator&&"yield"===s&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===s&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===s&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===s||"await"===s)&&this.raise(e,"Cannot use "+s+" in class static initialization block"),this.keywords.test(s)&&this.raise(e,"Unexpected keyword '"+s+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,i).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(s)&&(!this.inAsync&&"await"===s&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+s+"' is reserved"))},Ze.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),"await"===e.name&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e},Ze.parseIdentNode=function(){var t=this.startNode();return this.type===ue.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,("class"===t.name||"function"===t.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop(),this.type=ue.name):this.unexpected(),t},Ze.parsePrivateIdent=function(){var t=this.startNode();return this.type===ue.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t},Ze.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===ue.semi||this.canInsertSemicolon()||this.type!==ue.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(ue.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},Ze.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var si=Be.prototype;si.raise=function(t,e){var i=Re(this.input,t);e+=" ("+i.line+":"+i.column+")";var s=new SyntaxError(e);throw s.pos=t,s.loc=i,s.raisedAt=this.pos,s},si.raiseRecoverable=si.raise,si.curPosition=function(){if(this.options.locations)return new Ee(this.curLine,this.pos-this.lineStart)};var ni=Be.prototype,ai=n(function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");ni.enterScope=function(t){this.scopeStack.push(new ai(t))},ni.exitScope=function(){this.scopeStack.pop()},ni.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},ni.declareName=function(t,e,i){var s=!1;if(2===e){var n=this.currentScope();s=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&1&n.flags&&delete this.undefinedExports[t]}else if(4===e){this.currentScope().lexical.push(t)}else if(3===e){var a=this.currentScope();s=this.treatFunctionsAsVar?a.lexical.indexOf(t)>-1:a.lexical.indexOf(t)>-1||a.var.indexOf(t)>-1,a.functions.push(t)}else for(var o=this.scopeStack.length-1;o>=0;--o){var r=this.scopeStack[o];if(r.lexical.indexOf(t)>-1&&!(32&r.flags&&r.lexical[0]===t)||!this.treatFunctionsAsVarInScope(r)&&r.functions.indexOf(t)>-1){s=!0;break}if(r.var.push(t),this.inModule&&1&r.flags&&delete this.undefinedExports[t],259&r.flags)break}s&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")},ni.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},ni.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},ni.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(259&e.flags)return e}},ni.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(259&e.flags&&!(16&e.flags))return e}};var oi=n(function(t,e,i){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new Pe(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},"Node"),ri=Be.prototype;function ci(t,e,i,s){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=s),this.options.ranges&&(t.range[1]=i),t}ri.startNode=function(){return new oi(this,this.start,this.startLoc)},ri.startNodeAt=function(t,e){return new oi(this,t,e)},n(ci,"finishNodeAt"),ri.finishNode=function(t,e){return ci.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},ri.finishNodeAt=function(t,e,i,s){return ci.call(this,t,e,i,s)},ri.copyNode=function(t){var e=new oi(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var li="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",hi=li+" Extended_Pictographic",di=hi+" EBase EComp EMod EPres ExtPict",ui={9:li,10:hi,11:hi,12:di,13:di,14:di},pi={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},mi="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",_i="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",fi=_i+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",yi=fi+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",bi=yi+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",gi=bi+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",vi={9:_i,10:fi,11:yi,12:bi,13:gi,14:gi+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz"},wi={};function xi(t){var e=wi[t]={binary:Ce(ui[t]+" "+mi),binaryOfStrings:Ce(pi[t]),nonBinary:{General_Category:Ce(mi),Script:Ce(vi[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(n(xi,"buildUnicodeData"),ki=0,Si=[9,10,11,12,13,14];ki<Si.length;ki+=1)xi(Si[ki]);var ki,Si,Ci=Be.prototype,Ti=n(function(t,e){this.parent=t,this.base=e||this},"BranchID");Ti.prototype.separatedFrom=n(function(t){for(var e=this;e;e=e.parent)for(var i=t;i;i=i.parent)if(e.base===i.base&&e!==i)return!0;return!1},"separatedFrom"),Ti.prototype.sibling=n(function(){return new Ti(this.parent,this.base)},"sibling");var Ii=n(function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=wi[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");function Ei(t){for(var e in t)return!0;return!1}function Pi(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function Ri(t){return ne(t,!0)||36===t||95===t}function Ai(t){return ae(t,!0)||36===t||95===t||8204===t||8205===t}function Mi(t){return t>=65&&t<=90||t>=97&&t<=122}function Li(t){return t>=0&&t<=1114111}Ii.prototype.reset=n(function(t,e,i){var s=-1!==i.indexOf("v"),n=-1!==i.indexOf("u");this.start=0|t,this.source=e+"",this.flags=i,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=n&&this.parser.options.ecmaVersion>=9)},"reset"),Ii.prototype.raise=n(function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},"raise"),Ii.prototype.at=n(function(t,e){void 0===e&&(e=!1);var i=this.source,s=i.length;if(t>=s)return-1;var n=i.charCodeAt(t);if(!e&&!this.switchU||n<=55295||n>=57344||t+1>=s)return n;var a=i.charCodeAt(t+1);return a>=56320&&a<=57343?(n<<10)+a-56613888:n},"at"),Ii.prototype.nextIndex=n(function(t,e){void 0===e&&(e=!1);var i=this.source,s=i.length;if(t>=s)return s;var n,a=i.charCodeAt(t);return!e&&!this.switchU||a<=55295||a>=57344||t+1>=s||(n=i.charCodeAt(t+1))<56320||n>57343?t+1:t+2},"nextIndex"),Ii.prototype.current=n(function(t){return void 0===t&&(t=!1),this.at(this.pos,t)},"current"),Ii.prototype.lookahead=n(function(t){return void 0===t&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},"lookahead"),Ii.prototype.advance=n(function(t){void 0===t&&(t=!1),this.pos=this.nextIndex(this.pos,t)},"advance"),Ii.prototype.eat=n(function(t,e){return void 0===e&&(e=!1),this.current(e)===t&&(this.advance(e),!0)},"eat"),Ii.prototype.eatChars=n(function(t,e){void 0===e&&(e=!1);for(var i=this.pos,s=0,n=t;s<n.length;s+=1){var a=n[s],o=this.at(i,e);if(-1===o||o!==a)return!1;i=this.nextIndex(i,e)}return this.pos=i,!0},"eatChars"),Ci.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,s=!1,n=!1,a=0;a<i.length;a++){var o=i.charAt(a);-1===e.indexOf(o)&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(o,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),"u"===o&&(s=!0),"v"===o&&(n=!0)}this.options.ecmaVersion>=15&&s&&n&&this.raise(t.start,"Invalid regular expression flag")},n(Ei,"hasProp"),Ci.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&Ei(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))},Ci.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var s=i[e];t.groupNames[s]||t.raise("Invalid named capture referenced")}},Ci.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new Ti(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},Ci.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},Ci.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},Ci.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1},Ci.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},Ci.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},Ci.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var s=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return-1!==n&&n<s&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1},Ci.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},Ci.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},Ci.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},Ci.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},Ci.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},Ci.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},Ci.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!Pi(e)&&(t.lastIntValue=e,t.advance(),!0)},n(Pi,"isSyntaxCharacter"),Ci.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;-1!==(i=t.current())&&!Pi(i);)t.advance();return t.pos!==e},Ci.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e)&&(t.advance(),!0)},Ci.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var s=0,n=i;s<n.length;s+=1){n[s].separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}},Ci.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},Ci.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Te(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Te(t.lastIntValue);return!0}return!1},Ci.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),92===s&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),Ri(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)},n(Ri,"isRegExpIdentifierStart"),Ci.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),92===s&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),Ai(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)},n(Ai,"isRegExpIdentifierPart"),Ci.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},Ci.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1},Ci.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},Ci.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},Ci.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},Ci.regexp_eatZero=function(t){return 48===t.current()&&!Fi(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},Ci.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},Ci.regexp_eatControlLetter=function(t){var e=t.current();return!!Mi(e)&&(t.lastIntValue=e%32,t.advance(),!0)},n(Mi,"isControlLetter"),Ci.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){void 0===e&&(e=!1);var i=t.pos,s=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(s&&n>=55296&&n<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(o>=56320&&o<=57343)return t.lastIntValue=1024*(n-55296)+(o-56320)+65536,!0}t.pos=a,t.lastIntValue=n}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&Li(t.lastIntValue))return!0;s&&t.raise("Invalid unicode escape"),t.pos=i}return!1},n(Li,"isValidUnicode"),Ci.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e)&&(t.lastIntValue=e,t.advance(),!0)},Ci.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1};function Di(t){return 100===t||68===t||115===t||83===t||119===t||87===t}function Ni(t){return Mi(t)||95===t}function Bi(t){return Ni(t)||Fi(t)}function Vi(t){return 33===t||t>=35&&t<=38||t>=42&&t<=44||46===t||t>=58&&t<=64||94===t||96===t||126===t}function Oi(t){return 40===t||41===t||45===t||47===t||t>=91&&t<=93||t>=123&&t<=125}function Ui(t){return 33===t||35===t||37===t||38===t||44===t||45===t||t>=58&&t<=62||64===t||96===t||126===t}function Fi(t){return t>=48&&t<=57}function Hi(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Wi(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function ji(t){return t>=48&&t<=55}Ci.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(Di(e))return t.lastIntValue=-1,t.advance(),1;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=80===e)||112===e)){var s;if(t.lastIntValue=-1,t.advance(),t.eat(123)&&(s=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&2===s&&t.raise("Invalid property name"),s;t.raise("Invalid property name")}return 0},n(Di,"isCharacterClassEscape"),Ci.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,s),1}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n)}return 0},Ci.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){xe(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")},Ci.regexp_validateUnicodePropertyNameOrValue=function(t,e){return t.unicodeProperties.binary.test(e)?1:t.switchV&&t.unicodeProperties.binaryOfStrings.test(e)?2:void t.raise("Invalid property name")},Ci.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Ni(e=t.current());)t.lastStringValue+=Te(e),t.advance();return""!==t.lastStringValue},n(Ni,"isUnicodePropertyNameCharacter"),Ci.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";Bi(e=t.current());)t.lastStringValue+=Te(e),t.advance();return""!==t.lastStringValue},n(Bi,"isUnicodePropertyValueCharacter"),Ci.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},Ci.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&2===i&&t.raise("Negated character class may contain strings"),!0}return!1},Ci.regexp_classContents=function(t){return 93===t.current()?1:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),1)},Ci.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(-1===e||-1===i)&&t.raise("Invalid character class"),-1!==e&&-1!==i&&e>i&&t.raise("Range out of order in character class")}}},Ci.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(99===i||ji(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var s=t.current();return 93!==s&&(t.lastIntValue=s,t.advance(),!0)},Ci.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},Ci.regexp_classSetExpression=function(t){var e,i=1;if(!this.regexp_eatClassSetRange(t))if(e=this.regexp_eatClassSetOperand(t)){2===e&&(i=2);for(var s=t.pos;t.eatChars([38,38]);)38!==t.current()&&(e=this.regexp_eatClassSetOperand(t))?2!==e&&(i=1):t.raise("Invalid character in character class");if(s!==t.pos)return i;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(s!==t.pos)return i}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(!(e=this.regexp_eatClassSetOperand(t)))return i;2===e&&(i=2)}},Ci.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var s=t.lastIntValue;return-1!==i&&-1!==s&&i>s&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1},Ci.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?1:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)},Ci.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),s=this.regexp_classContents(t);if(t.eat(93))return i&&2===s&&t.raise("Negated character class may contain strings"),s;t.pos=e}if(t.eat(92)){var n=this.regexp_eatCharacterClassEscape(t);if(n)return n;t.pos=e}return null},Ci.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null},Ci.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)2===this.regexp_classString(t)&&(e=2);return e},Ci.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return 1===e?1:2},Ci.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return!(!this.regexp_eatCharacterEscape(t)&&!this.regexp_eatClassSetReservedPunctuator(t))||(t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1));var i=t.current();return!(i<0||i===t.lookahead()&&Vi(i)||Oi(i))&&(t.advance(),t.lastIntValue=i,!0)},n(Vi,"isClassSetReservedDoublePunctuatorCharacter"),n(Oi,"isClassSetSyntaxCharacter"),Ci.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return!!Ui(e)&&(t.lastIntValue=e,t.advance(),!0)},n(Ui,"isClassSetReservedPunctuator"),Ci.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!Fi(e)&&95!==e)&&(t.lastIntValue=e%32,t.advance(),!0)},Ci.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},Ci.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Fi(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e},n(Fi,"isDecimalDigit"),Ci.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Hi(i=t.current());)t.lastIntValue=16*t.lastIntValue+Wi(i),t.advance();return t.pos!==e},n(Hi,"isHexDigit"),n(Wi,"hexToInt"),Ci.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*i+t.lastIntValue:t.lastIntValue=8*e+i}else t.lastIntValue=e;return!0}return!1},Ci.regexp_eatOctalDigit=function(t){var e=t.current();return ji(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},n(ji,"isOctalDigit"),Ci.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var s=0;s<e;++s){var n=t.current();if(!Hi(n))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+Wi(n),t.advance()}return!0};var Gi=n(function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new Pe(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},"Token"),$i=Be.prototype;function qi(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function Ki(t){return"function"!=typeof BigInt?null:BigInt(t.replace(/_/g,""))}$i.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Gi(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},$i.getToken=function(){return this.next(),new Gi(this)},typeof Symbol<"u"&&($i[Symbol.iterator]=function(){var t=this;return{next:n(function(){var e=t.getToken();return{done:e.type===ue.eof,value:e}},"next")}}),$i.nextToken=function(){var t=this.curContext();return(!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(ue.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},$i.readToken=function(t){return ne(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},$i.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888},$i.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var s=void 0,n=e;(s=fe(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=s;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())},$i.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),s=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!_e(s);)s=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())},$i.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&ye.test(String.fromCharCode(t))))break t;++this.pos}}},$i.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},$i.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(ue.ellipsis)):(++this.pos,this.finishToken(ue.dot))},$i.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(ue.assign,2):this.finishOp(ue.slash,1)},$i.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,s=42===t?ue.star:ue.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++i,s=ue.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(ue.assign,i+1):this.finishOp(s,i)},$i.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(ue.assign,3);return this.finishOp(124===t?ue.logicalOR:ue.logicalAND,2)}return 61===e?this.finishOp(ue.assign,2):this.finishOp(124===t?ue.bitwiseOR:ue.bitwiseAND,1)},$i.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(ue.assign,2):this.finishOp(ue.bitwiseXOR,1)},$i.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!pe.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(ue.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(ue.assign,2):this.finishOp(ue.plusMin,1)},$i.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(ue.assign,i+1):this.finishOp(ue.bitShift,i)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(i=2),this.finishOp(ue.relational,i)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},$i.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(ue.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(ue.arrow)):this.finishOp(61===t?ue.eq:ue.prefix,1)},$i.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(46===e){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(ue.questionDot,2)}if(63===e){if(t>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(ue.assign,3);return this.finishOp(ue.coalesce,2)}}return this.finishOp(ue.question,1)},$i.readToken_numberSign=function(){var t=35;if(this.options.ecmaVersion>=13&&(++this.pos,ne(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(ue.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Te(t)+"'")},$i.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(ue.parenL);case 41:return++this.pos,this.finishToken(ue.parenR);case 59:return++this.pos,this.finishToken(ue.semi);case 44:return++this.pos,this.finishToken(ue.comma);case 91:return++this.pos,this.finishToken(ue.bracketL);case 93:return++this.pos,this.finishToken(ue.bracketR);case 123:return++this.pos,this.finishToken(ue.braceL);case 125:return++this.pos,this.finishToken(ue.braceR);case 58:return++this.pos,this.finishToken(ue.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(ue.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(ue.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Te(t)+"'")},$i.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)},$i.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var s=this.input.charAt(this.pos);if(pe.test(s)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===s)e=!0;else if("]"===s&&e)e=!1;else if("/"===s&&!e)break;t="\\"===s}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(a);var r=this.regexpState||(this.regexpState=new Ii(this));r.reset(i,n,o),this.validateRegExpFlags(r),this.validateRegExpPattern(r);var c=null;try{c=new RegExp(n,o)}catch{}return this.finishToken(ue.regexp,{pattern:n,flags:o,value:c})},$i.readInt=function(t,e,i){for(var s=this.options.ecmaVersion>=12&&void 0===e,n=i&&48===this.input.charCodeAt(this.pos),a=this.pos,o=0,r=0,c=0,l=e??1/0;c<l;++c,++this.pos){var h=this.input.charCodeAt(this.pos),d=void 0;if(s&&95===h)n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===r&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===c&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),r=h;else{if((d=h>=97?h-97+10:h>=65?h-65+10:h>=48&&h<=57?h-48:1/0)>=t)break;r=h,o=o*t+d}}return s&&95===r&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||null!=e&&this.pos-a!==e?null:o},n(qi,"stringToNumber"),n(Ki,"stringToBigInt"),$i.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return null==i&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(i=Ki(this.input.slice(e,this.pos)),++this.pos):ne(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ue.num,i)},$i.readNumber=function(t){var e=this.pos;!t&&null===this.readInt(10,void 0,!0)&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&48===this.input.charCodeAt(e);i&&this.strict&&this.raise(e,"Invalid number");var s=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&110===s){var n=Ki(this.input.slice(e,this.pos));return++this.pos,ne(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ue.num,n)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),46===s&&!i&&(++this.pos,this.readInt(10),s=this.input.charCodeAt(this.pos)),(69===s||101===s)&&!i&&((43===(s=this.input.charCodeAt(++this.pos))||45===s)&&++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),ne(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=qi(this.input.slice(e,this.pos),i);return this.finishToken(ue.num,a)},$i.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},$i.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var s=this.input.charCodeAt(this.pos);if(s===t)break;92===s?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):8232===s||8233===s?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(_e(s)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(ue.string,e)};var Yi={};$i.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==Yi)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},$i.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Yi;this.raise(t,e)},$i.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==ue.template&&this.type!==ue.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(ue.template,t)):36===i?(this.pos+=2,this.finishToken(ue.dollarBraceL)):(++this.pos,this.finishToken(ue.backQuote));if(92===i)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(_e(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},$i.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(ue.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":"\n"===this.input[this.pos+1]&&++this.pos;case"\n":case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1}this.raise(this.start,"Unterminated template")},$i.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Te(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(s,8);return n>255&&(s=s.slice(0,-1),n=parseInt(s,8)),this.pos+=s.length-1,e=this.input.charCodeAt(this.pos),("0"!==s||56===e||57===e)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-s.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return _e(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}},$i.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return null===i&&this.invalidStringToken(e,"Bad character escape sequence"),i},$i.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(ae(n,s))this.pos+=n<=65535?1:2;else{if(92!==n)break;this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(e?ne:ae)(o,s)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Te(o),i=this.pos}e=!1}return t+this.input.slice(i,this.pos)},$i.readWord=function(){var t=this.readWord1(),e=ue.name;return this.keywords.test(t)&&(e=he[t]),this.finishToken(e,t)};function zi(t,e){return Be.parse(t,e)}Be.acorn={Parser:Be,version:"8.12.1",defaultOptions:Ae,Position:Ee,SourceLocation:Pe,getLineInfo:Re,Node:oi,TokenType:oe,tokTypes:ue,keywordTypes:he,TokContext:Qe,tokContexts:Xe,isIdentifierChar:ae,isIdentifierStart:ne,Token:Gi,isNewLine:_e,lineBreak:pe,lineBreakG:me,nonASCIIwhitespace:ye},n(zi,"parse");var Qi,Xi=class t{constructor(){Qi.set(this,[]),this.visitor=new Kt,this.scope=this.visitor.scope,this.scope.set("print",t=>{}),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Number",Number),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(t,e){this.visitor.on(t,(t,i)=>{if("Identifier"===t.type)return e;if("CallExpression"===t.type&&"MemberExpression"===t.callee.type){let s=i.visitNode(t.callee.property),n=t.arguments.map(t=>i.visitNode(t)),a=e[s];return a?a.apply(e,n):"__continue_exec"}return"__continue_exec"})}evaluate(e){let i=t.parseScript(e);return function(t,e,i){if("function"==typeof e||!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(t,i)}(this,Qi,i.body),this.visitor.setAST(function(t,e,i,s){if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)}(this,Qi,"f")),this.visitor.run()}static parseScript(t,e){try{return zi(t,{ecmaVersion:2020,...e||{}})}catch(e){let i=e.message.match(/\((\d+):(\d+)\)/);if(i){let s=parseInt(i[1],10),n=parseInt(i[2],10),a=t.split("\n")[s-1],o=a?a.substring(Math.max(0,n-10),n+10):"";throw new g(`${e.message.replace(/\(.*\)/,"").trim()} at line ${s}, column ${n}: ${o}`,{errorLine:a})}throw new g(e.message)}}};n(Xi,"Jinter");var Ji=Xi;Qi=new WeakMap;a({},{Maybe:()=>vs,Memo:()=>Cs,SuperParsedResult:()=>xs,YTNode:()=>ys,observe:()=>ks});var Zi={};a(Zi,{Level:()=>ts,debug:()=>ls,error:()=>rs,info:()=>cs,setLevel:()=>hs,warn:()=>os,warnOnce:()=>as});var ts={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},es={[ts.ERROR]:(...t)=>{},[ts.WARNING]:(...t)=>{},[ts.INFO]:(...t)=>{},[ts.DEBUG]:(...t)=>{}},is=[ts.WARNING],ss=new Set;function ns(t,e,i){if(!es[t]||!is.includes(t))return;let s=["[YOUTUBEJS]"];e&&s.push(`[${e}]`),es[t](`${s.join("")}:`,...i||[])}n(ns,"doLog");var as=n((t,...e)=>{ss.has(t)||(ns(ts.WARNING,t,e),ss.add(t))},"warnOnce"),os=n((t,...e)=>ns(ts.WARNING,t,e),"warn"),rs=n((t,...e)=>ns(ts.ERROR,t,e),"error"),cs=n((t,...e)=>ns(ts.INFO,t,e),"info"),ls=n((t,...e)=>ns(ts.DEBUG,t,e),"debug");function hs(...t){is=t}n(hs,"setLevel");var ds=Symbol("ObservedArray.isObserved"),us=class{constructor(){o(this,"type"),this.type=this.constructor.type}is(...t){return t.some(t=>this.type===t.type)}as(...t){if(!this.is(...t))throw new ZM(`Cannot cast ${this.type} to one of ${t.map(t=>t.type).join(", ")}`);return this}hasKey(t){return Reflect.has(this,t)}key(t){if(!this.hasKey(t))throw new ZM(`Missing key ${t}`);return new vs(this[t])}};n(us,"YTNode"),o(us,"type","YTNode");var ps,ms,_s,fs,ys=us,bs=class t{constructor(t){l(this,ms),l(this,ps),h(this,ps,t)}get typeof(){return typeof c(this,ps)}string(){return d(this,ms,fs).call(this,"string")}isString(){return d(this,ms,_s).call(this,"string")}number(){return d(this,ms,fs).call(this,"number")}isNumber(){return d(this,ms,_s).call(this,"number")}bigint(){return d(this,ms,fs).call(this,"bigint")}isBigint(){return d(this,ms,_s).call(this,"bigint")}boolean(){return d(this,ms,fs).call(this,"boolean")}isBoolean(){return d(this,ms,_s).call(this,"boolean")}symbol(){return d(this,ms,fs).call(this,"symbol")}isSymbol(){return d(this,ms,_s).call(this,"symbol")}undefined(){return d(this,ms,fs).call(this,"undefined")}isUndefined(){return d(this,ms,_s).call(this,"undefined")}null(){if(null!==c(this,ps))throw new TypeError("Expected null, got "+typeof c(this,ps));return c(this,ps)}isNull(){return null===c(this,ps)}object(){return d(this,ms,fs).call(this,"object")}isObject(){return d(this,ms,_s).call(this,"object")}function(){return d(this,ms,fs).call(this,"function")}isFunction(){return d(this,ms,_s).call(this,"function")}array(){if(!Array.isArray(c(this,ps)))throw new TypeError("Expected array, got "+typeof c(this,ps));return c(this,ps)}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get:(i,s)=>Reflect.has(e,s)?Reflect.get(i,s):new t(Reflect.get(i,s))})}isArray(){return Array.isArray(c(this,ps))}node(){if(!(c(this,ps)instanceof ys))throw new TypeError(`Expected YTNode, got ${c(this,ps).constructor.name}`);return c(this,ps)}isNode(){return c(this,ps)instanceof ys}nodeOfType(...t){return this.node().as(...t)}isNodeOfType(...t){return this.isNode()&&this.node().is(...t)}observed(){if(!this.isObserved())throw new TypeError("Expected ObservedArray, got "+typeof c(this,ps));return c(this,ps)}isObserved(){return c(this,ps)?.[ds]}parsed(){if(!(c(this,ps)instanceof xs))throw new TypeError("Expected SuperParsedResult, got "+typeof c(this,ps));return c(this,ps)}isParsed(){return c(this,ps)instanceof xs}any(){return os("Maybe","This call is not meant to be used outside of debugging. Please use the specific type getter instead."),c(this,ps)}instanceof(t){if(!this.isInstanceof(t))throw new TypeError(`Expected instance of ${t.name}, got ${c(this,ps).constructor.name}`);return c(this,ps)}isInstanceof(t){return c(this,ps)instanceof t}};ps=new WeakMap,ms=new WeakSet,_s=n(function(t){return typeof c(this,ps)===t},"#checkPrimitive"),fs=n(function(t){if(!d(this,ms,_s).call(this,t))throw new TypeError(`Expected ${t}, got ${this.typeof}`);return c(this,ps)},"#assertPrimitive"),n(bs,"Maybe");var gs,vs=bs,ws=class{constructor(t){l(this,gs),h(this,gs,t)}get is_null(){return null===c(this,gs)}get is_array(){return!this.is_null&&Array.isArray(c(this,gs))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return c(this,gs)}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return c(this,gs)}};gs=new WeakMap,n(ws,"SuperParsedResult");var xs=ws;function ks(t){return new Proxy(t,{get:(t,e)=>"get"==e?(e,i)=>t.find((s,n)=>{let a=hL(e,s);return a&&i&&t.splice(n,1),a}):e==ds||("getAll"==e?(e,i)=>t.filter((s,n)=>{let a=hL(e,s);return a&&i&&t.splice(n,1),a}):"matchCondition"==e?e=>t.find(t=>e(t)):"filterType"==e?(...e)=>ks(t.filter(t=>!!t.is(...e))):"firstOfType"==e?(...e)=>t.find(t=>!!t.is(...e)):"first"==e?()=>t[0]:"as"==e?(...e)=>ks(t.map(t=>{if(t.is(...e))return t;throw new ZM(`Expected node of any type ${e.map(t=>t.type).join(", ")}, got ${t.type}`)})):"remove"==e?e=>t.splice(e,1):Reflect.get(t,e))})}n(ks,"observe");var Ss=class extends Map{getType(...t){return ks((t=t.flat()).flatMap(t=>this.get(t.type)||[]))}};n(Ss,"Memo");var Cs=Ss;a({},{AccessibilityContext:()=>Is,AccessibilityData:()=>Ps,Author:()=>qM,ChildElement:()=>v_,CommandContext:()=>Fc,EmojiRun:()=>cr,Format:()=>dP,RendererContext:()=>Wc,SubscriptionButton:()=>AI,Text:()=>mr,TextRun:()=>hr,Thumbnail:()=>or,VideoDetails:()=>pP});var Ts=class{constructor(t){o(this,"label"),this.label=t.label}};n(Ts,"AccessibilityContext");var Is=Ts,Es=class{constructor(t){o(this,"accessibility_identifier"),o(this,"identifier"),o(this,"label"),"accessibilityIdentifier"in t&&(this.accessibility_identifier=t.accessibilityIdentifier),"identifier"in t&&(this.identifier={accessibility_id_type:t.identifier.accessibilityIdType}),"label"in t&&(this.label=t.label)}};n(Es,"AccessibilityData");var Ps=Es,Rs={};a(Rs,{CLIENTS:()=>Ls,CLIENT_NAME_IDS:()=>Ds,INNERTUBE_HEADERS_BASE:()=>Bs,OAUTH:()=>Ms,STREAM_HEADERS:()=>Ns,SUPPORTED_CLIENTS:()=>Vs,URLS:()=>As});var As={YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries-clients6.youtube.com",YT_UPLOAD:"https://upload.youtube.com/",API:{BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"},GOOGLE_SEARCH_BASE:"https://www.google.com/"},Ms={REGEX:{TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')}},Ls={IOS:{NAME:"iOS",VERSION:"20.11.6",USER_AGENT:"com.google.ios.youtube/20.11.6 (iPhone10,4; U; CPU iOS 16_7_7 like Mac OS X)",DEVICE_MODEL:"iPhone10,4",OS_NAME:"iOS",OS_VERSION:"16.7.7.20H330"},WEB:{NAME:"WEB",VERSION:"2.20250222.10.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco",SUGG_EXP_ID:"ytzpb5_e2,ytpo.bo.lqp.elu=1,ytpo.bo.lqp.ecsc=1,ytpo.bo.lqp.mcsc=3,ytpo.bo.lqp.mec=1,ytpo.bo.lqp.rw=0.8,ytpo.bo.lqp.fw=0.2,ytpo.bo.lqp.szp=1,ytpo.bo.lqp.mz=3,ytpo.bo.lqp.al=en_us,ytpo.bo.lqp.zrm=1,ytpo.bo.lqp.er=1,ytpo.bo.ro.erl=1,ytpo.bo.ro.mlus=3,ytpo.bo.ro.erls=3,ytpo.bo.qfo.mlus=3,ytzprp.ppp.e=1,ytzprp.ppp.st=772,ytzprp.ppp.p=5"},MWEB:{NAME:"MWEB",VERSION:"2.20250224.01.00",API_VERSION:"v1"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20250221.11.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20250219.01.00"},ANDROID:{NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME:"TVHTML5",VERSION:"7.20250219.14.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_SIMPLY:{NAME:"TVHTML5_SIMPLY",VERSION:"1.0"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME:"WEB_EMBEDDED_PLAYER",VERSION:"1.20250219.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME:"WEB_CREATOR",VERSION:"1.20241203.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}},Ds={iOS:"5",WEB:"1",MWEB:"2",WEB_KIDS:"76",WEB_REMIX:"67",ANDROID:"3",ANDROID_CREATOR:"14",ANDROID_MUSIC:"21",TVHTML5:"7",TVHTML5_SIMPLY:"74",TVHTML5_SIMPLY_EMBEDDED_PLAYER:"85",WEB_EMBEDDED_PLAYER:"56",WEB_CREATOR:"62"},Ns={accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},Bs={accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"},Vs=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_SIMPLY","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"],Os={};a(Os,{addRuntimeParser:()=>PP,applyCommentsMutations:()=>qP,applyMutations:()=>$P,getDynamicParsers:()=>RP,getParserByName:()=>IP,hasParser:()=>EP,parse:()=>DP,parseActions:()=>jP,parseArray:()=>LP,parseC:()=>FP,parseCommand:()=>OP,parseCommands:()=>UP,parseFormats:()=>GP,parseItem:()=>MP,parseLC:()=>HP,parseRR:()=>WP,parseResponse:()=>AP,sanitizeClassName:()=>TP,setParserErrorHandler:()=>vP,shouldIgnore:()=>CP});var Us={};a(Us,{AboutChannel:()=>xr,AboutChannelView:()=>vr,AccountChannel:()=>Sr,AccountItem:()=>Tr,AccountItemSection:()=>Mr,AccountItemSectionHeader:()=>Er,AccountSectionList:()=>Dr,ActiveAccountHeader:()=>bc,AddBannerToLiveChatCommand:()=>Wb,AddChatItemAction:()=>Gb,AddLiveChatTickerItemAction:()=>qb,AddToPlaylist:()=>Sc,AddToPlaylistCommand:()=>sp,AddToPlaylistEndpoint:()=>B_,AddToPlaylistServiceEndpoint:()=>L_,Alert:()=>Tc,AlertWithButton:()=>Ec,AnchoredSection:()=>JI,AnimatedThumbnailOverlayView:()=>Rc,AppendContinuationItemsAction:()=>Br,AttributionView:()=>Mc,AudioOnlyPlayability:()=>Dc,AuthorCommentBadge:()=>yp,AutomixPreviewVideo:()=>Bc,AvatarStackView:()=>Gc,AvatarView:()=>Oc,BackgroundPromo:()=>Yc,BackstageImage:()=>Qc,BackstagePost:()=>Tl,BackstagePostThread:()=>El,BadgeView:()=>Rl,BrowseEndpoint:()=>U_,BrowseFeedActions:()=>Fl,BrowserMediaSession:()=>Wl,BumperUserEduContentView:()=>Qb,Button:()=>Yo,ButtonCardView:()=>Gl,ButtonView:()=>qc,C4TabbedHeader:()=>Dd,CallToActionButton:()=>Bd,Card:()=>Od,CardCollection:()=>Fd,CarouselHeader:()=>Wd,CarouselItem:()=>Gd,CarouselItemView:()=>Yd,CarouselLockup:()=>cd,CarouselTitleView:()=>Qd,ChangeEngagementPanelVisibilityAction:()=>Or,Channel:()=>Jd,ChannelAboutFullMetadata:()=>tu,ChannelAgeGate:()=>iu,ChannelExternalLinkView:()=>br,ChannelFeaturedContent:()=>nu,ChannelHeaderLinks:()=>Yl,ChannelHeaderLinksView:()=>Ql,ChannelMetadata:()=>ou,ChannelMobileHeader:()=>cu,ChannelOptions:()=>hu,ChannelOwnerEmptyState:()=>uu,ChannelSubMenu:()=>mu,ChannelSwitcherHeader:()=>fu,ChannelSwitcherPage:()=>Yr,ChannelTagline:()=>Ed,ChannelThumbnailWithLink:()=>bu,ChannelVideoPlayer:()=>vu,Chapter:()=>xu,ChildVideo:()=>Su,ChipBarView:()=>Eu,ChipCloud:()=>Mu,ChipCloudChip:()=>Ru,ChipView:()=>Tu,ClientSideToggleMenuItem:()=>Du,ClipAdState:()=>ih,ClipCreation:()=>nh,ClipCreationScrubber:()=>th,ClipCreationTextInput:()=>Jl,ClipSection:()=>oh,CollaboratorInfoCardContent:()=>Bu,CollageHeroImage:()=>Ou,CollectionThumbnailView:()=>tp,CommandExecutorCommand:()=>ir,CommentActionButtons:()=>il,CommentDialog:()=>wp,CommentReplies:()=>kp,CommentReplyDialog:()=>Cp,CommentSimplebox:()=>Np,CommentThread:()=>qp,CommentView:()=>Gp,CommentsEntryPointHeader:()=>Ap,CommentsEntryPointTeaser:()=>Pp,CommentsHeader:()=>Lp,CommentsSimplebox:()=>Ip,CompactChannel:()=>Jp,CompactLink:()=>Rr,CompactMix:()=>om,CompactMovie:()=>cm,CompactPlaylist:()=>hm,CompactStation:()=>um,CompactVideo:()=>od,CompositeVideoPrimaryInfo:()=>mm,ConfirmDialog:()=>fm,ContentMetadataView:()=>bm,ContentPreviewImageView:()=>Fh,ContinuationCommand:()=>op,ContinuationItem:()=>ch,ConversationBar:()=>xm,CopyLink:()=>Sm,CreateCommentEndpoint:()=>W_,CreatePlaylistDialog:()=>tr,CreatePlaylistDialogFormView:()=>Rm,CreatePlaylistServiceEndpoint:()=>$_,CreatorHeart:()=>tl,CreatorHeartView:()=>Jb,DecoratedAvatarView:()=>Mm,DecoratedPlayerBar:()=>Gm,DefaultPromoPanel:()=>qm,DeletePlaylistEndpoint:()=>Y_,DescriptionPreviewView:()=>Ym,DialogHeaderView:()=>Qm,DialogView:()=>h_,DidYouMean:()=>u_,DimChatItemAction:()=>Yb,DislikeButtonView:()=>cl,DismissableDialog:()=>f_,DismissableDialogContentSection:()=>m_,DownloadButton:()=>ml,Dropdown:()=>Jo,DropdownItem:()=>Qo,DropdownView:()=>Tm,DynamicTextView:()=>b_,Element:()=>x_,EmergencyOnebox:()=>S_,EmojiPicker:()=>gp,EmojiPickerCategory:()=>T_,EmojiPickerCategoryButton:()=>E_,EmojiPickerUpsellCategory:()=>A_,EndScreenPlaylist:()=>ty,EndScreenVideo:()=>iy,Endscreen:()=>Qf,EndscreenElement:()=>Jf,EngagementPanelSectionList:()=>Td,EngagementPanelTitleHeader:()=>hh,EomSettingsDisclaimer:()=>Bl,ExpandableMetadata:()=>Rh,ExpandableTab:()=>ny,ExpandableVideoDescriptionBody:()=>xh,ExpandedShelfContents:()=>oy,Factoid:()=>qh,FancyDismissibleDialog:()=>cy,FeedFilterChipBar:()=>hy,FeedNudge:()=>uy,FeedTabbedHeader:()=>my,FeedbackEndpoint:()=>X_,FlexibleActionsView:()=>xl,FormFooterView:()=>i_,GameCard:()=>Th,GameDetails:()=>fy,GetAccountsListInnertubeEndpoint:()=>Z_,GetKidsBlocklistPickerCommand:()=>cp,GetMultiPageMenuAction:()=>Wr,Grid:()=>by,GridChannel:()=>vy,GridHeader:()=>xy,GridMix:()=>Sy,GridMovie:()=>Ty,GridPlaylist:()=>Ey,GridShelfView:()=>Ry,GridShow:()=>By,GridVideo:()=>Oy,GuideCollapsibleEntry:()=>Wy,GuideCollapsibleSectionEntry:()=>Gy,GuideDownloadsEntry:()=>qy,GuideEntry:()=>Fy,GuideSection:()=>Yy,GuideSubscriptionsSection:()=>Qy,HashtagHeader:()=>Jy,HashtagTile:()=>tb,HeatMarker:()=>Dm,Heatmap:()=>Om,HeroPlaylistThumbnail:()=>ib,HideEngagementPanelEndpoint:()=>sf,HighlightsCarousel:()=>ob,HistorySuggestion:()=>hb,HorizontalCardList:()=>Gh,HorizontalList:()=>Eh,HorizontalMovieList:()=>ub,HowThisWasMadeSectionView:()=>vd,HypePointsFactoid:()=>Jh,IconLink:()=>mb,ImageBannerView:()=>fb,IncludingResultsFor:()=>bb,InfoPanelContainer:()=>xb,InfoPanelContent:()=>vb,InfoRow:()=>nd,InteractiveTabbedHeader:()=>Sb,ItemSection:()=>Db,ItemSectionHeader:()=>Tb,ItemSectionTab:()=>Eb,ItemSectionTabbedHeader:()=>Rb,KidsBlocklistPicker:()=>iE,KidsBlocklistPickerItem:()=>tE,KidsCategoriesHeader:()=>oE,KidsCategoryTab:()=>nE,KidsHomeScreen:()=>cE,LikeButton:()=>vl,LikeButtonView:()=>ol,LikeEndpoint:()=>of,ListItemView:()=>o_,ListView:()=>c_,LiveChat:()=>Bb,LiveChatActionPanel:()=>qg,LiveChatAuthorBadge:()=>Tg,LiveChatAutoModMessage:()=>tg,LiveChatBanner:()=>Fb,LiveChatBannerChatSummary:()=>ig,LiveChatBannerHeader:()=>Ob,LiveChatBannerPoll:()=>ng,LiveChatBannerRedirect:()=>og,LiveChatDialog:()=>Ev,LiveChatHeader:()=>Rv,LiveChatItemBumperView:()=>cg,LiveChatItemContextMenuEndpoint:()=>lf,LiveChatItemList:()=>Mv,LiveChatMembershipItem:()=>hg,LiveChatMessageInput:()=>Dv,LiveChatModeChangeMessage:()=>ug,LiveChatPaidMessage:()=>fg,LiveChatPaidSticker:()=>bg,LiveChatParticipant:()=>Bv,LiveChatParticipantsList:()=>Ov,LiveChatPlaceholderItem:()=>vg,LiveChatProductItem:()=>xg,LiveChatRestrictedParticipation:()=>Sg,LiveChatSponsorshipsGiftPurchaseAnnouncement:()=>Rg,LiveChatSponsorshipsGiftRedemptionAnnouncement:()=>Mg,LiveChatSponsorshipsHeader:()=>Eg,LiveChatTextMessage:()=>Dg,LiveChatTickerPaidMessageItem:()=>Bg,LiveChatTickerPaidStickerItem:()=>Og,LiveChatTickerSponsorItem:()=>Fg,LiveChatViewerEngagementMessage:()=>Wg,LockupMetadataView:()=>Fv,LockupView:()=>Wv,MacroMarkersInfoItem:()=>uh,MacroMarkersList:()=>fh,MacroMarkersListEntity:()=>Gv,MacroMarkersListItem:()=>mh,MarkChatItemAsDeletedAction:()=>Yg,MarkChatItemsByAuthorAsDeletedAction:()=>Qg,Menu:()=>Sl,MenuFlexibleItem:()=>bl,MenuNavigationItem:()=>qv,MenuPopup:()=>Yv,MenuServiceItem:()=>ul,MenuServiceItemDownload:()=>fl,MenuTitle:()=>vc,MerchandiseItem:()=>cw,MerchandiseShelf:()=>hw,Message:()=>vm,MetadataBadge:()=>Mh,MetadataRow:()=>uw,MetadataRowContainer:()=>mw,MetadataRowHeader:()=>fw,MetadataScreen:()=>bw,MicroformatData:()=>vw,Mix:()=>xw,MobileTopbar:()=>rk,ModalWithTitleAndButton:()=>Sw,ModifyChannelNotificationPreferenceEndpoint:()=>uf,Movie:()=>Tw,MovingThumbnail:()=>Ew,MultiMarkersPlayerBar:()=>Wm,MultiPageMenu:()=>Fr,MultiPageMenuNotificationSection:()=>Jv,MultiPageMenuSection:()=>lk,MusicCardShelf:()=>Fw,MusicCardShelfHeaderBasic:()=>Rw,MusicCarouselShelf:()=>px,MusicCarouselShelfBasicHeader:()=>Ww,MusicDescriptionShelf:()=>_x,MusicDetailHeader:()=>yx,MusicDownloadStateBadge:()=>gx,MusicEditablePlaylistDetailHeader:()=>wx,MusicElementHeader:()=>kx,MusicHeader:()=>Cx,MusicImmersiveHeader:()=>Ix,MusicInlineBadge:()=>Mw,MusicItemThumbnailOverlay:()=>Bw,MusicLargeCardItemCarousel:()=>Lx,MusicMenuItemDivider:()=>tw,MusicMultiRowListItem:()=>Gw,MusicMultiSelectMenu:()=>nw,MusicMultiSelectMenuItem:()=>iw,MusicNavigationButton:()=>qw,MusicPlayButton:()=>Dw,MusicPlaylistEditHeader:()=>Nx,MusicPlaylistShelf:()=>Vx,MusicQueue:()=>$x,MusicResponsiveHeader:()=>Kx,MusicResponsiveListItem:()=>lx,MusicResponsiveListItemFixedColumn:()=>Yw,MusicResponsiveListItemFlexColumn:()=>rx,MusicShelf:()=>zx,MusicSideAlignedItem:()=>Xx,MusicSortFilterButton:()=>Zx,MusicTastebuilderShelf:()=>sk,MusicTastebuilderShelfThumbnail:()=>ek,MusicThumbnail:()=>Ow,MusicTwoRowItem:()=>dx,MusicVisualHeader:()=>ak,NavigationEndpoint:()=>nr,Notification:()=>Qv,NotificationAction:()=>yk,OpenOnePickAddVideoModalCommand:()=>gk,OpenPopupAction:()=>qo,PageHeader:()=>kk,PageHeaderView:()=>wk,PageIntroduction:()=>Ck,PanelFooterView:()=>Jm,PdgCommentChip:()=>Yp,PdgReplyButtonView:()=>mg,PerformCommentActionEndpoint:()=>_f,PivotBar:()=>dk,PivotBarItem:()=>pk,PivotButton:()=>Ik,PlayerAnnotationsExpanded:()=>Pk,PlayerCaptionsTracklist:()=>Ak,PlayerControlsOverlay:()=>Nk,PlayerErrorMessage:()=>Vk,PlayerLegacyDesktopYpcOffer:()=>Uk,PlayerLegacyDesktopYpcTrailer:()=>jk,PlayerLiveStoryboardSpec:()=>$k,PlayerMicroformat:()=>Kk,PlayerOverflow:()=>Lk,PlayerOverlay:()=>eS,PlayerOverlayAutoplay:()=>zk,PlayerOverlayVideoDetails:()=>Xk,PlayerStoryboardSpec:()=>Zs,Playlist:()=>nm,PlaylistAddToOption:()=>xc,PlaylistCustomThumbnail:()=>tm,PlaylistEditEndpoint:()=>bf,PlaylistHeader:()=>sS,PlaylistInfoCardContent:()=>aS,PlaylistMetadata:()=>rS,PlaylistPanel:()=>jx,PlaylistPanelVideo:()=>Ux,PlaylistPanelVideoWrapper:()=>Hx,PlaylistSidebar:()=>lS,PlaylistSidebarPrimaryInfo:()=>dS,PlaylistSidebarSecondaryInfo:()=>pS,PlaylistThumbnailOverlay:()=>_S,PlaylistVideo:()=>yS,PlaylistVideoList:()=>gS,PlaylistVideoThumbnail:()=>im,Poll:()=>wS,PollHeader:()=>Gg,Post:()=>kS,PostMultiImage:()=>CS,PrefetchWatchCommand:()=>kf,PremiereTrailerBadge:()=>IS,ProductList:()=>bh,ProductListHeader:()=>PS,ProductListItem:()=>AS,ProfileColumn:()=>LS,ProfileColumnStats:()=>NS,ProfileColumnStatsEntry:()=>VS,ProfileColumnUserInfo:()=>US,Quiz:()=>HS,RecognitionShelf:()=>jS,ReelItem:()=>$S,ReelPlayerHeader:()=>KS,ReelPlayerOverlay:()=>zS,ReelShelf:()=>xd,ReelWatchEndpoint:()=>Tf,RelatedChipCloud:()=>XS,RemoveBannerForLiveChatCommand:()=>Jg,RemoveChatItemAction:()=>tv,RemoveChatItemByAuthorAction:()=>iv,ReplaceChatItemAction:()=>nv,ReplaceLiveChatAction:()=>ov,ReplayChatItemAction:()=>cv,RichGrid:()=>ZS,RichItem:()=>eC,RichListHeader:()=>sC,RichMetadata:()=>aC,RichMetadataRow:()=>rC,RichSection:()=>lC,RichShelf:()=>dC,RunAttestationCommand:()=>hp,SearchBox:()=>Ol,SearchEndpoint:()=>Pf,SearchFilter:()=>pC,SearchFilterGroup:()=>_C,SearchFilterOptionsDialog:()=>yC,SearchHeader:()=>gC,SearchRefinementCard:()=>Sh,SearchSubMenu:()=>wC,SearchSuggestion:()=>cb,SearchSuggestionsSection:()=>kC,SecondarySearchContainer:()=>IC,SectionHeaderView:()=>PC,SectionList:()=>vh,SegmentedLikeDislikeButton:()=>AC,SegmentedLikeDislikeButtonView:()=>hl,SendFeedbackAction:()=>Gr,SettingBoolean:()=>LC,SettingsCheckbox:()=>NC,SettingsOptions:()=>UC,SettingsSidebar:()=>HC,SettingsSwitch:()=>VC,ShareEndpoint:()=>Lf,ShareEntityEndpoint:()=>Nf,ShareEntityServiceEndpoint:()=>Af,SharePanelHeader:()=>$C,SharePanelTitleV15:()=>KC,ShareTarget:()=>zC,SharedPost:()=>jC,Shelf:()=>XC,ShortsLockupView:()=>ZC,ShowCustomThumbnail:()=>My,ShowDialogCommand:()=>up,ShowEngagementPanelEndpoint:()=>Vf,ShowLiveChatActionPanelAction:()=>hv,ShowLiveChatDialogAction:()=>uv,ShowLiveChatTooltipCommand:()=>mv,ShowingResultsFor:()=>eT,SignalAction:()=>qr,SignalServiceEndpoint:()=>Ff,SimpleCardContent:()=>sT,SimpleCardTeaser:()=>aT,SimpleMenuHeader:()=>ow,SimpleTextSection:()=>rT,SingleActionEmergencySupport:()=>lT,SingleColumnBrowseResults:()=>pT,SingleColumnMusicWatchNextResults:()=>_T,SingleHeroImage:()=>yT,SlimOwner:()=>gT,SlimVideoMetadata:()=>wT,SortFilterHeader:()=>Mb,SortFilterSubMenu:()=>Jr,SponsorCommentBadge:()=>Qp,StartAt:()=>kT,StructuredDescriptionContent:()=>Sd,StructuredDescriptionPlaylistLockup:()=>md,SubFeedOption:()=>Ml,SubFeedSelector:()=>Dl,SubscribeButton:()=>Md,SubscribeButtonView:()=>n_,SubscribeEndpoint:()=>jf,SubscriptionNotificationToggleButton:()=>Rd,Tab:()=>dT,Tabbed:()=>CT,TabbedSearchResults:()=>IT,TextCarouselItemView:()=>qd,TextFieldView:()=>Em,TextHeader:()=>PT,ThirdPartyShareTargetSection:()=>AT,ThumbnailBadgeView:()=>Wu,ThumbnailBottomOverlayView:()=>Qu,ThumbnailHoverOverlayToggleActionsView:()=>qu,ThumbnailHoverOverlayView:()=>Fu,ThumbnailLandscapePortrait:()=>LT,ThumbnailOverlayBadgeView:()=>Gu,ThumbnailOverlayBottomPanel:()=>Dy,ThumbnailOverlayEndorsement:()=>NT,ThumbnailOverlayHoverText:()=>VT,ThumbnailOverlayInlineUnplayable:()=>UT,ThumbnailOverlayLoadingPreview:()=>HT,ThumbnailOverlayNowPlaying:()=>jT,ThumbnailOverlayPinking:()=>$T,ThumbnailOverlayPlaybackStatus:()=>KT,ThumbnailOverlayProgressBarView:()=>Yu,ThumbnailOverlayResumePlayback:()=>zT,ThumbnailOverlaySidePanel:()=>XT,ThumbnailOverlayTimeStatus:()=>Dh,ThumbnailOverlayToggleButton:()=>ZT,ThumbnailView:()=>Ju,TimedMarkerDecoration:()=>Bm,TitleAndButtonListHeader:()=>eI,ToggleButton:()=>Jc,ToggleButtonView:()=>nl,ToggleFormField:()=>sI,ToggleMenuServiceItem:()=>aI,Tooltip:()=>rI,TopbarMenuButton:()=>_k,TopicChannelDetails:()=>lI,Transcript:()=>uc,TranscriptFooter:()=>tc,TranscriptSearchBox:()=>ic,TranscriptSearchPanel:()=>hc,TranscriptSectionHeader:()=>nc,TranscriptSegment:()=>oc,TranscriptSegmentList:()=>cc,TwoColumnBrowseResults:()=>dI,TwoColumnSearchResults:()=>_I,TwoColumnWatchNextResults:()=>yI,UnifiedSharePanel:()=>gI,UniversalWatchCard:()=>CC,UnsubscribeEndpoint:()=>qf,UpdateChannelSwitcherPageAction:()=>Qr,UpdateDateTextAction:()=>fv,UpdateDescriptionAction:()=>bv,UpdateEngagementPanelAction:()=>mc,UpdateEngagementPanelContentCommand:()=>_p,UpdateLiveChatPollAction:()=>vv,UpdateSubscribeButtonAction:()=>fc,UpdateTitleAction:()=>xv,UpdateToggleButtonTextAction:()=>Sv,UpdateViewershipAction:()=>Tv,UploadTimeFactoid:()=>Yh,UpsellDialog:()=>wI,VerticalList:()=>kI,VerticalWatchCardList:()=>CI,Video:()=>Bh,VideoAttributeView:()=>Wh,VideoAttributesSectionView:()=>bd,VideoCard:()=>Oh,VideoDescriptionCourseSection:()=>fd,VideoDescriptionHeader:()=>td,VideoDescriptionInfocardsSection:()=>id,VideoDescriptionMusicSection:()=>hd,VideoDescriptionTranscriptSection:()=>ud,VideoInfoCardContent:()=>II,VideoMetadataCarouselView:()=>PI,VideoOwner:()=>LI,VideoPrimaryInfo:()=>VI,VideoSecondaryInfo:()=>UI,VideoViewCount:()=>NI,ViewCountFactoid:()=>Qh,VoiceReplyContainerView:()=>Op,WatchCardCompactVideo:()=>HI,WatchCardHeroVideo:()=>jI,WatchCardRichHeader:()=>$I,WatchCardSectionSequence:()=>KI,WatchEndpoint:()=>vf,WatchNextEndScreen:()=>Zk,WatchNextEndpoint:()=>Yf,WatchNextTabbedResults:()=>zI,YpcTrailer:()=>Hk});var Fs;Fs=new WeakMap,n(class{constructor(t,e){l(this,Fs),h(this,Fs,new zM.shim.Cache(t,e))}get cache_dir(){return c(this,Fs).cache_dir}get(t){return c(this,Fs).get(t)}set(t,e){return c(this,Fs).set(t,e)}remove(t){return c(this,Fs).remove(t)}},"UniversalCache");var Hs,Ws=class extends EventTarget{constructor(){super(),l(this,Hs,new Map)}emit(t,...e){let i=new zM.shim.CustomEvent(t,{detail:e});this.dispatchEvent(i)}on(t,e){let i=n(t=>{t instanceof zM.shim.CustomEvent?e(...t.detail):e(t)},"wrapper");c(this,Hs).set(e,i),this.addEventListener(t,i)}once(t,e){let i=n(i=>{i instanceof zM.shim.CustomEvent?e(...i.detail):e(i),this.off(t,e)},"wrapper");c(this,Hs).set(e,i),this.addEventListener(t,i)}off(t,e){let i=c(this,Hs).get(e);i&&(this.removeEventListener(t,i),c(this,Hs).delete(e))}};Hs=new WeakMap,n(Ws,"EventEmitterLike");var js=Ws,Gs={};a(Gs,{chooseFormat:()=>Ln,download:()=>Mn,toDash:()=>An});var $s={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function qs(t){return t.replace(/([&"<>'])/g,(t,e)=>$s[e])}function Ks(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ys(t,e,...i){let s=i.flat();return"function"==typeof t?t({...e,children:s}):{type:Ks(t),props:{...e,children:s}}}async function zs(t){if("string"==typeof t)return qs(t);let e=`<${t.type}`;if(t.props)for(let i of Object.keys(t.props))"children"!==i&&void 0!==t.props[i]&&(e+=` ${i}="${qs(`${t.props[i]}`)}"`);if(t.props.children){let i=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(t=>!!t).map(t=>zs(t)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}async function Qs(t){return`<?xml version="1.0" encoding="utf-8"?>${await zs(await t)}`}function Xs(t){return t.children}n(qs,"escapeXMLString"),n(Ks,"normalizeTag"),n(Ys,"createElement"),n(zs,"renderElementToString"),n(Qs,"renderToString"),n(Xs,"Fragment");var Js=class extends ys{constructor(t){super(),o(this,"boards");let e=t.spec.split("|"),i=new URL(e.shift());this.boards=e.map((t,e)=>{let[s,n,a,o,r,c,l,h]=t.split("#");i.searchParams.set("sigh",h);let d=Math.ceil(parseInt(a,10)/(parseInt(o,10)*parseInt(r,10)));return{type:"vod",template_url:i.toString().replace("$L",e).replace("$N",l),thumbnail_width:parseInt(s,10),thumbnail_height:parseInt(n,10),thumbnail_count:parseInt(a,10),interval:parseInt(c,10),columns:parseInt(o,10),rows:parseInt(r,10),storyboard_count:d}})}};n(Js,"PlayerStoryboardSpec"),o(Js,"type","PlayerStoryboardSpec");var Zs=Js,tn={name:"youtubei.js",version:"15.1.2",description:"A JavaScript client for YouTube's private API, known as InnerTube.",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{deno:"./dist/src/platform/deno.js",node:{import:"./dist/src/platform/node.js",default:"./dist/src/platform/node.js"},types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./bundle/react-native.js",default:"./dist/src/platform/web.js"},"./package.json":"./package.json","./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],scripts:{test:"vitest run --reporter verbose",lint:"eslint ./src","lint:fix":"eslint --fix ./src","clean:source-maps":"rimraf ./bundle/browser.js.map ./bundle/cf-worker.js.map ./bundle/react-native.js.map","clean:build-output":"rimraf ./dist ./bundle/browser.js ./bundle/cf-worker.js ./bundle/react-native.js ./deno",build:"npm run clean:build-output && npm run clean:source-maps && npm run build:parser-map && npm run build:esm && npm run bundle:browser && npm run bundle:cf-worker && npm run bundle:react-native:prod","build:dev":"npm run clean:build-output && npm run clean:source-maps && npm run build:parser-map && npm run build:esm && npm run bundle:browser && npm run bundle:cf-worker && npm run bundle:react-native","build:esm":"tspc","build:deno":'cpy ./src ./deno && cpy ./protos ./deno && esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && cpy ./package.json ./deno && replace ".js\';" ".ts\';" ./deno -r && replace \'.js";\' \'.ts";\' ./deno -r && replace "\'./DashManifest.ts\';" "\'./DashManifest.js\';" ./deno -r && replace "\'jintr\';" "\'jsr:@luanrt/jintr\';" ./deno -r && replace "@bufbuild/protobuf/wire" "https://esm.sh/@bufbuild/protobuf@2.0.0/wire" ./deno -r',"build:proto":"rimraf ./protos/generated && node ./dev-scripts/generate-proto.mjs","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","bundle:browser":'esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --sourcemap --target=chrome70 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"esbuild ./dist/src/platform/react-native.js --bundle --sourcemap --target=es2020 --keep-names --format=esm --platform=neutral --define:global=globalThis --conditions=module --minify --tree-shaking=true --legal-comments=none --drop:debugger --outfile=./bundle/react-native.js","bundle:react-native:prod":"esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --define:global=globalThis --conditions=module --minify --tree-shaking=true --legal-comments=none --drop:debugger --drop:console --pure:console.log --pure:console.warn --pure:console.info --pure:console.debug --outfile=./bundle/react-native.js","bundle:react-native:analyze":"esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --define:global=globalThis --conditions=module --minify --tree-shaking=true --legal-comments=none --metafile=./bundle/react-native-meta.json --outfile=./bundle/react-native.js && node analyze-bundle.cjs","bundle:cf-worker":'esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --sourcemap --target=es2020 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',"build:docs":"typedoc",prepare:"npm run build",watch:"tspc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},files:["dist/","bundle/","package.json","README.md","LICENSE"],license:"MIT",dependencies:{"@bufbuild/protobuf":"^2.0.0",jintr:"^3.3.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@eslint/js":"^9.9.0","@types/estree":"^1.0.6","@types/glob":"^8.1.0","@types/node":"^24.0.14","cpy-cli":"^4.2.0",esbuild:"^0.25.6",eslint:"^9.9.0",glob:"^8.0.3",globals:"^15.9.0",replace:"^1.2.2",rimraf:"^6.0.1","ts-patch":"^3.0.2","ts-proto":"^2.2.0",typedoc:"^0.26.7","typedoc-plugin-markdown":"^4.2.7",typescript:"^5.0.0","typescript-eslint":"^8.2.0",vitest:"^3.2.4"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["api","youtube","innertube","livechat","youtube-music","ytdl","youtube-studio","downloader","ytmusic"]},en="StreamingInfo";function sn(t,e){let i=new Map,s=t.some(t=>!!t.audio_track);for(let s of t){if(!(s.index_range&&s.init_range||s.is_type_otf||e))continue;let t=s.mime_type.split(";")[0],n=dL(s.mime_type,'codecs="','"')?.split(".")[0],a=`${t}-${n}-${s.color_info?Object.values(s.color_info).join("-"):""}-${s.audio_track?.id||""}-${s.is_drc?"drc":""}`;i.has(a)||i.set(a,[]),i.get(a)?.push(s)}return{groups:Array.from(i.values()),has_multiple_audio_tracks:s}}function nn(t,e){if(t.length>1&&1===new Set(t.map(t=>dL(t.mime_type,'codecs="','"'))).size)return e.push("codecs"),dL(t[0].mime_type,'codecs="','"')}function an(t,e,i){if(t.length>1&&1===new Set(t.map(t=>t.fps)).size)return i.push(e),Number(t[0][e])}function on(t,e){if(t.length>1&&1===new Set(t.map(t=>t.audio_channels||2)).size)return e.push("AudioChannelConfiguration"),t[0].audio_channels}async function rn(t,e){let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Ns,redirect:"follow"}),s=i.url.replace("&rn=0","").replace("&sq=0",""),n=await i.text(),a=dL(n,"Segment-Durations-Ms:","\r\n")?.split(",");if(!a)throw new XM("Failed to extract the segment durations from this OTF stream",{url:t});let o=[];for(let t of a){let e=t.trim();if(0===e.length)continue;let i,s=dL(e,"(r=",")");s&&(i=parseInt(s)),o.push({duration:parseInt(e),repeat_count:i})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:o}}async function cn(t,e){let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Ns,redirect:"follow"}),s=parseInt(i.headers.get("X-Head-Time-Millis")||""),n=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(s)||isNaN(n))throw new XM("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:s/1e3,segment_count:n}}async function ln(t,e,i,s,n,a){if(!t.item){let o=new URL(e.decipher(n));o.searchParams.set("cpn",a||"");let r=i(o).toString();t.item=await cn(r,s)}return t.item.duration}function hn(t,e,i,s,n,a,o){let r="";if(o){let e=`${t.itag||""}:${t.xtags||""}`;r=`sabr://${t.has_video?"video":"audio"}?key=${e}`}else{let i=new URL(t.decipher(s));i.searchParams.set("cpn",n||""),r=e(i).toString()}if(t.is_type_otf){if(!i)throw new XM("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate:()=>rn(r,i)}}if(a){if(!i)throw new XM("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let e=t.target_duration_dec;if("number"!=typeof e)throw new XM("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate:async()=>(a.item||(a.item=await cn(r,i)),{media_url:`${r}&sq=$Number$`,timeline:[{duration:1e3*e,repeat_count:a.item.segment_count}]})}}if(!t.index_range||!t.init_range)throw new XM("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:r,index_range:t.index_range,init_range:t.init_range}}function dn(t,e,i,s,n,a,o,r){let c=[t.itag.toString()];return t.audio_track&&c.push(t.audio_track.id),t.is_drc&&c.push("drc"),{uid:c.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:dL(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:hn(t,i,s,n,a,o,r)}}function un(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}function pn(t,e,i,s,n,a,o,r){let c,l=t[0],{audio_track:h}=l,d=[],u=!!o;return h?c=u&&l.is_drc?o.label_drc_multiple(h.display_name):h.display_name:u&&(c=l.is_drc?o.label_drc:o.label_original),{mime_type:l.mime_type.split(";")[0],language:l.language??void 0,codecs:nn(t,d),audio_sample_rate:an(t,"audio_sample_rate",d),track_name:c,track_roles:un(l,u),channels:on(t,d),drm_families:l.drm_families,drm_track_type:l.drm_track_type,representations:t.map(t=>dn(t,d,e,i,s,n,a,r))}}n(sn,"getFormatGroupings"),n(nn,"hoistCodecsIfPossible"),n(an,"hoistNumberAttributeIfPossible"),n(on,"hoistAudioChannelsIfPossible"),n(rn,"getOTFSegmentTemplate"),n(cn,"getPostLiveDvrInfo"),n(ln,"getPostLiveDvrDuration"),n(hn,"getSegmentInfo"),n(dn,"getAudioRepresentation"),n(un,"getTrackRoles"),n(pn,"getAudioSet");var mn={BT709:"1",BT2020:"9"},_n={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},fn={BT709:"1",BT2020_NCL:"14"};function yn(t){let e,i,s,n=t.color_info;if(n){if(n.primaries&&(e=mn[n.primaries]),n.transfer_characteristics&&(i=_n[n.transfer_characteristics]),n.matrix_coefficients&&(s=fn[n.matrix_coefficients],!s)){let e=new URL(t.url),i=JSON.parse(JSON.stringify(t));i.url="REDACTED",i.signature_cipher="REDACTED",i.cipher="REDACTED",os(en,`Unknown matrix coefficients "${n.matrix_coefficients}". The DASH manifest is still usable without this.\nPlease report it at ${tn.bugs.url} so we can add support for it.\nInnerTube client: ${e.searchParams.get("c")}\nformat:`,i)}}else dL(t.mime_type,'codecs="','"')?.startsWith("avc1")&&(i=_n.BT709);return{primaries:e,transfer_characteristics:i,matrix_coefficients:s}}function bn(t,e,i,s,n,a,o,r){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:dL(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:hn(t,e,n,s,a,o,r)}}function gn(t,e,i,s,n,a,o){let r=t[0],c=yn(r),l=[];return{mime_type:r.mime_type.split(";")[0],color_info:c,codecs:nn(t,l),fps:an(t,"fps",l),drm_families:r.drm_families,drm_track_type:r.drm_track_type,representations:t.map(t=>bn(t,e,l,i,s,n,a,o))}}function vn(t){let e=new Map,i=t.is(Zs)?t.boards:[t.board];for(let t of i){let i=new URL(t.template_url).pathname.split(".").pop(),s=`image/${"jpg"===i?"jpeg":i}`;e.has(s)||e.set(s,[]),e.get(s)?.push(t)}return e}async function wn(t,e,i,s,n){let a=e.template_url,o=i(new URL(a.replace("$M","0"))),r=n.response?n.response:t.session.http.fetch_function(o,{method:"HEAD",headers:Ns});return n.response=r,(await r).headers.get("Content-Type")||s}async function xn(t,e,i){let s=e.template_url,n=[],a=Math.min("vod"===e.type?e.storyboard_count:5,10);for(let e=0;e<a;e++){let a=new URL(s.replace("$M",e.toString())),o=0===e&&i.response?i.response:t.session.http.fetch_function(a,{method:"HEAD",headers:Ns});0===e&&(i.response=o),n.push(o)}let o=await Promise.all(n),r=[];for(let t of o)r.push(parseInt(t.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...r)/(e.rows*e.columns)*8)}function kn(t,e,i,s,n){let a,o=i.template_url,r=new URL(o.replace("$M","$Number$"));return a="vod"===i.type?t/i.storyboard_count:t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate:()=>xn(e,i,n),sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(a),template_url:s(r).toString(),getURL:t=>r.toString().replace("$Number$",t.toString())}}function Sn(t,e,i,s){let n=vn(i),a={};return Array.from(n.entries()).map(([i,n])=>({probable_mime_type:i,getMimeType:()=>wn(e,n[0],s,i,a),representations:n.map(i=>kn(t,e,i,s,a))}))}function Cn(t,e,i){let s="vtt"===e?"text/vtt":"application/ttml+xml";return t.map(t=>{let n=new URL(t.base_url);n.searchParams.set("fmt",e);let a=["caption"];return n.searchParams.has("tlang")&&a.push("dub"),{mime_type:s,language:t.language_code,track_name:t.name.toString(),track_roles:a,representation:{uid:`text-${t.vss_id}`,base_url:i(n).toString()}}})}function Tn(t,e=!1,i=t=>t,s,a,o,r,c,l,h){if(!t)throw new XM("Streaming data not available");let d,u,p=s?t.adaptive_formats.filter(t=>!s(t)):t.adaptive_formats;if(e){if(u={},!r)throw new XM("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");d=n(()=>u?ln(u,p[0],i,r,o,a):Promise.resolve(0),"getDuration")}else{let t=p[0].approx_duration_ms/1e3;d=n(()=>Promise.resolve(t),"getDuration")}let m,{groups:_,has_multiple_audio_tracks:f}=sn(p,e),{video_groups:y,audio_groups:b}=_.reduce((t,e)=>e[0].has_audio?(f&&!e[0].audio_track||t.audio_groups.push(e),t):(t.video_groups.push(e),t),{video_groups:[],audio_groups:[]});b.flat().some(t=>t.is_drc)&&(m={label_original:h?.label_original||"Original",label_drc:h?.label_drc||"Stable Volume",label_drc_multiple:h?.label_drc_multiple||(t=>`${t} (Stable Volume)`)});let g=b.map(t=>pn(t,i,r,o,a,u,m,h?.is_sabr)),v=y.map(t=>gn(t,i,o,r,a,u,h?.is_sabr)),w=[];if(c&&r){let t;if(c.is(Zs))t=p[0].approx_duration_ms/1e3;else{let e=p[0].target_duration_dec;if(void 0===e)throw new XM("Format is missing target_duration_dec",{format:p[0]});t=e}w=Sn(t,r,c,i)}let x=[];if(l&&h?.captions_format){if("vtt"!==h.captions_format&&"ttml"!==h.captions_format)throw new XM("Invalid captions format",h.captions_format);x=Cn(l,h.captions_format,i)}return{getDuration:d,audio_sets:g,video_sets:v,image_sets:w,text_sets:x}}async function In({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=await t.getSegmentTemplate();return Ys("segmentTemplate",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},Ys("segmentTimeline",null,e.timeline.map(t=>Ys("s",{d:t.duration,r:t.repeat_count}))))}function En({info:t}){return t.is_oft||t.is_post_live_dvr?Ys(In,{info:t}):Ys(Xs,null,Ys("baseURL",null,t.base_url),Ys("segmentBase",{indexRange:`${t.index_range.start}-${t.index_range.end}`},Ys("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}function Pn(t){switch(t){case"WIDEVINE":return"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";case"PLAYREADY":return"9a04f079-9840-4286-ab92-e65be0885f95";default:return null}}async function Rn({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:s,cpn:n,player:a,actions:o,storyboards:r,captionTracks:c,options:l}){let{getDuration:h,audio_sets:d,video_sets:u,image_sets:p,text_sets:m}=Tn(t,e,i,s,n,a,o,r,c,l);return Ys("mPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await h()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},Ys("period",null,d.map((t,e)=>Ys("adaptationSet",{id:e,mimeType:t.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:t.language,codecs:t.codecs,audioSamplingRate:t.audio_sample_rate,contentType:"audio"},t.drm_families&&t.drm_families.map(t=>Ys("contentProtection",{schemeIdUri:`urn:uuid:${Pn(t)}`})),t.track_roles&&t.track_roles.map(t=>Ys("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:t})),t.track_name&&Ys("label",{id:e},t.track_name),t.channels&&Ys("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:t.channels}),t.representations.map(t=>Ys("representation",{id:t.uid,bandwidth:t.bitrate,codecs:t.codecs,audioSamplingRate:t.audio_sample_rate},t.channels&&Ys("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:t.channels}),Ys(En,{info:t.segment_info}))))),u.map((t,e)=>Ys("adaptationSet",{id:e+d.length,mimeType:t.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:t.codecs,maxPlayoutRate:"1",frameRate:t.fps,contentType:"video"},t.drm_families&&t.drm_families.map(t=>Ys("contentProtection",{schemeIdUri:`urn:uuid:${Pn(t)}`})),t.color_info.primaries&&Ys("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:t.color_info.primaries}),t.color_info.transfer_characteristics&&Ys("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:t.color_info.transfer_characteristics}),t.color_info.matrix_coefficients&&Ys("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:t.color_info.matrix_coefficients}),t.representations.map(t=>Ys("representation",{id:t.uid,bandwidth:t.bitrate,width:t.width,height:t.height,codecs:t.codecs,frameRate:t.fps},Ys(En,{info:t.segment_info}))))),p.map(async(t,e)=>Ys("adaptationSet",{id:e+d.length+u.length,mimeType:await t.getMimeType(),contentType:"image"},t.representations.map(async t=>Ys("representation",{id:`thumbnails_${t.thumbnail_width}x${t.thumbnail_height}`,bandwidth:await t.getBitrate(),width:t.sheet_width,height:t.sheet_height},Ys("essentialProperty",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${t.columns}x${t.rows}`}),Ys("segmentTemplate",{media:t.template_url,duration:t.template_duration,startNumber:"0"}))))),m.map((t,e)=>Ys("adaptationSet",{id:e+d.length+u.length+p.length,mimeType:t.mime_type,lang:t.language,contentType:"text"},t.track_roles.map(t=>Ys("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:t})),Ys("label",{id:e+d.length},t.track_name),Ys("representation",{id:t.representation.uid,bandwidth:"0"},Ys("baseURL",null,t.representation.base_url))))))}function An(t,e=!1,i=t=>t,s,n,a,o,r,c,l){if(!t)throw new XM("Streaming data not available");return Qs(Ys(Rn,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:l,rejectFormat:s,cpn:n,player:a,actions:o,storyboards:r,captionTracks:c}))}async function Mn(t,e,i,s,a,o){if("UNPLAYABLE"===i?.status)throw new XM("Video is unplayable",{error_type:"UNPLAYABLE"});if("LOGIN_REQUIRED"===i?.status)throw new XM("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new XM("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let r={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},c=Ln(r,s),l=c.decipher(a);if("video+audio"===r.type&&!t.range){let t=await e.session.http.fetch_function(`${l}&cpn=${o}`,{method:"GET",headers:Ns,redirect:"follow"});if(!t.ok)throw new XM("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:t});let i=t.body;if(!i)throw new XM("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:t});return i}let h,d=10485760,u=t.range?t.range.start:0,p=t.range?t.range.end:d,m=!1;return new zM.shim.ReadableStream({start(){},pull:n(async i=>{if(!m)return(p>=(c.content_length?c.content_length:0)||t.range)&&(m=!0),new Promise(async(t,s)=>{try{h=new AbortController;let s=await e.session.http.fetch_function(`${l}&cpn=${o}&range=${u}-${p||""}`,{method:"GET",headers:{...Ns},signal:h.signal});if(!s.ok)throw new XM("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:s});let n=s.body;if(!n)throw new XM("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:s});for await(let t of vL(n))i.enqueue(t);u=p+1,p+=d,t()}catch(t){s(t)}});i.close()},"pull"),async cancel(t){h.abort(t)}},{highWaterMark:1,size:t=>t.byteLength})}function Ln(t,e){if(!e)throw new XM("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]];if(t.itag){let e=i.filter(e=>e.itag===t.itag);if(!e.length)throw new XM("No matching formats found",{options:t});return e[0]}let s=!t.type||t.type.includes("audio"),n=!t.type||t.type.includes("video"),a=t.language||"original",o=t.quality||"best",r=-1,c=["best","bestefficiency"].includes(o),l="best"!==o,h=i.filter(e=>!(s&&!e.has_audio||n&&!e.has_video||t.codec&&!e.mime_type.includes(t.codec)||"any"!==t.format&&!e.mime_type.includes(t.format||"mp4")||!c&&e.quality_label!==o)&&(e.width&&r<e.width&&(r=e.width),!0));if(!h.length)throw new XM("No matching formats found",{options:t});if(c&&n&&(h=h.filter(t=>t.width===r)),s&&!n){let t=h.filter(t=>"original"!==a?!t.has_video&&!t.has_text&&t.language===a:!t.has_video&&!t.has_text&&t.is_original);t.length>0&&(h=t)}return l?h.sort((t,e)=>t.bitrate-e.bitrate):h.sort((t,e)=>e.bitrate-t.bitrate),h[0]}n(yn,"getColorInfo"),n(bn,"getVideoRepresentation"),n(gn,"getVideoSet"),n(vn,"getStoryboardInfo"),n(wn,"getStoryboardMimeType"),n(xn,"getStoryboardBitrate"),n(kn,"getImageRepresentation"),n(Sn,"getImageSets"),n(Cn,"getTextSets"),n(Tn,"getStreamingInfo"),n(In,"OTFPostLiveDvrSegmentInfo"),n(En,"SegmentInfo"),n(Pn,"getDrmSystemId"),n(Rn,"DashManifest"),n(An,"toDash"),n(Mn,"download"),n(Ln,"chooseFormat");var Dn,Nn,Bn,Vn,On,Un,Fn,Hn=class{constructor(t,e,i){l(this,Vn),l(this,Dn),l(this,Nn),l(this,Bn),h(this,Dn,t),h(this,Nn,e),h(this,Bn,i||zM.shim.fetch)}get fetch_function(){return c(this,Bn)}async fetch(t,e){let i=c(this,Dn),s=As.API.PRODUCTION_1+i.api_version,n=e?.baseURL||s,a="string"==typeof t?new URL(`${n}${n.endsWith("/")||t.startsWith("/")?"":"/"}${t}`):t instanceof URL?t:new URL(t.url,n),o=e?.headers||(t instanceof zM.shim.Request?t.headers:new zM.shim.Headers)||new zM.shim.Headers,r=e?.body||(t instanceof zM.shim.Request?t.body:void 0),l=new zM.shim.Headers(o);d(this,Vn,Un).call(this,l,i,a),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let h=l.get("Content-Type"),u=r,p=!1,m=n===s||n===As.YT_UPLOAD;if("application/json"===h&&m&&"string"==typeof r){let{newBody:t,isWebKids:e,clientVersion:s,clientNameId:n,adjustedClientName:a}=d(this,Vn,On).call(this,r,i);u=t,p=e,s&&l.set("X-Youtube-Client-Version",s),n&&l.set("X-Youtube-Client-Name",n),a===Ls.ANDROID.NAME||a===Ls.YTMUSIC_ANDROID.NAME?(l.set("User-Agent",Ls.ANDROID.USER_AGENT),l.set("X-GOOG-API-FORMAT-VERSION","2")):a===Ls.IOS.NAME&&l.set("User-Agent",Ls.IOS.USER_AGENT)}else"application/x-protobuf"===h&&zM.shim.server&&(l.set("User-Agent",Ls.ANDROID.USER_AGENT),l.set("X-GOOG-API-FORMAT-VERSION","2"),l.delete("X-Youtube-Client-Version"));if(i.logged_in&&m&&!p){let t=i.oauth;t.oauth2_tokens&&(t.shouldRefreshToken()&&await t.refreshAccessToken(),l.set("Authorization",`Bearer ${t.oauth2_tokens.access_token}`));let e=c(this,Nn);if(e){let t=CL(e,"SAPISID");t&&(l.set("Authorization",await mL(t)),l.set("X-Goog-Authuser",i.account_index.toString()),i.context.user.onBehalfOfUser&&l.set("X-Goog-PageId",i.context.user.onBehalfOfUser)),l.set("Cookie",e)}}let _=new zM.shim.Request(a,t instanceof zM.shim.Request?t:e),f=await c(this,Bn).call(this,_,{body:u,headers:l,redirect:t instanceof zM.shim.Request?t.redirect:e?.redirect||"follow",..."cf-worker"!==zM.shim.runtime?{credentials:"include"}:{}});if(f.ok)return f;throw new XM(`Request to ${f.url} failed with status code ${f.status}`,await f.text())}};Dn=new WeakMap,Nn=new WeakMap,Bn=new WeakMap,Vn=new WeakSet,On=n(function(t,e){let i=JSON.parse(t),s=JSON.parse(JSON.stringify(e.context));d(this,Vn,Fn).call(this,s,i.client);let n={...i,context:s},a=n.context.client.clientVersion,o=n.context.client.clientName,r=Ds[o];delete n.client;let c=n.context.client.clientName===Ls.WEB_KIDS.NAME;return{newBody:JSON.stringify(n),isWebKids:c,clientVersion:a,clientNameId:r,adjustedClientName:n.context.client.clientName}},"#processJsonPayload"),Un=n(function(t,e,i){t.set("Accept","*/*"),t.set("Accept-Language","*"),t.set("X-Goog-Visitor-Id",e.context.client.visitorData||""),t.set("X-Youtube-Client-Version",e.context.client.clientVersion||"");let s=Ds[e.context.client.clientName];s&&t.set("X-Youtube-Client-Name",s),zM.shim.server&&(t.set("User-Agent",e.user_agent||""),t.set("Origin",i.origin))},"#setupCommonHeaders"),Fn=n(function(t,e){if(!e)return;let i=e.toUpperCase();if(!Vs.includes(i))throw new XM(`Invalid client: ${e}`,{available_innertube_clients:Vs});switch("WEB"!==i&&delete t.client.configInfo,("ANDROID"===i||"YTMUSIC_ANDROID"===i||"YTSTUDIO_ANDROID"===i)&&(t.client.androidSdkVersion=Ls.ANDROID.SDK_VERSION,t.client.userAgent=Ls.ANDROID.USER_AGENT,t.client.osName="Android",t.client.osVersion="13",t.client.platform="MOBILE"),i){case"MWEB":t.client.clientVersion=Ls.MWEB.VERSION,t.client.clientName=Ls.MWEB.NAME,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.platform="MOBILE";break;case"IOS":t.client.deviceMake="Apple",t.client.deviceModel=Ls.IOS.DEVICE_MODEL,t.client.clientVersion=Ls.IOS.VERSION,t.client.clientName=Ls.IOS.NAME,t.client.platform="MOBILE",t.client.osName=Ls.IOS.OS_NAME,t.client.osVersion=Ls.IOS.OS_VERSION,delete t.client.browserName,delete t.client.browserVersion;break;case"YTMUSIC":t.client.clientVersion=Ls.YTMUSIC.VERSION,t.client.clientName=Ls.YTMUSIC.NAME;break;case"ANDROID":t.client.clientVersion=Ls.ANDROID.VERSION,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.clientName=Ls.ANDROID.NAME;break;case"YTMUSIC_ANDROID":t.client.clientVersion=Ls.YTMUSIC_ANDROID.VERSION,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.clientName=Ls.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":t.client.clientVersion=Ls.YTSTUDIO_ANDROID.VERSION,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.clientName=Ls.YTSTUDIO_ANDROID.NAME;break;case"TV":t.client.clientVersion=Ls.TV.VERSION,t.client.clientName=Ls.TV.NAME,t.client.userAgent=Ls.TV.USER_AGENT;break;case"TV_SIMPLY":t.client.clientVersion=Ls.TV_SIMPLY.VERSION,t.client.clientName=Ls.TV_SIMPLY.NAME;break;case"TV_EMBEDDED":t.client.clientName=Ls.TV_EMBEDDED.NAME,t.client.clientVersion=Ls.TV_EMBEDDED.VERSION,t.client.clientScreen="EMBED",t.thirdParty={embedUrl:As.YT_BASE};break;case"YTKIDS":t.client.clientVersion=Ls.WEB_KIDS.VERSION,t.client.clientName=Ls.WEB_KIDS.NAME,t.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":t.client.clientName=Ls.WEB_EMBEDDED.NAME,t.client.clientVersion=Ls.WEB_EMBEDDED.VERSION,t.client.clientScreen="EMBED",t.thirdParty={embedUrl:As.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":t.client.clientName=Ls.WEB_CREATOR.NAME,t.client.clientVersion=Ls.WEB_CREATOR.VERSION}},"#adjustContext"),n(Hn,"HTTPClient");var Wn=Hn;function jn(t){let e=[],i={};for(let t=0;t<256;t++)i[String.fromCharCode(t)]=t;let s="",n=256;for(let a=0;a<t.length;a++){let o=t[a],r=s+o;i.hasOwnProperty(r)?s=r:(e.push(i[s]),i[r]=n++,s=o)}return""!==s&&e.push(i[s]),e.map(t=>String.fromCharCode(t)).join("")}function Gn(t){let e={},i=t.split(""),s=[i.shift()],n=i.length>>>0,a=256,o=s[0],r=o;for(let t=0;t<n;++t){let n=i[t].charCodeAt(0),c=n<256?i[t]:e[n]?e[n]:r+o;s.push(c),o=c.charAt(0),e[a++]=r+o,r=c}return s.join("")}a({},{compress:()=>jn,decompress:()=>Gn}),n(jn,"compress"),n(Gn,"decompress");var $n={};a($n,{MAGIC_HEADER:()=>qn,VERSION:()=>Kn,deserialize:()=>zn,serialize:()=>Yn});var qn=5849684,Kn=1;function Yn(t){let e=jn(JSON.stringify(t)),i=(new TextEncoder).encode(e),s=new ArrayBuffer(12+i.byteLength),n=new DataView(s);return n.setUint32(0,qn,!0),n.setUint32(4,Kn,!0),n.setUint32(8,i.byteLength,!0),new Uint8Array(s).set(i,12),new Uint8Array(s)}function zn(t){if(t.byteLength<12)throw new Error("Invalid binary format: buffer too short");let e=new DataView(t.buffer,t.byteOffset);if(e.getUint32(0,!0)!==qn)throw new Error("Invalid binary format: magic header mismatch");let i=e.getUint32(4,!0);if(i!==Kn)throw new Error(`Unsupported binary format version: ${i}`);let s=e.getUint32(8,!0),n=t.slice(12,12+s),a=Gn((new TextDecoder).decode(n));return JSON.parse(a)}n(Yn,"serialize"),n(zn,"deserialize");var Qn={};function Xn(){let t=0,e=0;for(let i=0;i<28;i+=7){let s=this.buf[this.pos++];if(t|=(127&s)<<i,!(128&s))return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(15&i)<<28,e=(112&i)>>4,!(128&i))return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let s=this.buf[this.pos++];if(e|=(127&s)<<i,!(128&s))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function Jn(t,e,i){for(let s=0;s<28;s+=7){let n=t>>>s,a=!(!(n>>>7)&&0==e),o=255&(a?128|n:n);if(i.push(o),!a)return}let s=t>>>28&15|(7&e)<<4,n=!!(e>>3);if(i.push(255&(n?128|s:s)),n){for(let t=3;t<31;t+=7){let s=e>>>t,n=!!(s>>>7),a=255&(n?128|s:s);if(i.push(a),!n)return}i.push(e>>>31&1)}}a(Qn,{decodeVisitorData:()=>Wo,encodeCommentActionParams:()=>jo,encodeNextParams:()=>Go,encodeVisitorData:()=>Ho}),n(Xn,"varint64read"),n(Jn,"varint64write");var Zn=4294967296;function ta(t){let e="-"===t[0];e&&(t=t.slice(1));let i=1e6,s=0,a=0;function o(e,n){let o=Number(t.slice(e,n));a*=i,s=s*i+o,s>=Zn&&(a+=s/Zn|0,s%=Zn)}return n(o,"add1e6digit"),o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?aa(s,a):na(s,a)}function ea(t,e){let i=na(t,e),s=2147483648&i.hi;s&&(i=aa(i.lo,i.hi));let n=ia(i.lo,i.hi);return s?"-"+n:n}function ia(t,e){if(({lo:t,hi:e}=sa(t,e)),e<=2097151)return String(Zn*e+t);let i=16777215&(t>>>24|e<<8),s=e>>16&65535,n=(16777215&t)+6777216*i+6710656*s,a=i+8147497*s,o=2*s,r=1e7;return n>=r&&(a+=Math.floor(n/r),n%=r),a>=r&&(o+=Math.floor(a/r),a%=r),o.toString()+oa(a)+oa(n)}function sa(t,e){return{lo:t>>>0,hi:e>>>0}}function na(t,e){return{lo:0|t,hi:0|e}}function aa(t,e){return e=~e,t?t=1+~t:e+=1,na(t,e)}n(ta,"int64FromString"),n(ea,"int64ToString"),n(ia,"uInt64ToString"),n(sa,"toUnsigned"),n(na,"newBits"),n(aa,"negate");var oa=n(t=>{let e=String(t);return"0000000".slice(e.length)+e},"decimalFrom1e7WithLeadingZeros");function ra(t,e){if(t>=0){for(;t>127;)e.push(127&t|128),t>>>=7;e.push(t)}else{for(let i=0;i<9;i++)e.push(127&t|128),t>>=7;e.push(1)}}function ca(){let t=this.buf[this.pos++],e=127&t;if(!(128&t))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(127&t)<<7,!(128&t))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(127&t)<<14,!(128&t))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(127&t)<<21,!(128&t))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(15&t)<<28;for(let e=5;128&t&&e<10;e++)t=this.buf[this.pos++];if(128&t)throw new Error("invalid varint");return this.assertBounds(),e>>>0}n(ra,"varint32write"),n(ca,"varint32read");var la=ha();function ha(){let t=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof t.getBigInt64&&"function"==typeof t.getBigUint64&&"function"==typeof t.setBigInt64&&"function"==typeof t.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){let e=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),s=BigInt("0"),n=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(t){let s="bigint"==typeof t?t:BigInt(t);if(s>i||s<e)throw new Error(`invalid int64: ${t}`);return s},uParse(t){let e="bigint"==typeof t?t:BigInt(t);if(e>n||e<s)throw new Error(`invalid uint64: ${t}`);return e},enc(e){return t.setBigInt64(0,this.parse(e),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(e){return t.setBigInt64(0,this.uParse(e),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec:(e,i)=>(t.setInt32(0,e,!0),t.setInt32(4,i,!0),t.getBigInt64(0,!0)),uDec:(e,i)=>(t.setInt32(0,e,!0),t.setInt32(4,i,!0),t.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:t=>("string"!=typeof t&&(t=t.toString()),da(t),t),uParse:t=>("string"!=typeof t&&(t=t.toString()),ua(t),t),enc:t=>("string"!=typeof t&&(t=t.toString()),da(t),ta(t)),uEnc:t=>("string"!=typeof t&&(t=t.toString()),ua(t),ta(t)),dec:(t,e)=>ea(t,e),uDec:(t,e)=>ia(t,e)}}function da(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function ua(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}n(ha,"makeInt64Support"),n(da,"assertInt64String"),n(ua,"assertUInt64String");var pa,ma,_a=Symbol.for("@bufbuild/protobuf/text-encoding");function fa(){if(null==globalThis[_a]){let t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[_a]={encodeUtf8:e=>t.encode(e),decodeUtf8:t=>e.decode(t),checkUtf8(t){try{return encodeURIComponent(t),!0}catch{return!1}}}}return globalThis[_a]}n(fa,"getTextEncoding"),(ma=pa||(pa={}))[ma.Varint=0]="Varint",ma[ma.Bit64=1]="Bit64",ma[ma.LengthDelimited=2]="LengthDelimited",ma[ma.StartGroup=3]="StartGroup",ma[ma.EndGroup=4]="EndGroup",ma[ma.Bit32=5]="Bit32";var ya=class{constructor(t=fa().encodeUtf8){this.encodeUtf8=t,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let e=0;e<this.chunks.length;e++)t+=this.chunks[e].length;let e=new Uint8Array(t),i=0;for(let t=0;t<this.chunks.length;t++)e.set(this.chunks[t],i),i+=this.chunks[t].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,e){return this.uint32((t<<3|e)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(xa(t);t>127;)this.buf.push(127&t|128),t>>>=7;return this.buf.push(t),this}int32(t){return wa(t),ra(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let e=this.encodeUtf8(t);return this.uint32(e.byteLength),this.raw(e)}float(t){ka(t);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,t,!0),this.raw(e)}double(t){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,t,!0),this.raw(e)}fixed32(t){xa(t);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t,!0),this.raw(e)}sfixed32(t){wa(t);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,t,!0),this.raw(e)}sint32(t){return wa(t),ra(t=(t<<1^t>>31)>>>0,this.buf),this}sfixed64(t){let e=new Uint8Array(8),i=new DataView(e.buffer),s=la.enc(t);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(e)}fixed64(t){let e=new Uint8Array(8),i=new DataView(e.buffer),s=la.uEnc(t);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(e)}int64(t){let e=la.enc(t);return Jn(e.lo,e.hi,this.buf),this}sint64(t){let e=la.enc(t),i=e.hi>>31;return Jn(e.lo<<1^i,(e.hi<<1|e.lo>>>31)^i,this.buf),this}uint64(t){let e=la.uEnc(t);return Jn(e.lo,e.hi,this.buf),this}};n(ya,"BinaryWriter");var ba=ya,ga=class{constructor(t,e=fa().decodeUtf8){this.decodeUtf8=e,this.varint64=Xn,this.uint32=ca,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength)}tag(){let t=this.uint32(),e=t>>>3,i=7&t;if(e<=0||i<0||i>5)throw new Error("illegal tag: field no "+e+" wire type "+i);return[e,i]}skip(t,e){let i=this.pos;switch(t){case pa.Varint:for(;128&this.buf[this.pos++];);break;case pa.Bit64:this.pos+=4;case pa.Bit32:this.pos+=4;break;case pa.LengthDelimited:let i=this.uint32();this.pos+=i;break;case pa.StartGroup:for(;;){let[t,i]=this.tag();if(i===pa.EndGroup){if(void 0!==e&&t!==e)throw new Error("invalid end group tag");break}this.skip(i,t)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let t=this.uint32();return t>>>1^-(1&t)}int64(){return la.dec(...this.varint64())}uint64(){return la.uDec(...this.varint64())}sint64(){let[t,e]=this.varint64(),i=-(1&t);return t=(t>>>1|(1&e)<<31)^i,e=e>>>1^i,la.dec(t,e)}bool(){let[t,e]=this.varint64();return 0!==t||0!==e}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return la.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return la.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),e=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(e,e+t)}string(){return this.decodeUtf8(this.bytes())}};n(ga,"BinaryReader");var va=ga;function wa(t){if("string"==typeof t)t=Number(t);else if("number"!=typeof t)throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>2147483647||t<-2147483648)throw new Error("invalid int32: "+t)}function xa(t){if("string"==typeof t)t=Number(t);else if("number"!=typeof t)throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>4294967295||t<0)throw new Error("invalid uint32: "+t)}function ka(t){if("string"==typeof t){let e=t;if(t=Number(t),isNaN(t)&&"NaN"!==e)throw new Error("invalid float32: "+e)}else if("number"!=typeof t)throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>34028234663852886e22||t<-34028234663852886e22))throw new Error("invalid float32: "+t)}n(wa,"assertInt32"),n(xa,"assertUInt32"),n(ka,"assertFloat32");var Sa={RELEVANCE:0,0:"RELEVANCE",RATING:1,1:"RATING",UPLOAD_DATE:2,2:"UPLOAD_DATE",VIEW_COUNT:3,3:"VIEW_COUNT",UNRECOGNIZED:-1,"-1":"UNRECOGNIZED"},Ca={ANY_DATE:0,0:"ANY_DATE",HOUR:1,1:"HOUR",TODAY:2,2:"TODAY",WEEK:3,3:"WEEK",MONTH:4,4:"MONTH",YEAR:5,5:"YEAR",UNRECOGNIZED:-1,"-1":"UNRECOGNIZED"},Ta={ANY_TYPE:0,0:"ANY_TYPE",VIDEO:1,1:"VIDEO",CHANNEL:2,2:"CHANNEL",PLAYLIST:3,3:"PLAYLIST",MOVIE:4,4:"MOVIE",UNRECOGNIZED:-1,"-1":"UNRECOGNIZED"},Ia={ANY_DURATION:0,0:"ANY_DURATION",SHORT:1,1:"SHORT",LONG:2,2:"LONG",MEDIUM:3,3:"MEDIUM",UNRECOGNIZED:-1,"-1":"UNRECOGNIZED"};function Ea(){return{id:"",timestamp:0}}n(Ea,"createBaseVisitorData");var Pa={encode:(t,e=new ba)=>(""!==t.id&&e.uint32(10).string(t.id),0!==t.timestamp&&e.uint32(40).int32(t.timestamp),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={id:"",timestamp:0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.id=i.string();continue;case 5:if(40!==t)break;n.timestamp=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Ra(){return{sortBy:void 0,filters:void 0}}n(Ra,"createBaseSearchFilter");var Aa={encode:(t,e=new ba)=>(void 0!==t.sortBy&&e.uint32(8).int32(t.sortBy),void 0!==t.filters&&La.encode(t.filters,e.uint32(18).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={sortBy:void 0,filters:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.sortBy=i.int32();continue;case 2:if(18!==t)break;n.filters=La.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Ma(){return{uploadDate:void 0,type:void 0,duration:void 0,musicSearchType:void 0,featuresHd:void 0,featuresSubtitles:void 0,featuresCreativeCommons:void 0,features3d:void 0,featuresLive:void 0,featuresPurchased:void 0,features4k:void 0,features360:void 0,featuresLocation:void 0,featuresHdr:void 0,featuresVr180:void 0}}n(Ma,"createBaseSearchFilter_Filters");var La={encode:(t,e=new ba)=>(void 0!==t.uploadDate&&e.uint32(8).int32(t.uploadDate),void 0!==t.type&&e.uint32(16).int32(t.type),void 0!==t.duration&&e.uint32(24).int32(t.duration),void 0!==t.musicSearchType&&Na.encode(t.musicSearchType,e.uint32(138).fork()).join(),void 0!==t.featuresHd&&e.uint32(32).bool(t.featuresHd),void 0!==t.featuresSubtitles&&e.uint32(40).bool(t.featuresSubtitles),void 0!==t.featuresCreativeCommons&&e.uint32(48).bool(t.featuresCreativeCommons),void 0!==t.features3d&&e.uint32(56).bool(t.features3d),void 0!==t.featuresLive&&e.uint32(64).bool(t.featuresLive),void 0!==t.featuresPurchased&&e.uint32(72).bool(t.featuresPurchased),void 0!==t.features4k&&e.uint32(112).bool(t.features4k),void 0!==t.features360&&e.uint32(120).bool(t.features360),void 0!==t.featuresLocation&&e.uint32(184).bool(t.featuresLocation),void 0!==t.featuresHdr&&e.uint32(200).bool(t.featuresHdr),void 0!==t.featuresVr180&&e.uint32(208).bool(t.featuresVr180),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={uploadDate:void 0,type:void 0,duration:void 0,musicSearchType:void 0,featuresHd:void 0,featuresSubtitles:void 0,featuresCreativeCommons:void 0,features3d:void 0,featuresLive:void 0,featuresPurchased:void 0,features4k:void 0,features360:void 0,featuresLocation:void 0,featuresHdr:void 0,featuresVr180:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.uploadDate=i.int32();continue;case 2:if(16!==t)break;n.type=i.int32();continue;case 3:if(24!==t)break;n.duration=i.int32();continue;case 17:if(138!==t)break;n.musicSearchType=Na.decode(i,i.uint32());continue;case 4:if(32!==t)break;n.featuresHd=i.bool();continue;case 5:if(40!==t)break;n.featuresSubtitles=i.bool();continue;case 6:if(48!==t)break;n.featuresCreativeCommons=i.bool();continue;case 7:if(56!==t)break;n.features3d=i.bool();continue;case 8:if(64!==t)break;n.featuresLive=i.bool();continue;case 9:if(72!==t)break;n.featuresPurchased=i.bool();continue;case 14:if(112!==t)break;n.features4k=i.bool();continue;case 15:if(120!==t)break;n.features360=i.bool();continue;case 23:if(184!==t)break;n.featuresLocation=i.bool();continue;case 25:if(200!==t)break;n.featuresHdr=i.bool();continue;case 26:if(208!==t)break;n.featuresVr180=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Da(){return{song:void 0,video:void 0,album:void 0,artist:void 0,playlist:void 0}}n(Da,"createBaseSearchFilter_Filters_MusicSearchType");var Na={encode:(t,e=new ba)=>(void 0!==t.song&&e.uint32(8).bool(t.song),void 0!==t.video&&e.uint32(16).bool(t.video),void 0!==t.album&&e.uint32(24).bool(t.album),void 0!==t.artist&&e.uint32(32).bool(t.artist),void 0!==t.playlist&&e.uint32(40).bool(t.playlist),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={song:void 0,video:void 0,album:void 0,artist:void 0,playlist:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.song=i.bool();continue;case 2:if(16!==t)break;n.video=i.bool();continue;case 3:if(24!==t)break;n.album=i.bool();continue;case 4:if(32!==t)break;n.artist=i.bool();continue;case 5:if(40!==t)break;n.playlist=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Ba(){return{channelId:"",prefId:void 0,number0:void 0,number1:void 0}}n(Ba,"createBaseNotificationPreferences");var Va={encode:(t,e=new ba)=>(""!==t.channelId&&e.uint32(10).string(t.channelId),void 0!==t.prefId&&Ua.encode(t.prefId,e.uint32(18).fork()).join(),void 0!==t.number0&&e.uint32(24).int32(t.number0),void 0!==t.number1&&e.uint32(32).int32(t.number1),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={channelId:"",prefId:void 0,number0:void 0,number1:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.channelId=i.string();continue;case 2:if(18!==t)break;n.prefId=Ua.decode(i,i.uint32());continue;case 3:if(24!==t)break;n.number0=i.int32();continue;case 4:if(32!==t)break;n.number1=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Oa(){return{index:0}}n(Oa,"createBaseNotificationPreferences_Preference");var Ua={encode:(t,e=new ba)=>(0!==t.index&&e.uint32(8).int32(t.index),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={index:0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.index=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Fa(){return{params:void 0,number0:void 0,number1:void 0}}n(Fa,"createBaseLiveMessageParams");var Ha={encode:(t,e=new ba)=>(void 0!==t.params&&ja.encode(t.params,e.uint32(10).fork()).join(),void 0!==t.number0&&e.uint32(16).int32(t.number0),void 0!==t.number1&&e.uint32(24).int32(t.number1),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={params:void 0,number0:void 0,number1:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.params=ja.decode(i,i.uint32());continue;case 2:if(16!==t)break;n.number0=i.int32();continue;case 3:if(24!==t)break;n.number1=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Wa(){return{ids:void 0}}n(Wa,"createBaseLiveMessageParams_Params");var ja={encode:(t,e=new ba)=>(void 0!==t.ids&&$a.encode(t.ids,e.uint32(42).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={ids:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 5:if(42!==t)break;n.ids=$a.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Ga(){return{channelId:"",videoId:""}}n(Ga,"createBaseLiveMessageParams_Params_Ids");var $a={encode:(t,e=new ba)=>(""!==t.channelId&&e.uint32(10).string(t.channelId),""!==t.videoId&&e.uint32(18).string(t.videoId),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={channelId:"",videoId:""};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.channelId=i.string();continue;case 2:if(18!==t)break;n.videoId=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function qa(){return{ctx:void 0,unkParam:0,params:void 0}}n(qa,"createBaseGetCommentsSectionParams");var Ka={encode:(t,e=new ba)=>(void 0!==t.ctx&&za.encode(t.ctx,e.uint32(18).fork()).join(),0!==t.unkParam&&e.uint32(24).int32(t.unkParam),void 0!==t.params&&Xa.encode(t.params,e.uint32(50).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={ctx:void 0,unkParam:0,params:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 2:if(18!==t)break;n.ctx=za.decode(i,i.uint32());continue;case 3:if(24!==t)break;n.unkParam=i.int32();continue;case 6:if(50!==t)break;n.params=Xa.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Ya(){return{videoId:""}}n(Ya,"createBaseGetCommentsSectionParams_Context");var za={encode:(t,e=new ba)=>(""!==t.videoId&&e.uint32(18).string(t.videoId),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={videoId:""};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 2:if(18!==t)break;n.videoId=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Qa(){return{unkToken:void 0,opts:void 0,repliesOpts:void 0,page:void 0,target:""}}n(Qa,"createBaseGetCommentsSectionParams_Params");var Xa={encode:(t,e=new ba)=>(void 0!==t.unkToken&&e.uint32(10).string(t.unkToken),void 0!==t.opts&&Za.encode(t.opts,e.uint32(34).fork()).join(),void 0!==t.repliesOpts&&eo.encode(t.repliesOpts,e.uint32(26).fork()).join(),void 0!==t.page&&e.uint32(40).int32(t.page),""!==t.target&&e.uint32(66).string(t.target),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={unkToken:void 0,opts:void 0,repliesOpts:void 0,page:void 0,target:""};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.unkToken=i.string();continue;case 4:if(34!==t)break;n.opts=Za.decode(i,i.uint32());continue;case 3:if(26!==t)break;n.repliesOpts=eo.decode(i,i.uint32());continue;case 5:if(40!==t)break;n.page=i.int32();continue;case 8:if(66!==t)break;n.target=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Ja(){return{videoId:"",sortBy:0,type:0,commentId:void 0}}n(Ja,"createBaseGetCommentsSectionParams_Params_Options");var Za={encode:(t,e=new ba)=>(""!==t.videoId&&e.uint32(34).string(t.videoId),0!==t.sortBy&&e.uint32(48).int32(t.sortBy),0!==t.type&&e.uint32(120).int32(t.type),void 0!==t.commentId&&e.uint32(130).string(t.commentId),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={videoId:"",sortBy:0,type:0,commentId:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 4:if(34!==t)break;n.videoId=i.string();continue;case 6:if(48!==t)break;n.sortBy=i.int32();continue;case 15:if(120!==t)break;n.type=i.int32();continue;case 16:if(130!==t)break;n.commentId=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function to(){return{commentId:"",unkopts:void 0,channelId:void 0,videoId:"",unkParam1:0,unkParam2:0}}n(to,"createBaseGetCommentsSectionParams_Params_RepliesOptions");var eo={encode:(t,e=new ba)=>(""!==t.commentId&&e.uint32(18).string(t.commentId),void 0!==t.unkopts&&so.encode(t.unkopts,e.uint32(34).fork()).join(),void 0!==t.channelId&&e.uint32(42).string(t.channelId),""!==t.videoId&&e.uint32(50).string(t.videoId),0!==t.unkParam1&&e.uint32(64).int32(t.unkParam1),0!==t.unkParam2&&e.uint32(72).int32(t.unkParam2),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={commentId:"",unkopts:void 0,channelId:void 0,videoId:"",unkParam1:0,unkParam2:0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 2:if(18!==t)break;n.commentId=i.string();continue;case 4:if(34!==t)break;n.unkopts=so.decode(i,i.uint32());continue;case 5:if(42!==t)break;n.channelId=i.string();continue;case 6:if(50!==t)break;n.videoId=i.string();continue;case 8:if(64!==t)break;n.unkParam1=i.int32();continue;case 9:if(72!==t)break;n.unkParam2=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function io(){return{unkParam:0}}n(io,"createBaseGetCommentsSectionParams_Params_RepliesOptions_UnkOpts");var so={encode:(t,e=new ba)=>(0!==t.unkParam&&e.uint32(8).int32(t.unkParam),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={unkParam:0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.unkParam=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function no(){return{videoId:"",params:void 0,number:0}}n(no,"createBaseCreateCommentParams");var ao={encode:(t,e=new ba)=>(""!==t.videoId&&e.uint32(18).string(t.videoId),void 0!==t.params&&ro.encode(t.params,e.uint32(42).fork()).join(),0!==t.number&&e.uint32(80).int32(t.number),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={videoId:"",params:void 0,number:0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 2:if(18!==t)break;n.videoId=i.string();continue;case 5:if(42!==t)break;n.params=ro.decode(i,i.uint32());continue;case 10:if(80!==t)break;n.number=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function oo(){return{index:0}}n(oo,"createBaseCreateCommentParams_Params");var ro={encode:(t,e=new ba)=>(0!==t.index&&e.uint32(8).int32(t.index),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={index:0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.index=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function co(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}n(co,"createBasePeformCommentActionParams");var lo={encode:(t,e=new ba)=>(0!==t.type&&e.uint32(8).int32(t.type),""!==t.commentId&&e.uint32(26).string(t.commentId),""!==t.videoId&&e.uint32(42).string(t.videoId),void 0!==t.unkNum&&e.uint32(16).int32(t.unkNum),void 0!==t.channelId&&e.uint32(186).string(t.channelId),void 0!==t.translateCommentParams&&uo.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.type=i.int32();continue;case 3:if(26!==t)break;n.commentId=i.string();continue;case 5:if(42!==t)break;n.videoId=i.string();continue;case 2:if(16!==t)break;n.unkNum=i.int32();continue;case 23:if(186!==t)break;n.channelId=i.string();continue;case 31:if(250!==t)break;n.translateCommentParams=uo.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function ho(){return{params:void 0,commentId:"",targetLanguage:""}}n(ho,"createBasePeformCommentActionParams_TranslateCommentParams");var uo={encode:(t,e=new ba)=>(void 0!==t.params&&mo.encode(t.params,e.uint32(26).fork()).join(),""!==t.commentId&&e.uint32(18).string(t.commentId),""!==t.targetLanguage&&e.uint32(34).string(t.targetLanguage),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={params:void 0,commentId:"",targetLanguage:""};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 3:if(26!==t)break;n.params=mo.decode(i,i.uint32());continue;case 2:if(18!==t)break;n.commentId=i.string();continue;case 4:if(34!==t)break;n.targetLanguage=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function po(){return{comment:void 0}}n(po,"createBasePeformCommentActionParams_TranslateCommentParams_Params");var mo={encode:(t,e=new ba)=>(void 0!==t.comment&&fo.encode(t.comment,e.uint32(10).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={comment:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.comment=fo.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function _o(){return{text:""}}n(_o,"createBasePeformCommentActionParams_TranslateCommentParams_Params_Comment");var fo={encode:(t,e=new ba)=>(""!==t.text&&e.uint32(10).string(t.text),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={text:""};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.text=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function yo(){return{params:void 0}}n(yo,"createBaseHashtag");var bo={encode:(t,e=new ba)=>(void 0!==t.params&&vo.encode(t.params,e.uint32(746).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={params:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 93:if(746!==t)break;n.params=vo.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function go(){return{hashtag:"",type:0}}n(go,"createBaseHashtag_Params");var vo={encode:(t,e=new ba)=>(""!==t.hashtag&&e.uint32(10).string(t.hashtag),0!==t.type&&e.uint32(24).int32(t.type),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={hashtag:"",type:0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.hashtag=i.string();continue;case 3:if(24!==t)break;n.type=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function wo(){return{shortId:"",params:void 0,feature2:0,feature3:0}}n(wo,"createBaseReelSequence");var xo={encode:(t,e=new ba)=>(""!==t.shortId&&e.uint32(10).string(t.shortId),void 0!==t.params&&So.encode(t.params,e.uint32(42).fork()).join(),0!==t.feature2&&e.uint32(80).int32(t.feature2),0!==t.feature3&&e.uint32(104).int32(t.feature3),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={shortId:"",params:void 0,feature2:0,feature3:0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.shortId=i.string();continue;case 5:if(42!==t)break;n.params=So.decode(i,i.uint32());continue;case 10:if(80!==t)break;n.feature2=i.int32();continue;case 13:if(104!==t)break;n.feature3=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function ko(){return{number:0}}n(ko,"createBaseReelSequence_Params");var So={encode:(t,e=new ba)=>(0!==t.number&&e.uint32(24).int32(t.number),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={number:0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 3:if(24!==t)break;n.number=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Co(){return{videoId:[],playlistTitle:void 0}}n(Co,"createBaseNextParams");var To={encode(t,e=new ba){for(let i of t.videoId)e.uint32(42).string(i);return void 0!==t.playlistTitle&&e.uint32(50).string(t.playlistTitle),e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={videoId:[],playlistTitle:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 5:if(42!==t)break;n.videoId.push(i.string());continue;case 6:if(50!==t)break;n.playlistTitle=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Io(){return{f1:void 0}}n(Io,"createBaseCommunityPostParams");var Eo={encode:(t,e=new ba)=>(void 0!==t.f1&&Ro.encode(t.f1,e.uint32(450).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={f1:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 56:if(450!==t)break;n.f1=Ro.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Po(){return{ucid1:"",postId:"",ucid2:""}}n(Po,"createBaseCommunityPostParams_Field1");var Ro={encode:(t,e=new ba)=>(""!==t.ucid1&&e.uint32(18).string(t.ucid1),""!==t.postId&&e.uint32(26).string(t.postId),""!==t.ucid2&&e.uint32(90).string(t.ucid2),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={ucid1:"",postId:"",ucid2:""};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 2:if(18!==t)break;n.ucid1=i.string();continue;case 3:if(26!==t)break;n.postId=i.string();continue;case 11:if(90!==t)break;n.ucid2=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Ao(){return{f0:void 0}}n(Ao,"createBaseCommunityPostCommentsParamContainer");var Mo={encode:(t,e=new ba)=>(void 0!==t.f0&&Do.encode(t.f0,e.uint32(641815778).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={f0:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 80226972:if(641815778!==t)break;n.f0=Do.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Lo(){return{location:"",protoData:""}}n(Lo,"createBaseCommunityPostCommentsParamContainer_Container");var Do={encode:(t,e=new ba)=>(""!==t.location&&e.uint32(18).string(t.location),""!==t.protoData&&e.uint32(26).string(t.protoData),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={location:"",protoData:""};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 2:if(18!==t)break;n.location=i.string();continue;case 3:if(26!==t)break;n.protoData=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function No(){return{title:"",commentDataContainer:void 0}}n(No,"createBaseCommunityPostCommentsParam");var Bo={encode:(t,e=new ba)=>(""!==t.title&&e.uint32(18).string(t.title),void 0!==t.commentDataContainer&&Oo.encode(t.commentDataContainer,e.uint32(426).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={title:"",commentDataContainer:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 2:if(18!==t)break;n.title=i.string();continue;case 53:if(426!==t)break;n.commentDataContainer=Oo.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Vo(){return{commentData:void 0,f0:0,title:""}}n(Vo,"createBaseCommunityPostCommentsParam_CommentDataContainer");var Oo={encode:(t,e=new ba)=>(void 0!==t.commentData&&Fo.encode(t.commentData,e.uint32(34).fork()).join(),0!==t.f0&&e.uint32(56).int32(t.f0),""!==t.title&&e.uint32(66).string(t.title),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={commentData:void 0,f0:0,title:""};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 4:if(34!==t)break;n.commentData=Fo.decode(i,i.uint32());continue;case 7:if(56!==t)break;n.f0=i.int32();continue;case 8:if(66!==t)break;n.title=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Uo(){return{sortBy:0,f0:0,f1:0,postId:"",channelId:""}}n(Uo,"createBaseCommunityPostCommentsParam_CommentDataContainer_CommentData");var Fo={encode:(t,e=new ba)=>(0!==t.sortBy&&e.uint32(48).int32(t.sortBy),0!==t.f0&&e.uint32(120).int32(t.f0),0!==t.f1&&e.uint32(200).int32(t.f1),""!==t.postId&&e.uint32(234).string(t.postId),""!==t.channelId&&e.uint32(242).string(t.channelId),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={sortBy:0,f0:0,f1:0,postId:"",channelId:""};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 6:if(48!==t)break;n.sortBy=i.int32();continue;case 15:if(120!==t)break;n.f0=i.int32();continue;case 25:if(200!==t)break;n.f1=i.int32();continue;case 29:if(234!==t)break;n.postId=i.string();continue;case 30:if(242!==t)break;n.channelId=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function Ho(t,e){let i=Pa.encode({id:t,timestamp:e});return encodeURIComponent(xL(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}function Wo(t){return Pa.decode(kL(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}function jo(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if("string"!=typeof e.target_language)throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let s=lo.encode(i);return encodeURIComponent(xL(s.finish()))}function Go(t,e){let i=To.encode({videoId:t,playlistTitle:e});return encodeURIComponent(xL(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}n(Ho,"encodeVisitorData"),n(Wo,"decodeVisitorData"),n(jo,"encodeCommentActionParams"),n(Go,"encodeNextParams");var $o=class extends ys{constructor(t){super(),o(this,"popup"),o(this,"popup_type"),this.popup=Os.parseItem(t.popup),this.popup_type=t.popupType}};n($o,"OpenPopupAction"),o($o,"type","OpenPopupAction");var qo=$o,Ko=class extends ys{constructor(t){super(),o(this,"text"),o(this,"label"),o(this,"tooltip"),o(this,"style"),o(this,"size"),o(this,"icon_type"),o(this,"is_disabled"),o(this,"target_id"),o(this,"endpoint"),o(this,"accessibility"),Reflect.has(t,"text")&&(this.text=new mr(t.text).toString()),Reflect.has(t,"accessibility")&&Reflect.has(t.accessibility,"label")&&(this.label=t.accessibility.label),"accessibilityData"in t&&"accessibilityData"in t.accessibilityData&&(this.accessibility={accessibility_data:new Ps(t.accessibilityData.accessibilityData)}),Reflect.has(t,"tooltip")&&(this.tooltip=t.tooltip),Reflect.has(t,"style")&&(this.style=t.style),Reflect.has(t,"size")&&(this.size=t.size),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"isDisabled")&&(this.is_disabled=t.isDisabled),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),this.endpoint=new nr(t.navigationEndpoint||t.serviceEndpoint||t.command)}};n(Ko,"Button"),o(Ko,"type","Button");var Yo=Ko,zo=class extends ys{constructor(t){super(),o(this,"label"),o(this,"selected"),o(this,"value"),o(this,"icon_type"),o(this,"description"),o(this,"endpoint"),this.label=new mr(t.label).toString(),this.selected=!!t.isSelected,Reflect.has(t,"int32Value")?this.value=t.int32Value:t.stringValue&&(this.value=t.stringValue),Reflect.has(t,"onSelectCommand")&&(this.endpoint=new nr(t.onSelectCommand)),Reflect.has(t,"icon")&&(this.icon_type=t.icon?.iconType),Reflect.has(t,"descriptionText")&&(this.description=new mr(t.descriptionText))}};n(zo,"DropdownItem"),o(zo,"type","DropdownItem");var Qo=zo,Xo=class extends ys{constructor(t){super(),o(this,"label"),o(this,"entries"),this.label=t.label||"",this.entries=Os.parseArray(t.entries,Qo)}};n(Xo,"Dropdown"),o(Xo,"type","Dropdown");var Jo=Xo,Zo=class extends ys{constructor(t){super(),o(this,"title"),o(this,"title_placeholder"),o(this,"privacy_option"),o(this,"cancel_button"),o(this,"create_button"),this.title=new mr(t.dialogTitle).toString(),this.title_placeholder=t.titlePlaceholder||"",this.privacy_option=Os.parseItem(t.privacyOption,Jo),this.create_button=Os.parseItem(t.cancelButton,Yo),this.cancel_button=Os.parseItem(t.cancelButton,Yo)}};n(Zo,"CreatePlaylistDialog"),o(Zo,"type","CreatePlaylistDialog");var tr=Zo,er=class extends ys{constructor(t){super(),o(this,"commands"),this.commands=Os.parseCommands(t.commands)}};n(er,"CommandExecutorCommand"),o(er,"type","CommandExecutorCommand");var ir=er,sr=class t extends ys{constructor(e){if(super(),o(this,"name"),o(this,"payload"),o(this,"dialog"),o(this,"modal"),o(this,"open_popup"),o(this,"next_endpoint"),o(this,"metadata"),o(this,"command"),o(this,"commands"),e){if(e.serialCommand||e.parallelCommand){let i=e.serialCommand||e.parallelCommand;this.commands=i.commands.map(e=>new t(e))}(e.innertubeCommand||e.command||e.performOnceCommand)&&(e=e.innertubeCommand||e.command||e.performOnceCommand)}this.command=Os.parseCommand(e),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new qo(e.openPopupAction)),this.name=Object.keys(e||{}).find(t=>t.endsWith("Endpoint")||t.endsWith("Command")),this.payload=this.name?Reflect.get(e,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=Os.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=Os.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new t(this.payload.nextEndpoint)),e?.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},e?.commandMetadata?.webCommandMetadata?.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),e?.commandMetadata?.webCommandMetadata?.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),e?.commandMetadata?.webCommandMetadata?.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),e?.commandMetadata?.webCommandMetadata?.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e?.createPlaylistEndpoint&&e?.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=Os.parseItem(e?.createPlaylistEndpoint.createPlaylistDialog,tr))}getPath(t){switch(t){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(t,e){if(!t)throw new Error("An API caller must be provided");if(this.command){let i=this.command;return i.is(ir)&&(i=i.commands.at(-1)),t.execute(i.getApiPath(),{...i.buildRequest(),...e})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return t.execute(this.metadata.api_url,{...this.payload,...e})}toURL(){if(this.metadata.url&&this.metadata.page_type)return"WEB_PAGE_TYPE_UNKNOWN"===this.metadata.page_type?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(sr,"NavigationEndpoint"),o(sr,"type","NavigationEndpoint");var nr=sr,ar=class t{constructor(t){o(this,"url"),o(this,"width"),o(this,"height"),this.url=t.url,this.width=t.width,this.height=t.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(e=>new t(e)).sort((t,e)=>e.width-t.width):[]}};n(ar,"Thumbnail");var or=ar,rr=class{constructor(t){o(this,"text"),o(this,"emoji"),this.text=t.emoji?.emojiId||t.emoji?.shortcuts?.[0]||t.text||"",this.emoji={emoji_id:t.emoji.emojiId,shortcuts:t.emoji?.shortcuts||[],search_terms:t.emoji?.searchTerms||[],image:or.fromResponse(t.emoji.image),is_custom:!!t.emoji?.isCustomEmoji}}toString(){return this.text}toHTML(){let t=dr(this.text);return`<img src="${this.emoji.image[0].url}" alt="${t}" title="${t}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(rr,"EmojiRun");var cr=rr,lr=class{constructor(t){o(this,"text"),o(this,"text_color"),o(this,"endpoint"),o(this,"bold"),o(this,"bracket"),o(this,"dark_mode_text_color"),o(this,"deemphasize"),o(this,"italics"),o(this,"strikethrough"),o(this,"error_underline"),o(this,"underline"),o(this,"font_face"),o(this,"attachment"),this.text=t.text,this.bold=!!t.bold,this.bracket=!!t.bracket,this.italics=!!t.italics,this.strikethrough=!!t.strikethrough,this.error_underline=!!t.error_underline,this.underline=!!t.underline,this.deemphasize=!!t.deemphasize,"textColor"in t&&(this.text_color=t.textColor),"navigationEndpoint"in t&&(this.endpoint=new nr(t.navigationEndpoint)),"darkModeTextColor"in t&&(this.dark_mode_text_color=t.darkModeTextColor),"fontFace"in t&&(this.font_face=t.fontFace),this.attachment=t.attachment}toString(){return this.text}toHTML(){let t=[];if(this.bold&&t.push("b"),this.italics&&t.push("i"),this.strikethrough&&t.push("s"),this.deemphasize&&t.push("small"),this.underline&&t.push("u"),this.error_underline&&t.push("u"),!this.text?.length)return"";let e=dr(this.text),i=`<span style="white-space: pre-wrap;">${t.map(t=>`<${t}>`).join("")+e+t.map(t=>`</${t}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length&&this.endpoint){let{url:t}=this.attachment.element.type.imageType.image.sources[0],e="";t&&(e=`<img src="${t}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;" alt="">`);let s=this.endpoint.toURL();if(s)return`<a href="${s}" class="yt-ch-link">${e}${i}</a>`}if(this.endpoint){let t=this.endpoint.toURL();if(t)return`<a href="${t}">${i}</a>`}return i}};n(lr,"TextRun");var hr=lr;function dr(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(dr,"escape");var ur="Text",pr=class t{constructor(t){o(this,"text"),o(this,"runs"),o(this,"endpoint"),o(this,"accessibility"),o(this,"rtl"),this.isRunsData(t)?(this.runs=t.runs.map(t=>t.emoji?new cr(t):new hr(t)),this.text=this.runs.map(t=>t.text).join("")):this.text=t?.simpleText,this.isObject(t)&&"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new Ps(t.accessibility.accessibilityData)}),this.rtl=!!t?.rtl,this.parseEndpoint(t)}isRunsData(t){return this.isObject(t)&&Reflect.has(t,"runs")&&Array.isArray(t.runs)}parseEndpoint(t){this.isObject(t)&&("navigationEndpoint"in t?this.endpoint=new nr(t.navigationEndpoint):"titleNavigationEndpoint"in t?this.endpoint=new nr(t.titleNavigationEndpoint):this.runs?.[0]?.endpoint&&(this.endpoint=(this.runs?.[0]).endpoint))}isObject(t){return"object"==typeof t&&null!==t}static fromAttributed(e){let{content:i,commandRuns:s,attachmentRuns:n}=e,a=[{text:i,startIndex:0}],o=e.styleRuns?.map(t=>({...t,startIndex:t.startIndex??0,length:t.length??i.length}));return o?.length&&this.processStyleRuns(a,o,e),s?.length&&this.processCommandRuns(a,s,e),n?.length&&this.processAttachmentRuns(a,n,e),new t({runs:a})}static processStyleRuns(t,e,i){for(let s of e)if(s.italic||"LINE_STYLE_SINGLE"===s.strikethrough||"FONT_WEIGHT_MEDIUM"===s.weightLabel||"FONT_WEIGHT_BOLD"===s.weightLabel){let e=_r(t,s);if(!e){Zi.warn(ur,"Unable to find matching run for style run. Skipping...",{style_run:s,input_data:i,parsed_runs:JSON.parse(JSON.stringify(t))});continue}fr(t,e,s,{bold:"FONT_WEIGHT_MEDIUM"===s.weightLabel||"FONT_WEIGHT_BOLD"===s.weightLabel,italics:s.italic,strikethrough:"LINE_STYLE_SINGLE"===s.strikethrough})}else Zi.debug(ur,"Skipping style run as it is doesn't have any information that we parse.",{style_run:s,input_data:i})}static processCommandRuns(t,e,i){for(let s of e)if(s.onTap){let e=_r(t,s);if(!e){Zi.warn(ur,"Unable to find matching run for command run. Skipping...",{command_run:s,input_data:i,parsed_runs:JSON.parse(JSON.stringify(t))});continue}fr(t,e,s,{navigationEndpoint:s.onTap})}else Zi.debug(ur,'Skipping command run as it is missing the "doTap" property.',{command_run:s,input_data:i})}static processAttachmentRuns(t,e,i){for(let s of e){let e=_r(t,s);if(e)if(0===s.length)e.attachment=s;else{let i=s.startIndex-e.startIndex,n=e.text.substring(i,i+s.length),a=/^:[^:]+:$/.test(n);if(s.element?.type?.imageType?.image&&(a||/^(?:\p{Emoji}|\u200d)+$/u.test(n))){fr(t,e,s,{emoji:{image:s.element.type.imageType.image,isCustomEmoji:a,shortcuts:a?[n]:void 0}})}else fr(t,e,s,{attachment:s})}else Zi.warn(ur,"Unable to find matching run for attachment run. Skipping...",{attachment_run:s,input_data:i,parsed_runs:JSON.parse(JSON.stringify(t))})}}toHTML(){return this.runs?this.runs.map(t=>t.toHTML()).join(""):this.text}isEmpty(){return void 0===this.text}toString(){return this.text||"N/A"}};n(pr,"Text");var mr=pr;function _r(t,e){return t.find(t=>t.startIndex<=e.startIndex&&e.startIndex+e.length<=t.startIndex+t.text.length)}function fr(t,e,i,s){let n=t.indexOf(e),a=[],o=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push({...e,text:e.text.substring(0,o)}),a.push({...e,text:e.text.substring(o,o+i.length),startIndex:i.startIndex,...s}),i.startIndex+i.length<e.startIndex+e.text.length&&a.push({...e,text:e.text.substring(o+i.length),startIndex:i.startIndex+i.length}),t.splice(n,1,...a)}n(_r,"findMatchingRun"),n(fr,"insertSubRun");var yr=class extends ys{constructor(t){super(),o(this,"title"),o(this,"link"),o(this,"favicon"),this.title=mr.fromAttributed(t.title),this.link=mr.fromAttributed(t.link),this.favicon=or.fromResponse(t.favicon)}};n(yr,"ChannelExternalLinkView"),o(yr,"type","ChannelExternalLinkView");var br=yr,gr=class extends ys{constructor(t){super(),o(this,"description"),o(this,"description_label"),o(this,"country"),o(this,"custom_links_label"),o(this,"subscriber_count"),o(this,"view_count"),o(this,"joined_date"),o(this,"canonical_channel_url"),o(this,"channel_id"),o(this,"additional_info_label"),o(this,"custom_url_on_tap"),o(this,"video_count"),o(this,"sign_in_for_business_email"),o(this,"links"),Reflect.has(t,"description")&&(this.description=t.description),Reflect.has(t,"descriptionLabel")&&(this.description_label=mr.fromAttributed(t.descriptionLabel)),Reflect.has(t,"country")&&(this.country=t.country),Reflect.has(t,"customLinksLabel")&&(this.custom_links_label=mr.fromAttributed(t.customLinksLabel)),Reflect.has(t,"subscriberCountText")&&(this.subscriber_count=t.subscriberCountText),Reflect.has(t,"viewCountText")&&(this.view_count=t.viewCountText),Reflect.has(t,"joinedDateText")&&(this.joined_date=mr.fromAttributed(t.joinedDateText)),Reflect.has(t,"canonicalChannelUrl")&&(this.canonical_channel_url=t.canonicalChannelUrl),Reflect.has(t,"channelId")&&(this.channel_id=t.channelId),Reflect.has(t,"additionalInfoLabel")&&(this.additional_info_label=mr.fromAttributed(t.additionalInfoLabel)),Reflect.has(t,"customUrlOnTap")&&(this.custom_url_on_tap=new nr(t.customUrlOnTap)),Reflect.has(t,"videoCountText")&&(this.video_count=t.videoCountText),Reflect.has(t,"signInForBusinessEmail")&&(this.sign_in_for_business_email=mr.fromAttributed(t.signInForBusinessEmail)),Reflect.has(t,"links")?this.links=Os.parseArray(t.links,br):this.links=[]}};n(gr,"AboutChannelView"),o(gr,"type","AboutChannelView");var vr=gr,wr=class extends ys{constructor(t){super(),o(this,"metadata"),o(this,"share_channel"),this.metadata=Os.parseItem(t.metadata,vr),this.share_channel=Os.parseItem(t.shareChannel,Yo)}};n(wr,"AboutChannel"),o(wr,"type","AboutChannel");var xr=wr,kr=class extends ys{constructor(t){super(),o(this,"title"),o(this,"endpoint"),this.title=new mr(t.title),this.endpoint=new nr(t.navigationEndpoint)}};n(kr,"AccountChannel"),o(kr,"type","AccountChannel");var Sr=kr,Cr=class extends ys{constructor(t){super(),o(this,"account_name"),o(this,"account_photo"),o(this,"is_selected"),o(this,"is_disabled"),o(this,"has_channel"),o(this,"endpoint"),o(this,"account_byline"),o(this,"channel_handle"),this.account_name=new mr(t.accountName),this.account_photo=or.fromResponse(t.accountPhoto),this.is_selected=!!t.isSelected,this.is_disabled=!!t.isDisabled,this.has_channel=!!t.hasChannel,this.endpoint=new nr(t.serviceEndpoint),this.account_byline=new mr(t.accountByline),this.channel_handle=new mr(t.channelHandle)}};n(Cr,"AccountItem"),o(Cr,"type","AccountItem");var Tr=Cr,Ir=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(Ir,"AccountItemSectionHeader"),o(Ir,"type","AccountItemSectionHeader");var Er=Ir,Pr=class extends ys{constructor(t){super(),o(this,"title"),o(this,"subtitle"),o(this,"endpoint"),o(this,"style"),o(this,"icon_type"),o(this,"secondary_icon_type"),this.title=new mr(t.title).toString(),"subtitle"in t&&(this.subtitle=new mr(t.subtitle)),"icon"in t&&"iconType"in t.icon&&(this.icon_type=t.icon.iconType),"secondaryIcon"in t&&"iconType"in t.secondaryIcon&&(this.secondary_icon_type=t.secondaryIcon.iconType),this.endpoint=new nr(t.navigationEndpoint||t.serviceEndpoint),this.style=t.style}};n(Pr,"CompactLink"),o(Pr,"type","CompactLink");var Rr=Pr,Ar=class extends ys{constructor(t){super(),o(this,"contents"),o(this,"header"),this.contents=Os.parseArray(t.contents,[Tr,Rr]),this.header=Os.parseItem(t.header,Er)}};n(Ar,"AccountItemSection"),o(Ar,"type","AccountItemSection");var Mr=Ar,Lr=class extends ys{constructor(t){super(),o(this,"contents"),o(this,"footers"),this.contents=Os.parseArray(t.contents,Mr),this.footers=Os.parseArray(t.footers,Sr)}};n(Lr,"AccountSectionList"),o(Lr,"type","AccountSectionList");var Dr=Lr,Nr=class extends ys{constructor(t){super(),o(this,"contents"),o(this,"target"),this.contents=Os.parseArray(t.continuationItems),this.target=t.target}};n(Nr,"AppendContinuationItemsAction"),o(Nr,"type","AppendContinuationItemsAction");var Br=Nr,Vr=class extends ys{constructor(t){super(),o(this,"target_id"),o(this,"visibility"),this.target_id=t.targetId,this.visibility=t.visibility}};n(Vr,"ChangeEngagementPanelVisibilityAction"),o(Vr,"type","ChangeEngagementPanelVisibilityAction");var Or=Vr,Ur=class extends ys{constructor(t){super(),o(this,"header"),o(this,"sections"),o(this,"style"),this.header=Os.parseItem(t.header),this.sections=Os.parseArray(t.sections),this.style=t.style}};n(Ur,"MultiPageMenu"),o(Ur,"type","MultiPageMenu");var Fr=Ur,Hr=class extends ys{constructor(t){super(),o(this,"menu"),this.menu=Os.parseItem(t.menu,Fr)}};n(Hr,"GetMultiPageMenuAction"),o(Hr,"type","GetMultiPageMenuAction");var Wr=Hr,jr=class extends ys{constructor(t){super(),o(this,"bucket"),this.bucket=t.bucket}};n(jr,"SendFeedbackAction"),o(jr,"type","SendFeedbackAction");var Gr=jr,$r=class extends ys{constructor(t){super(),o(this,"signal"),this.signal=t.signal}};n($r,"SignalAction"),o($r,"type","SignalAction");var qr=$r,Kr=class extends ys{constructor(t){super(),o(this,"header"),o(this,"contents"),this.header=Os.parseItem(t.header),this.contents=Os.parse(t.contents,!0)}};n(Kr,"ChannelSwitcherPage"),o(Kr,"type","ChannelSwitcherPage");var Yr=Kr,zr=class extends ys{constructor(t){super(),o(this,"header"),o(this,"contents");let e=Os.parseItem(t.page,Yr);e&&(this.header=e.header,this.contents=e.contents)}};n(zr,"UpdateChannelSwitcherPageAction"),o(zr,"type","UpdateChannelSwitcherPageAction");var Qr=zr,Xr=class extends ys{constructor(t){super(),o(this,"title"),o(this,"icon_type"),o(this,"tooltip"),o(this,"sub_menu_items"),o(this,"accessibility"),"title"in t&&(this.title=t.title),"icon"in t&&(this.icon_type=t.icon.iconType),"tooltip"in t&&(this.tooltip=t.tooltip),"subMenuItems"in t&&(this.sub_menu_items=t.subMenuItems.map(t=>({title:t.title,selected:t.selected,continuation:t.continuation?.reloadContinuationData?.continuation,endpoint:new nr(t.serviceEndpoint||t.navigationEndpoint),subtitle:t.subtitle||null}))),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new Ps(t.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}};n(Xr,"SortFilterSubMenu"),o(Xr,"type","SortFilterSubMenu");var Jr=Xr,Zr=class extends ys{constructor(t){super(),o(this,"language_menu"),this.language_menu=Os.parseItem(t.languageMenu,Jr)}};n(Zr,"TranscriptFooter"),o(Zr,"type","TranscriptFooter");var tc=Zr,ec=class extends ys{constructor(t){super(),o(this,"formatted_placeholder"),o(this,"clear_button"),o(this,"endpoint"),o(this,"search_button"),this.formatted_placeholder=new mr(t.formattedPlaceholder),this.clear_button=Os.parseItem(t.clearButton,Yo),this.endpoint=new nr(t.onTextChangeCommand),this.search_button=Os.parseItem(t.searchButton,Yo)}};n(ec,"TranscriptSearchBox"),o(ec,"type","TranscriptSearchBox");var ic=ec,sc=class extends ys{constructor(t){super(),o(this,"start_ms"),o(this,"end_ms"),o(this,"snippet"),this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new mr(t.snippet)}};n(sc,"TranscriptSectionHeader"),o(sc,"type","TranscriptSectionHeader");var nc=sc,ac=class extends ys{constructor(t){super(),o(this,"start_ms"),o(this,"end_ms"),o(this,"snippet"),o(this,"start_time_text"),o(this,"target_id"),this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new mr(t.snippet),this.start_time_text=new mr(t.startTimeText),this.target_id=t.targetId}};n(ac,"TranscriptSegment"),o(ac,"type","TranscriptSegment");var oc=ac,rc=class extends ys{constructor(t){super(),o(this,"initial_segments"),o(this,"no_result_label"),o(this,"retry_label"),o(this,"touch_captions_enabled"),this.initial_segments=Os.parseArray(t.initialSegments,[oc,nc]),this.no_result_label=new mr(t.noResultLabel),this.retry_label=new mr(t.retryLabel),this.touch_captions_enabled=t.touchCaptionsEnabled}};n(rc,"TranscriptSegmentList"),o(rc,"type","TranscriptSegmentList");var cc=rc,lc=class extends ys{constructor(t){super(),o(this,"header"),o(this,"body"),o(this,"footer"),o(this,"target_id"),this.header=Os.parseItem(t.header,ic),this.body=Os.parseItem(t.body,cc),this.footer=Os.parseItem(t.footer,tc),this.target_id=t.targetId}};n(lc,"TranscriptSearchPanel"),o(lc,"type","TranscriptSearchPanel");var hc=lc,dc=class extends ys{constructor(t){super(),o(this,"content"),this.content=Os.parseItem(t.content,hc)}};n(dc,"Transcript"),o(dc,"type","Transcript");var uc=dc,pc=class extends ys{constructor(t){super(),o(this,"target_id"),o(this,"content"),this.target_id=t.targetId,this.content=Os.parseItem(t.content,uc)}};n(pc,"UpdateEngagementPanelAction"),o(pc,"type","UpdateEngagementPanelAction");var mc=pc,_c=class extends ys{constructor(t){super(),o(this,"channel_id"),o(this,"subscribed"),this.channel_id=t.channelId,this.subscribed=t.subscribed}};n(_c,"UpdateSubscribeButtonAction"),o(_c,"type","UpdateSubscribeButtonAction");var fc=_c,yc=class extends ys{constructor(t){super(),o(this,"account_name"),o(this,"account_photo"),o(this,"endpoint"),o(this,"manage_account_title"),o(this,"channel_handle"),this.account_name=new mr(t.accountName),this.account_photo=or.fromResponse(t.accountPhoto),this.endpoint=new nr(t.serviceEndpoint),this.manage_account_title=new mr(t.manageAccountTitle),this.channel_handle=new mr(t.channelHandle)}};n(yc,"ActiveAccountHeader"),o(yc,"type","ActiveAccountHeader");var bc=yc,gc=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(gc,"MenuTitle"),o(gc,"type","MenuTitle");var vc=gc,wc=class extends ys{constructor(t){super(),o(this,"add_to_playlist_service_endpoint"),o(this,"contains_selected_videos"),o(this,"playlist_id"),o(this,"privacy"),o(this,"privacy_icon"),o(this,"remove_from_playlist_service_endpoint"),o(this,"title"),this.add_to_playlist_service_endpoint=new nr(t.addToPlaylistServiceEndpoint),this.contains_selected_videos=t.containsSelectedVideos,this.playlist_id=t.playlistId,this.privacy=t.privacy,this.privacy_icon={icon_type:t.privacyIcon?.iconType||null},this.remove_from_playlist_service_endpoint=new nr(t.removeFromPlaylistServiceEndpoint),this.title=new mr(t.title)}};n(wc,"PlaylistAddToOption"),o(wc,"type","PlaylistAddToOption");var xc=wc,kc=class extends ys{constructor(t){super(),o(this,"actions"),o(this,"playlists"),this.actions=Os.parseArray(t.actions,[vc,Yo]),this.playlists=Os.parseArray(t.playlists,xc)}};n(kc,"AddToPlaylist"),o(kc,"type","AddToPlaylist");var Sc=kc,Cc=class extends ys{constructor(t){super(),o(this,"text"),o(this,"alert_type"),this.text=new mr(t.text),this.alert_type=t.type}};n(Cc,"Alert"),o(Cc,"type","Alert");var Tc=Cc,Ic=class extends ys{constructor(t){super(),o(this,"text"),o(this,"alert_type"),o(this,"dismiss_button"),this.text=new mr(t.text),this.alert_type=t.type,this.dismiss_button=Os.parseItem(t.dismissButton,Yo)}};n(Ic,"AlertWithButton"),o(Ic,"type","AlertWithButton");var Ec=Ic,Pc=class extends ys{constructor(t){super(),o(this,"thumbnail"),this.thumbnail=or.fromResponse(t.thumbnail)}};n(Pc,"AnimatedThumbnailOverlayView"),o(Pc,"type","AnimatedThumbnailOverlayView");var Rc=Pc,Ac=class extends ys{constructor(t){super(),o(this,"text"),o(this,"suffix"),this.text=mr.fromAttributed(t.text),this.suffix=mr.fromAttributed(t.suffix)}};n(Ac,"AttributionView"),o(Ac,"type","AttributionView");var Mc=Ac,Lc=class extends ys{constructor(t){super(),o(this,"audio_only_availability"),this.audio_only_availability=t.audioOnlyAvailability}};n(Lc,"AudioOnlyPlayability"),o(Lc,"type","AudioOnlyPlayability");var Dc=Lc,Nc=class extends ys{constructor(t){super(),o(this,"playlist_video"),t?.content?.automixPlaylistVideoRenderer?.navigationEndpoint&&(this.playlist_video={endpoint:new nr(t.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(Nc,"AutomixPreviewVideo"),o(Nc,"type","AutomixPreviewVideo");var Bc=Nc,Vc=class extends ys{constructor(t){super(),o(this,"image"),o(this,"image_processor"),o(this,"avatar_image_size"),this.image=or.fromResponse(t.image),this.avatar_image_size=t.avatarImageSize,t.image.processor&&(this.image_processor={border_image_processor:{circular:t.image.processor.borderImageProcessor.circular}})}};n(Vc,"AvatarView"),o(Vc,"type","AvatarView");var Oc=Vc,Uc=class{constructor(t){o(this,"on_focus"),o(this,"on_hidden"),o(this,"on_touch_end"),o(this,"on_touch_move"),o(this,"on_long_press"),o(this,"on_tap"),o(this,"on_touch_start"),o(this,"on_visible"),o(this,"on_first_visible"),o(this,"on_hover"),"onFocus"in t&&(this.on_focus=new nr(t.onFocus)),"onHidden"in t&&(this.on_hidden=new nr(t.onHidden)),"onTouchEnd"in t&&(this.on_touch_end=new nr(t.onTouchEnd)),"onTouchMove"in t&&(this.on_touch_move=new nr(t.onTouchMove)),"onLongPress"in t&&(this.on_long_press=new nr(t.onLongPress)),"onTap"in t&&(this.on_tap=new nr(t.onTap)),"onTouchStart"in t&&(this.on_touch_start=new nr(t.onTouchStart)),"onVisible"in t&&(this.on_visible=new nr(t.onVisible)),"onFirstVisible"in t&&(this.on_first_visible=new nr(t.onFirstVisible)),"onHover"in t&&(this.on_hover=new nr(t.onHover))}};n(Uc,"CommandContext");var Fc=Uc,Hc=class{constructor(t){o(this,"command_context"),o(this,"accessibility_context"),t&&("commandContext"in t&&(this.command_context=new Fc(t.commandContext)),"accessibilityContext"in t&&(this.accessibility_context=new Is(t.accessibilityContext)))}};n(Hc,"RendererContext");var Wc=Hc,jc=class extends ys{constructor(t){super(),o(this,"avatars"),o(this,"text"),o(this,"renderer_context"),this.avatars=Os.parseArray(t.avatars,Oc),Reflect.has(t,"text")&&(this.text=mr.fromAttributed(t.text)),this.renderer_context=new Wc(t.rendererContext)}};n(jc,"AvatarStackView"),o(jc,"type","AvatarStackView");var Gc=jc,$c=class extends ys{constructor(t){super(),o(this,"secondary_icon_image"),o(this,"icon_name"),o(this,"enable_icon_button"),o(this,"tooltip"),o(this,"icon_image_flip_for_rtl"),o(this,"button_size"),o(this,"icon_position"),o(this,"is_full_width"),o(this,"state"),o(this,"on_disabled_tap"),o(this,"custom_border_color"),o(this,"on_tap"),o(this,"style"),o(this,"icon_image"),o(this,"custom_dark_theme_border_color"),o(this,"title"),o(this,"target_id"),o(this,"enable_full_width_margins"),o(this,"custom_font_color"),o(this,"button_type"),o(this,"enabled"),o(this,"accessibility_id"),o(this,"custom_background_color"),o(this,"on_long_press"),o(this,"title_formatted"),o(this,"on_visible"),o(this,"icon_trailing"),o(this,"accessibility_text"),"secondaryIconImage"in t&&(this.secondary_icon_image=or.fromResponse(t.secondaryIconImage)),"iconName"in t&&(this.icon_name=t.iconName),"enableIconButton"in t&&(this.enable_icon_button=t.enableIconButton),"tooltip"in t&&(this.tooltip=t.tooltip),"iconImageFlipForRtl"in t&&(this.icon_image_flip_for_rtl=t.iconImageFlipForRtl),"buttonSize"in t&&(this.button_size=t.buttonSize),"iconPosition"in t&&(this.icon_position=t.iconPosition),"isFullWidth"in t&&(this.is_full_width=t.isFullWidth),"state"in t&&(this.state=t.state),"onDisabledTap"in t&&(this.on_disabled_tap=new nr(t.onDisabledTap)),"customBorderColor"in t&&(this.custom_border_color=t.customBorderColor),"onTap"in t&&(this.on_tap=new nr(t.onTap)),"style"in t&&(this.style=t.style),"iconImage"in t&&(this.icon_image=t.iconImage),"customDarkThemeBorderColor"in t&&(this.custom_dark_theme_border_color=t.customDarkThemeBorderColor),"title"in t&&(this.title=t.title),"targetId"in t&&(this.target_id=t.targetId),"enableFullWidthMargins"in t&&(this.enable_full_width_margins=t.enableFullWidthMargins),"customFontColor"in t&&(this.custom_font_color=t.customFontColor),"type"in t&&(this.button_type=t.type),"enabled"in t&&(this.enabled=t.enabled),"accessibilityId"in t&&(this.accessibility_id=t.accessibilityId),"customBackgroundColor"in t&&(this.custom_background_color=t.customBackgroundColor),"onLongPress"in t&&(this.on_long_press=new nr(t.onLongPress)),"titleFormatted"in t&&(this.title_formatted=t.titleFormatted),"onVisible"in t&&(this.on_visible=t.onVisible),"iconTrailing"in t&&(this.icon_trailing=t.iconTrailing),"accessibilityText"in t&&(this.accessibility_text=t.accessibilityText)}};n($c,"ButtonView"),o($c,"type","ButtonView");var qc=$c,Kc=class extends ys{constructor(t){super(),o(this,"body_text"),o(this,"cta_button"),o(this,"icon_type"),o(this,"title"),this.body_text=new mr(t.bodyText),this.cta_button=Os.parseItem(t.ctaButton,[Yo,qc]),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.title=new mr(t.title)}};n(Kc,"BackgroundPromo"),o(Kc,"type","BackgroundPromo");var Yc=Kc,zc=class extends ys{constructor(t){super(),o(this,"image"),o(this,"endpoint"),this.image=or.fromResponse(t.image),this.endpoint=new nr(t.command)}};n(zc,"BackstageImage"),o(zc,"type","BackstageImage");var Qc=zc,Xc=class extends ys{constructor(t){super(),o(this,"text"),o(this,"toggled_text"),o(this,"tooltip"),o(this,"toggled_tooltip"),o(this,"is_toggled"),o(this,"is_disabled"),o(this,"icon_type"),o(this,"like_count"),o(this,"short_like_count"),o(this,"endpoint"),o(this,"toggled_endpoint"),o(this,"button_id"),o(this,"target_id"),this.text=new mr(t.defaultText),this.toggled_text=new mr(t.toggledText),this.tooltip=t.defaultTooltip,this.toggled_tooltip=t.toggledTooltip,this.is_toggled=t.isToggled,this.is_disabled=t.isDisabled,this.icon_type=t.defaultIcon?.iconType;let e=t?.defaultText?.accessibility?.accessibilityData?.label||t?.accessibilityData?.accessibilityData?.label||t?.accessibility?.label;"LIKE"==this.icon_type&&(this.like_count=parseInt(e.replace(/\D/g,"")),this.short_like_count=new mr(t.defaultText).toString()),this.endpoint=t.defaultServiceEndpoint?.commandExecutorCommand?.commands?new nr(t.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new nr(t.defaultServiceEndpoint),this.toggled_endpoint=new nr(t.toggledServiceEndpoint),Reflect.has(t,"toggleButtonSupportedData")&&Reflect.has(t.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=t.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(t,"targetId")&&(this.target_id=t.targetId)}};n(Xc,"ToggleButton"),o(Xc,"type","ToggleButton");var Jc=Xc,Zc=class extends ys{constructor(t){super(),o(this,"creator_thumbnail"),o(this,"heart_icon_type"),o(this,"heart_color"),o(this,"hearted_tooltip"),o(this,"is_hearted"),o(this,"is_enabled"),o(this,"kennedy_heart_color_string"),this.creator_thumbnail=or.fromResponse(t.creatorThumbnail),Reflect.has(t,"heartIcon")&&Reflect.has(t.heartIcon,"iconType")&&(this.heart_icon_type=t.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:t.heartColor?.basicColorPaletteData?.foregroundTitleColor}},this.hearted_tooltip=t.heartedTooltip,this.is_hearted=t.isHearted,this.is_enabled=t.isEnabled,this.kennedy_heart_color_string=t.kennedyHeartColorString}};n(Zc,"CreatorHeart"),o(Zc,"type","CreatorHeart");var tl=Zc,el=class extends ys{constructor(t){super(),o(this,"like_button"),o(this,"dislike_button"),o(this,"reply_button"),o(this,"creator_heart"),this.like_button=Os.parseItem(t.likeButton,Jc),this.dislike_button=Os.parseItem(t.dislikeButton,Jc),this.reply_button=Os.parseItem(t.replyButton,Yo),this.creator_heart=Os.parseItem(t.creatorHeart,tl)}};n(el,"CommentActionButtons"),o(el,"type","CommentActionButtons");var il=el,sl=class extends ys{constructor(t){super(),o(this,"default_button"),o(this,"toggled_button"),o(this,"is_toggling_disabled"),o(this,"identifier"),o(this,"is_toggled"),this.default_button=Os.parseItem(t.defaultButtonViewModel,qc),this.toggled_button=Os.parseItem(t.toggledButtonViewModel,qc),this.is_toggling_disabled=t.isTogglingDisabled,this.identifier=t.identifier,Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled)}};n(sl,"ToggleButtonView"),o(sl,"type","ToggleButtonView");var nl=sl,al=class extends ys{constructor(t){super(),o(this,"toggle_button"),o(this,"like_status_entity_key"),o(this,"like_status_entity"),this.toggle_button=Os.parseItem(t.toggleButtonViewModel,nl),this.like_status_entity_key=t.likeStatusEntityKey,this.like_status_entity={key:t.likeStatusEntity.key,like_status:t.likeStatusEntity.likeStatus}}};n(al,"LikeButtonView"),o(al,"type","LikeButtonView");var ol=al,rl=class extends ys{constructor(t){super(),o(this,"toggle_button"),o(this,"dislike_entity_key"),this.toggle_button=Os.parseItem(t.toggleButtonViewModel,nl),this.dislike_entity_key=t.dislikeEntityKey}};n(rl,"DislikeButtonView"),o(rl,"type","DislikeButtonView");var cl=rl,ll=class extends ys{constructor(t){if(super(),o(this,"like_button"),o(this,"dislike_button"),o(this,"icon_type"),o(this,"like_count_entity"),o(this,"dynamic_like_count_update_data"),o(this,"like_count"),o(this,"short_like_count"),this.like_button=Os.parseItem(t.likeButtonViewModel,ol),this.dislike_button=Os.parseItem(t.dislikeButtonViewModel,cl),this.icon_type=t.iconType,this.like_button&&this.like_button.toggle_button){let t=this.like_button.toggle_button;t.default_button?(this.short_like_count=t.default_button.title,t.default_button.accessibility_text&&(this.like_count=parseInt(t.default_button.accessibility_text.replace(/\D/g,"")))):t.toggled_button&&(this.short_like_count=t.toggled_button.title,t.toggled_button.accessibility_text&&(this.like_count=parseInt(t.toggled_button.accessibility_text.replace(/\D/g,""))))}this.like_count_entity={key:t.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:t.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:t.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:t.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:t.dynamicLikeCountUpdateData.updateDelaySec}}};n(ll,"SegmentedLikeDislikeButtonView"),o(ll,"type","SegmentedLikeDislikeButtonView");var hl=ll,dl=class extends Yo{constructor(t){super(t)}};n(dl,"MenuServiceItem"),o(dl,"type","MenuServiceItem");var ul=dl,pl=class extends ys{constructor(t){super(),o(this,"style"),o(this,"size"),o(this,"endpoint"),o(this,"target_id"),this.style=t.style,this.size=t.size,this.endpoint=new nr(t.command),this.target_id=t.targetId}};n(pl,"DownloadButton"),o(pl,"type","DownloadButton");var ml=pl,_l=class extends ys{constructor(t){super(),o(this,"has_separator"),o(this,"endpoint"),this.has_separator=!!t.hasSeparator,this.endpoint=new nr(t.navigationEndpoint||t.serviceEndpoint)}};n(_l,"MenuServiceItemDownload"),o(_l,"type","MenuServiceItemDownload");var fl=_l,yl=class extends ys{constructor(t){super(),o(this,"menu_item"),o(this,"top_level_button"),this.menu_item=Os.parseItem(t.menuItem,[ul,fl]),this.top_level_button=Os.parseItem(t.topLevelButton,[ml,qc,Yo])}};n(yl,"MenuFlexibleItem"),o(yl,"type","MenuFlexibleItem");var bl=yl,gl=class extends ys{constructor(t){super(),o(this,"target"),o(this,"like_status"),o(this,"likes_allowed"),o(this,"endpoints"),this.target={video_id:t.target.videoId},this.like_status=t.likeStatus,this.likes_allowed=t.likesAllowed,Reflect.has(t,"serviceEndpoints")&&(this.endpoints=t.serviceEndpoints.map(t=>new nr(t)))}};n(gl,"LikeButton"),o(gl,"type","LikeButton");var vl=gl,wl=class extends ys{constructor(t){super(),o(this,"actions_rows"),o(this,"style"),this.actions_rows=t.actionsRows.map(t=>({actions:Os.parseArray(t.actions,[qc,nl])})),this.style=t.style}};n(wl,"FlexibleActionsView"),o(wl,"type","FlexibleActionsView");var xl=wl,kl=class extends ys{constructor(t){super(),o(this,"items"),o(this,"flexible_items"),o(this,"top_level_buttons"),o(this,"accessibility"),this.items=Os.parseArray(t.items),this.flexible_items=Os.parseArray(t.flexibleItems,bl),this.top_level_buttons=Os.parseArray(t.topLevelButtons,[Jc,vl,Yo,qc,hl,xl]),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new Ps(t.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}get contents(){return this.items}};n(kl,"Menu"),o(kl,"type","Menu");var Sl=kl,Cl=class extends ys{constructor(t){super(),o(this,"id"),o(this,"author"),o(this,"content"),o(this,"published"),o(this,"poll_status"),o(this,"vote_status"),o(this,"vote_count"),o(this,"menu"),o(this,"action_buttons"),o(this,"vote_button"),o(this,"surface"),o(this,"endpoint"),o(this,"attachment"),this.id=t.postId,this.author=new qM({...t.authorText,navigationEndpoint:t.authorEndpoint},null,t.authorThumbnail),this.content=new mr(t.contentText),this.published=new mr(t.publishedTimeText),Reflect.has(t,"pollStatus")&&(this.poll_status=t.pollStatus),Reflect.has(t,"voteStatus")&&(this.vote_status=t.voteStatus),Reflect.has(t,"voteCount")&&(this.vote_count=new mr(t.voteCount)),Reflect.has(t,"actionMenu")&&(this.menu=Os.parseItem(t.actionMenu,Sl)),Reflect.has(t,"actionButtons")&&(this.action_buttons=Os.parseItem(t.actionButtons,il)),Reflect.has(t,"voteButton")&&(this.vote_button=Os.parseItem(t.voteButton,Yo)),Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new nr(t.navigationEndpoint)),Reflect.has(t,"backstageAttachment")&&(this.attachment=Os.parseItem(t.backstageAttachment)),this.surface=t.surface}};n(Cl,"BackstagePost"),o(Cl,"type","BackstagePost");var Tl=Cl,Il=class extends ys{constructor(t){super(),o(this,"post"),this.post=Os.parseItem(t.post)}};n(Il,"BackstagePostThread"),o(Il,"type","BackstagePostThread");var El=Il,Pl=class extends ys{constructor(t){super(),o(this,"text"),o(this,"style"),o(this,"accessibility_label"),this.text=t.badgeText,this.style=t.badgeStyle,this.accessibility_label=t.accessibilityLabel}};n(Pl,"BadgeView");var Rl=Pl,Al=class extends ys{constructor(t){super(),o(this,"name"),o(this,"is_selected"),o(this,"endpoint"),this.name=new mr(t.name),this.is_selected=t.isSelected,this.endpoint=new nr(t.navigationEndpoint)}};n(Al,"SubFeedOption"),o(Al,"type","SubFeedOption");var Ml=Al,Ll=class extends ys{constructor(t){super(),o(this,"title"),o(this,"options"),this.title=new mr(t.title),this.options=Os.parseArray(t.options,Ml)}};n(Ll,"SubFeedSelector"),o(Ll,"type","SubFeedSelector");var Dl=Ll,Nl=class extends ys{constructor(t){super(),o(this,"disclaimer"),o(this,"info_icon"),o(this,"usage_scenario"),this.disclaimer=new mr(t.disclaimer),this.info_icon={icon_type:t.infoIcon.iconType},this.usage_scenario=t.usageScenario}};n(Nl,"EomSettingsDisclaimer"),o(Nl,"type","EomSettingsDisclaimer");var Bl=Nl,Vl=class extends ys{constructor(t){super(),o(this,"endpoint"),o(this,"search_button"),o(this,"clear_button"),o(this,"placeholder_text"),this.endpoint=new nr(t.endpoint),this.search_button=Os.parseItem(t.searchButton,Yo),this.clear_button=Os.parseItem(t.clearButton,Yo),this.placeholder_text=new mr(t.placeholderText)}};n(Vl,"SearchBox"),o(Vl,"type","SearchBox");var Ol=Vl,Ul=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=Os.parseArray(t.contents,[Dl,Bl,Jc,Rr,Ol,Yo])}};n(Ul,"BrowseFeedActions"),o(Ul,"type","BrowseFeedActions");var Fl=Ul,Hl=class extends ys{constructor(t){super(),o(this,"album"),o(this,"thumbnails"),this.album=new mr(t.album),this.thumbnails=or.fromResponse(t.thumbnailDetails)}};n(Hl,"BrowserMediaSession"),o(Hl,"type","BrowserMediaSession");var Wl=Hl,jl=class extends ys{constructor(t){super(),o(this,"title"),o(this,"icon_name"),o(this,"renderer_context"),this.title=t.title,this.icon_name=t.image.sources[0].clientResource.imageName,this.renderer_context=new Wc(t.rendererContext)}};n(jl,"ButtonCardView"),o(jl,"type","ButtonCardView");var Gl=jl,$l=class extends ys{constructor(t){super(),o(this,"endpoint"),o(this,"icon"),o(this,"title"),this.endpoint=new nr(t.navigationEndpoint),this.icon=or.fromResponse(t.icon),this.title=new mr(t.title)}};n($l,"HeaderLink"),o($l,"type","HeaderLink");var ql=$l,Kl=class extends ys{constructor(t){super(),o(this,"primary"),o(this,"secondary"),this.primary=ks(t.primaryLinks?.map(t=>new ql(t))||[]),this.secondary=ks(t.secondaryLinks?.map(t=>new ql(t))||[])}};n(Kl,"ChannelHeaderLinks"),o(Kl,"type","ChannelHeaderLinks");var Yl=Kl,zl=class extends ys{constructor(t){super(),o(this,"first_link"),o(this,"more"),Reflect.has(t,"firstLink")&&(this.first_link=mr.fromAttributed(t.firstLink)),Reflect.has(t,"more")&&(this.more=mr.fromAttributed(t.more))}};n(zl,"ChannelHeaderLinksView"),o(zl,"type","ChannelHeaderLinksView");var Ql=zl,Xl=class extends ys{constructor(t){super(),o(this,"placeholder_text"),o(this,"max_character_limit"),this.placeholder_text=new mr(t.placeholderText),this.max_character_limit=t.maxCharacterLimit}};n(Xl,"ClipCreationTextInput"),o(Xl,"type","ClipCreationTextInput");var Jl=Xl,Zl=class extends ys{constructor(t){super(),o(this,"length_template"),o(this,"max_length_ms"),o(this,"min_length_ms"),o(this,"default_length_ms"),o(this,"window_size_ms"),o(this,"start_label"),o(this,"end_label"),o(this,"duration_label"),this.length_template=t.lengthTemplate,this.max_length_ms=t.maxLengthMs,this.min_length_ms=t.minLengthMs,this.default_length_ms=t.defaultLengthMs,this.window_size_ms=t.windowSizeMs,this.start_label=t.startAccessibility?.accessibilityData?.label,this.end_label=t.endAccessibility?.accessibilityData?.label,this.duration_label=t.durationAccessibility?.accessibilityData?.label}};n(Zl,"ClipCreationScrubber"),o(Zl,"type","ClipCreationScrubber");var th=Zl,eh=class extends ys{constructor(t){super(),o(this,"title"),o(this,"body"),this.title=new mr(t.title),this.body=new mr(t.body)}};n(eh,"ClipAdState"),o(eh,"type","ClipAdState");var ih=eh,sh=class extends ys{constructor(t){super(),o(this,"user_avatar"),o(this,"title_input"),o(this,"scrubber"),o(this,"save_button"),o(this,"display_name"),o(this,"publicity_label"),o(this,"cancel_button"),o(this,"ad_state_overlay"),o(this,"external_video_id"),o(this,"publicity_label_icon"),this.user_avatar=or.fromResponse(t.userAvatar),this.title_input=Os.parseItem(t.titleInput,[Jl]),this.scrubber=Os.parseItem(t.scrubber,[th]),this.save_button=Os.parseItem(t.saveButton,[Yo]),this.display_name=new mr(t.displayName),this.publicity_label=t.publicityLabel,this.cancel_button=Os.parseItem(t.cancelButton,[Yo]),this.ad_state_overlay=Os.parseItem(t.adStateOverlay,[ih]),this.external_video_id=t.externalVideoId,this.publicity_label_icon=t.publicityLabelIcon}};n(sh,"ClipCreation"),o(sh,"type","ClipCreation");var nh=sh,ah=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=Os.parse(t.contents,!0,[nh])}};n(ah,"ClipSection"),o(ah,"type","ClipSection");var oh=ah,rh=class extends ys{constructor(t){super(),o(this,"trigger"),o(this,"button"),o(this,"endpoint"),this.trigger=t.trigger,Reflect.has(t,"button")&&(this.button=Os.parseItem(t.button,Yo)),this.endpoint=new nr(t.continuationEndpoint)}};n(rh,"ContinuationItem"),o(rh,"type","ContinuationItem");var ch=rh,lh=class extends ys{constructor(t){super(),o(this,"title"),o(this,"visibility_button"),o(this,"contextual_info"),o(this,"menu"),this.title=new mr(t.title),this.contextual_info=t.contextualInfo?new mr(t.contextualInfo):void 0,this.visibility_button=Os.parseItem(t.visibilityButton,Yo),this.menu=Os.parseItem(t.menu)}};n(lh,"EngagementPanelTitleHeader"),o(lh,"type","EngagementPanelTitleHeader");var hh=lh,dh=class extends ys{constructor(t){super(),o(this,"info_text"),o(this,"menu"),this.info_text=new mr(t.infoText),this.menu=Os.parseItem(t.menu,Sl)}};n(dh,"MacroMarkersInfoItem"),o(dh,"type","MacroMarkersInfoItem");var uh=dh,ph=class extends ys{constructor(t){super(),o(this,"title"),o(this,"time_description"),o(this,"thumbnail"),o(this,"on_tap_endpoint"),o(this,"layout"),o(this,"is_highlighted"),this.title=new mr(t.title),this.time_description=new mr(t.timeDescription),this.thumbnail=or.fromResponse(t.thumbnail),this.on_tap_endpoint=new nr(t.onTap),this.layout=t.layout,this.is_highlighted=!!t.isHighlighted}};n(ph,"MacroMarkersListItem"),o(ph,"type","MacroMarkersListItem");var mh=ph,_h=class extends ys{constructor(t){super(),o(this,"contents"),o(this,"sync_button_label"),this.contents=Os.parseArray(t.contents,[uh,mh]),this.sync_button_label=new mr(t.syncButtonLabel)}};n(_h,"MacroMarkersList"),o(_h,"type","MacroMarkersList");var fh=_h,yh=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=Os.parseArray(t.contents)}};n(yh,"ProductList"),o(yh,"type","ProductList");var bh=yh,gh=class extends ys{constructor(t){super(),o(this,"contents"),o(this,"target_id"),o(this,"continuation"),o(this,"header"),o(this,"sub_menu"),this.contents=Os.parseArray(t.contents),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),Reflect.has(t,"continuations")&&(Reflect.has(t.continuations[0],"nextContinuationData")?this.continuation=t.continuations[0].nextContinuationData.continuation:Reflect.has(t.continuations[0],"reloadContinuationData")&&(this.continuation=t.continuations[0].reloadContinuationData.continuation)),Reflect.has(t,"header")&&(this.header=Os.parseItem(t.header)),Reflect.has(t,"subMenu")&&(this.sub_menu=Os.parseItem(t.subMenu))}};n(gh,"SectionList"),o(gh,"type","SectionList");var vh=gh,wh=class extends ys{constructor(t){super(),o(this,"show_more_text"),o(this,"show_less_text"),o(this,"attributed_description_body_text"),this.show_more_text=new mr(t.showMoreText),this.show_less_text=new mr(t.showLessText),Reflect.has(t,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=mr.fromAttributed(t.attributedDescriptionBodyText))}};n(wh,"ExpandableVideoDescriptionBody"),o(wh,"type","ExpandableVideoDescriptionBody");var xh=wh,kh=class extends ys{constructor(t){super(),o(this,"thumbnails"),o(this,"endpoint"),o(this,"query"),this.thumbnails=or.fromResponse(t.thumbnail),this.endpoint=new nr(t.searchEndpoint),this.query=new mr(t.query).toString()}};n(kh,"SearchRefinementCard"),o(kh,"type","SearchRefinementCard");var Sh=kh,Ch=class extends ys{constructor(t){super(),o(this,"game"),this.game=Os.parseItem(t.game)}};n(Ch,"GameCard"),o(Ch,"type","GameCard");var Th=Ch,Ih=class extends ys{constructor(t){super(),o(this,"visible_item_count"),o(this,"items"),this.visible_item_count=t.visibleItemCount,this.items=Os.parseArray(t.items)}get contents(){return this.items}};n(Ih,"HorizontalList"),o(Ih,"type","HorizontalList");var Eh=Ih,Ph=class extends ys{constructor(t){super(),o(this,"header"),o(this,"expanded_content"),o(this,"expand_button"),o(this,"collapse_button"),Reflect.has(t,"header")&&(this.header={collapsed_title:new mr(t.header.collapsedTitle),collapsed_thumbnail:or.fromResponse(t.header.collapsedThumbnail),collapsed_label:new mr(t.header.collapsedLabel),expanded_title:new mr(t.header.expandedTitle)}),this.expanded_content=Os.parseItem(t.expandedContent,[Gh,Eh]),this.expand_button=Os.parseItem(t.expandButton,Yo),this.collapse_button=Os.parseItem(t.collapseButton,Yo)}};n(Ph,"ExpandableMetadata"),o(Ph,"type","ExpandableMetadata");var Rh=Ph,Ah=class extends ys{constructor(t){super(),o(this,"icon_type"),o(this,"style"),o(this,"label"),o(this,"tooltip"),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"style")&&(this.style=t.style),Reflect.has(t,"label")&&(this.label=t.label),(Reflect.has(t,"tooltip")||Reflect.has(t,"iconTooltip"))&&(this.tooltip=t.tooltip||t.iconTooltip)}};n(Ah,"MetadataBadge"),o(Ah,"type","MetadataBadge");var Mh=Ah,Lh=class extends ys{constructor(t){super(),o(this,"text"),o(this,"style"),this.text=new mr(t.text).toString(),this.style=t.style}};n(Lh,"ThumbnailOverlayTimeStatus"),o(Lh,"type","ThumbnailOverlayTimeStatus");var Dh=Lh,Nh=class extends ys{constructor(t){super(),o(this,"video_id"),o(this,"title"),o(this,"untranslated_title"),o(this,"description_snippet"),o(this,"snippets"),o(this,"expandable_metadata"),o(this,"additional_metadatas"),o(this,"thumbnails"),o(this,"thumbnail_overlays"),o(this,"rich_thumbnail"),o(this,"author"),o(this,"badges"),o(this,"endpoint"),o(this,"published"),o(this,"view_count"),o(this,"short_view_count"),o(this,"upcoming"),o(this,"length_text"),o(this,"show_action_menu"),o(this,"is_watched"),o(this,"menu"),o(this,"byline_text"),o(this,"search_video_result_entity_key"),o(this,"service_endpoints"),o(this,"service_endpoint"),o(this,"style"),this.title=new mr(t.title),this.video_id=t.videoId,this.expandable_metadata=Os.parseItem(t.expandableMetadata,Rh),"untranslatedTitle"in t&&(this.untranslated_title=new mr(t.untranslatedTitle)),"descriptionSnippet"in t&&(this.description_snippet=new mr(t.descriptionSnippet)),"detailedMetadataSnippets"in t&&(this.snippets=t.detailedMetadataSnippets.map(t=>({text:new mr(t.snippetText),hover_text:new mr(t.snippetHoverText)}))),"additionalMetadatas"in t&&(this.additional_metadatas=t.additionalMetadatas.map(t=>new mr(t))),this.thumbnails=or.fromResponse(t.thumbnail),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays),"richThumbnail"in t&&(this.rich_thumbnail=Os.parseItem(t.richThumbnail)),this.author=new qM(t.ownerText,t.ownerBadges,t.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail),this.badges=Os.parseArray(t.badges,Mh),"navigationEndpoint"in t&&(this.endpoint=new nr(t.navigationEndpoint)),"publishedTimeText"in t&&(this.published=new mr(t.publishedTimeText)),"viewCountText"in t&&(this.view_count=new mr(t.viewCountText)),"shortViewCountText"in t&&(this.short_view_count=new mr(t.shortViewCountText)),"upcomingEventData"in t&&(this.upcoming=new Date(+`${t.upcomingEventData.startTime}000`)),this.show_action_menu=!!t.showActionMenu,this.is_watched=!!t.isWatched,this.menu=Os.parseItem(t.menu,Sl),"searchVideoResultEntityKey"in t&&(this.search_video_result_entity_key=t.searchVideoResultEntityKey),"bylineText"in t&&(this.byline_text=new mr(t.bylineText)),"lengthText"in t&&(this.length_text=new mr(t.lengthText)),"serviceEndpoints"in t&&(this.service_endpoints=t.serviceEndpoints.map(t=>new nr(t))),"serviceEndpoint"in t&&(this.service_endpoint=new nr(t.serviceEndpoint)),"style"in t&&(this.style=t.style)}get id(){return this.video_id}get description(){return this.snippets?this.snippets.map(t=>t.text.toString()).join(""):this.description_snippet?.toString()||""}get is_live(){return this.badges.some(t=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===t.style||"LIVE"===t.label)return!0})||"LIVE"===this.thumbnail_overlays.firstOfType(Dh)?.style}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(t=>"PREMIERE"===t.label)}get is_4k(){return this.badges.some(t=>"4K"===t.label)}get has_captions(){return this.badges.some(t=>"CC"===t.label)}get best_thumbnail(){return this.thumbnails[0]}get duration(){let t=this.thumbnail_overlays.firstOfType(Dh),e=this.length_text?.toString()||t?.text.toString();return{text:e,seconds:e?fL(e):0}}};n(Nh,"Video"),o(Nh,"type","Video");var Bh=Nh,Vh=class extends Bh{constructor(t){super(t),o(this,"metadata_text"),Reflect.has(t,"metadataText")&&(this.metadata_text=new mr(t.metadataText),this.metadata_text.text&&(this.short_view_count=new mr({simpleText:this.metadata_text.text.split("·")[0]?.trim()}),this.published=new mr({simpleText:this.metadata_text.text.split("·")[1]?.trim()}))),Reflect.has(t,"bylineText")&&(this.author=new qM(t.bylineText,t.ownerBadges,t.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail))}};n(Vh,"VideoCard"),o(Vh,"type","VideoCard");var Oh=Vh,Uh=class extends ys{constructor(t){super(),o(this,"image"),o(this,"style"),this.image=or.fromResponse(t.image),this.style=t.style}};n(Uh,"ContentPreviewImageView"),o(Uh,"type","ContentPreviewImageView");var Fh=Uh,Hh=class extends ys{constructor(t){super(),o(this,"image"),o(this,"image_style"),o(this,"title"),o(this,"subtitle"),o(this,"secondary_subtitle"),o(this,"orientation"),o(this,"sizing_rule"),o(this,"overflow_menu_on_tap"),o(this,"overflow_menu_a11y_label"),t.image?.sources?this.image=or.fromResponse(t.image):this.image=Os.parseItem(t.image,Fh),this.image_style=t.imageStyle,this.title=t.title,this.subtitle=t.subtitle,Reflect.has(t,"secondarySubtitle")&&(this.secondary_subtitle={content:t.secondarySubtitle.content}),this.orientation=t.orientation,this.sizing_rule=t.sizingRule,this.overflow_menu_on_tap=new nr(t.overflowMenuOnTap),this.overflow_menu_a11y_label=t.overflowMenuA11yLabel}};n(Hh,"VideoAttributeView"),o(Hh,"type","VideoAttributeView");var Wh=Hh,jh=class extends ys{constructor(t){super(),o(this,"cards"),o(this,"header"),o(this,"previous_button"),o(this,"next_button"),this.cards=Os.parseArray(t.cards,[Wh,Sh,mh,Th,Oh]),this.header=Os.parseItem(t.header),this.previous_button=Os.parseItem(t.previousButton,Yo),this.next_button=Os.parseItem(t.nextButton,Yo)}};n(jh,"HorizontalCardList"),o(jh,"type","HorizontalCardList");var Gh=jh,$h=class extends ys{constructor(t){super(),o(this,"label"),o(this,"value"),o(this,"accessibility_text"),this.label=new mr(t.label),this.value=new mr(t.value),this.accessibility_text=t.accessibilityText}};n($h,"Factoid"),o($h,"type","Factoid");var qh=$h,Kh=class extends ys{constructor(t){super(),o(this,"factoid"),this.factoid=Os.parseItem(t.factoid,qh)}};n(Kh,"UploadTimeFactoid"),o(Kh,"type","UploadTimeFactoid");var Yh=Kh,zh=class extends ys{constructor(t){super(),o(this,"view_count_entity_key"),o(this,"factoid"),o(this,"view_count_type"),this.view_count_entity_key=t.viewCountEntityKey,this.factoid=Os.parseItem(t.factoid,[qh]),this.view_count_type=t.viewCountType}};n(zh,"ViewCountFactoid"),o(zh,"type","ViewCountFactoid");var Qh=zh,Xh=class extends ys{constructor(t){super(),o(this,"factoid"),this.factoid=Os.parseItem(t.factoid,qh)}};n(Xh,"HypePointsFactoid"),o(Xh,"type","HypePointsFactoid");var Jh=Xh,Zh=class extends ys{constructor(t){super(),o(this,"channel"),o(this,"channel_navigation_endpoint"),o(this,"channel_thumbnail"),o(this,"factoids"),o(this,"publish_date"),o(this,"title"),o(this,"views"),this.title=new mr(t.title),this.channel=new mr(t.channel),this.channel_navigation_endpoint=new nr(t.channelNavigationEndpoint),this.channel_thumbnail=or.fromResponse(t.channelThumbnail),this.publish_date=new mr(t.publishDate),this.views=new mr(t.views),this.factoids=Os.parseArray(t.factoid,[qh,Jh,Qh,Yh])}};n(Zh,"VideoDescriptionHeader"),o(Zh,"type","VideoDescriptionHeader");var td=Zh,ed=class extends ys{constructor(t){super(),o(this,"section_title"),o(this,"creator_videos_button"),o(this,"creator_about_button"),o(this,"section_subtitle"),o(this,"channel_avatar"),o(this,"channel_endpoint"),this.section_title=new mr(t.sectionTitle),this.creator_videos_button=Os.parseItem(t.creatorVideosButton,Yo),this.creator_about_button=Os.parseItem(t.creatorAboutButton,Yo),this.section_subtitle=new mr(t.sectionSubtitle),this.channel_avatar=or.fromResponse(t.channelAvatar),this.channel_endpoint=new nr(t.channelEndpoint)}};n(ed,"VideoDescriptionInfocardsSection"),o(ed,"type","VideoDescriptionInfocardsSection");var id=ed,sd=class extends ys{constructor(t){super(),o(this,"title"),o(this,"default_metadata"),o(this,"expanded_metadata"),o(this,"info_row_expand_status_key"),this.title=new mr(t.title),Reflect.has(t,"defaultMetadata")&&(this.default_metadata=new mr(t.defaultMetadata)),Reflect.has(t,"expandedMetadata")&&(this.expanded_metadata=new mr(t.expandedMetadata)),Reflect.has(t,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=t.infoRowExpandStatusKey)}};n(sd,"InfoRow"),o(sd,"type","InfoRow");var nd=sd,ad=class extends ys{constructor(t){super(),o(this,"video_id"),o(this,"thumbnails"),o(this,"rich_thumbnail"),o(this,"title"),o(this,"author"),o(this,"view_count"),o(this,"short_view_count"),o(this,"short_byline_text"),o(this,"long_byline_text"),o(this,"published"),o(this,"badges"),o(this,"thumbnail_overlays"),o(this,"endpoint"),o(this,"menu"),o(this,"length_text"),o(this,"is_watched"),o(this,"service_endpoints"),o(this,"service_endpoint"),o(this,"style"),this.video_id=t.videoId,this.thumbnails=or.fromResponse(t.thumbnail),this.title=new mr(t.title),this.author=new qM(t.longBylineText,t.ownerBadges,t.channelThumbnail),this.is_watched=!!t.isWatched,this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays),this.menu=Os.parseItem(t.menu,Sl),this.badges=Os.parseArray(t.badges,Mh),"publishedTimeText"in t&&(this.published=new mr(t.publishedTimeText)),"shortBylineText"in t&&(this.view_count=new mr(t.viewCountText)),"shortViewCountText"in t&&(this.short_view_count=new mr(t.shortViewCountText)),"richThumbnail"in t&&(this.rich_thumbnail=Os.parseItem(t.richThumbnail)),"shortBylineText"in t&&(this.short_byline_text=new mr(t.shortBylineText)),"longBylineText"in t&&(this.long_byline_text=new mr(t.longBylineText)),"lengthText"in t&&(this.length_text=new mr(t.lengthText)),"serviceEndpoints"in t&&(this.service_endpoints=t.serviceEndpoints.map(t=>new nr(t))),"serviceEndpoint"in t&&(this.service_endpoint=new nr(t.serviceEndpoint)),"navigationEndpoint"in t&&(this.endpoint=new nr(t.navigationEndpoint)),"style"in t&&(this.style=t.style)}get id(){return this.video_id}get duration(){let t=this.thumbnail_overlays.firstOfType(Dh),e=this.length_text?.toString()||t?.text.toString();return{text:e,seconds:e?fL(e):0}}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(t=>"Fundraiser"===t.label)}get is_live(){return this.badges.some(t=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===t.style||"LIVE"===t.label)return!0})}get is_new(){return this.badges.some(t=>"New"===t.label)}get is_premiere(){return this.badges.some(t=>"PREMIERE"===t.style)}};n(ad,"CompactVideo"),o(ad,"type","CompactVideo");var od=ad,rd=class extends ys{constructor(t){super(),o(this,"info_rows"),o(this,"video_lockup"),this.info_rows=Os.parseArray(t.infoRows,nd),this.video_lockup=Os.parseItem(t.videoLockup,od)}};n(rd,"CarouselLockup"),o(rd,"type","CarouselLockup");var cd=rd,ld=class extends ys{constructor(t){super(),o(this,"carousel_lockups"),o(this,"section_title"),this.carousel_lockups=Os.parseArray(t.carouselLockups,cd),this.section_title=new mr(t.sectionTitle)}};n(ld,"VideoDescriptionMusicSection"),o(ld,"type","VideoDescriptionMusicSection");var hd=ld,dd=class extends ys{constructor(t){super(),o(this,"section_title"),o(this,"sub_header_text"),o(this,"primary_button"),this.section_title=new mr(t.sectionTitle),this.sub_header_text=new mr(t.subHeaderText),this.primary_button=Os.parseItem(t.primaryButton,Yo)}};n(dd,"VideoDescriptionTranscriptSection"),o(dd,"type","VideoDescriptionTranscriptSection");var ud=dd,pd=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"title"),o(this,"short_byline_text"),o(this,"video_count_short_text"),o(this,"endpoint"),o(this,"thumbnail_width"),o(this,"aspect_ratio"),o(this,"max_lines_title"),o(this,"max_lines_short_byline_text"),o(this,"overlay_position"),this.thumbnail=or.fromResponse(t.thumbnail),this.title=new mr(t.title),this.short_byline_text=new mr(t.shortBylineText),this.video_count_short_text=new mr(t.videoCountShortText),this.endpoint=new nr(t.navigationEndpoint),this.thumbnail_width=t.thumbnailWidth,this.aspect_ratio=t.aspectRatio,this.max_lines_title=t.maxLinesTitle,this.max_lines_short_byline_text=t.maxLinesShortBylineText,this.overlay_position=t.overlayPosition}};n(pd,"StructuredDescriptionPlaylistLockup"),o(pd,"type","StructuredDescriptionPlaylistLockup");var md=pd,_d=class extends ys{constructor(t){super(),o(this,"section_title"),o(this,"media_lockups"),this.section_title=new mr(t.sectionTitle),this.media_lockups=Os.parseArray(t.mediaLockups,[md])}};n(_d,"VideoDescriptionCourseSection"),o(_d,"type","VideoDescriptionCourseSection");var fd=_d,yd=class extends ys{constructor(t){super(),o(this,"header_title"),o(this,"header_subtitle"),o(this,"video_attributes"),o(this,"previous_button"),o(this,"next_button"),this.header_title=t.headerTitle,this.header_subtitle=t.headerSubtitle,this.video_attributes=Os.parseArray(t.videoAttributeViewModels,Wh),this.previous_button=Os.parseItem(t.previousButton,qc),this.next_button=Os.parseItem(t.nextButton,qc)}};n(yd,"VideoAttributesSectionView"),o(yd,"type","VideoAttributesSectionView");var bd=yd,gd=class extends ys{constructor(t){super(),o(this,"section_title"),o(this,"body_text"),o(this,"body_header"),Reflect.has(t,"sectionText")&&(this.section_title=mr.fromAttributed(t.sectionText)),Reflect.has(t,"bodyText")&&(this.body_text=mr.fromAttributed(t.bodyText)),Reflect.has(t,"bodyHeader")&&(this.body_header=mr.fromAttributed(t.bodyHeader))}};n(gd,"HowThisWasMadeSectionView"),o(gd,"type","HowThisWasMadeSectionView");var vd=gd,wd=class extends ys{constructor(t){super(),o(this,"title"),o(this,"items"),o(this,"endpoint"),this.title=new mr(t.title),this.items=Os.parseArray(t.items),Reflect.has(t,"endpoint")&&(this.endpoint=new nr(t.endpoint))}get contents(){return this.items}};n(wd,"ReelShelf"),o(wd,"type","ReelShelf");var xd=wd,kd=class extends ys{constructor(t){super(),o(this,"items"),this.items=Os.parseArray(t.items,[td,xh,hd,id,fd,ud,ud,Gh,xd,bd,vd])}};n(kd,"StructuredDescriptionContent"),o(kd,"type","StructuredDescriptionContent");var Sd=kd,Cd=class extends ys{constructor(t){super(),o(this,"header"),o(this,"content"),o(this,"target_id"),o(this,"panel_identifier"),o(this,"identifier"),o(this,"visibility"),this.header=Os.parseItem(t.header,hh),this.content=Os.parseItem(t.content,[Wh,vh,ch,oh,Sd,fh,bh]),this.panel_identifier=t.panelIdentifier,this.identifier=t.identifier?{surface:t.identifier.surface,tag:t.identifier.tag}:void 0,this.target_id=t.targetId,this.visibility=t.visibility}};n(Cd,"EngagementPanelSectionList"),o(Cd,"type","EngagementPanelSectionList");var Td=Cd,Id=class extends ys{constructor(t){super(),o(this,"content"),o(this,"max_lines"),o(this,"more_endpoint"),o(this,"more_icon_type"),o(this,"more_label"),o(this,"target_id"),this.content=t.content,this.max_lines=t.maxLines,this.more_endpoint=t.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:Os.parseItem(t.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,Td),engagement_panel_popup_type:t.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:t.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:t.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new nr(t.moreEndpoint),this.more_icon_type=t.moreIcon.iconType,this.more_label=t.moreLabel,this.target_id=t.targetId}};n(Id,"ChannelTagline"),o(Id,"type","ChannelTagline");var Ed=Id,Pd=class extends ys{constructor(t){super(),o(this,"states"),o(this,"current_state_id"),o(this,"target_id"),this.states=t.states.map(t=>({id:t.stateId,next_id:t.nextStateId,state:Os.parse(t.state)})),this.current_state_id=t.currentStateId,this.target_id=t.targetId}};n(Pd,"SubscriptionNotificationToggleButton"),o(Pd,"type","SubscriptionNotificationToggleButton");var Rd=Pd,Ad=class extends ys{constructor(t){super(),o(this,"button_text"),o(this,"subscribed"),o(this,"enabled"),o(this,"item_type"),o(this,"channel_id"),o(this,"show_preferences"),o(this,"subscribed_text"),o(this,"unsubscribed_text"),o(this,"unsubscribe_text"),o(this,"notification_preference_button"),o(this,"service_endpoints"),o(this,"on_subscribe_endpoints"),o(this,"on_unsubscribe_endpoints"),o(this,"subscribed_entity_key"),o(this,"target_id"),o(this,"subscribe_accessibility_label"),o(this,"unsubscribe_accessibility_label"),this.button_text=new mr(t.buttonText),this.subscribed=t.subscribed,this.enabled=t.enabled,this.item_type=t.type,this.channel_id=t.channelId,this.show_preferences=t.showPreferences,Reflect.has(t,"subscribedButtonText")&&(this.subscribed_text=new mr(t.subscribedButtonText)),Reflect.has(t,"unsubscribedButtonText")&&(this.unsubscribed_text=new mr(t.unsubscribedButtonText)),Reflect.has(t,"unsubscribeButtonText")&&(this.unsubscribe_text=new mr(t.unsubscribeButtonText)),this.notification_preference_button=Os.parseItem(t.notificationPreferenceButton,Rd),Reflect.has(t,"serviceEndpoints")&&(this.service_endpoints=t.serviceEndpoints.map(t=>new nr(t))),Reflect.has(t,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=t.onSubscribeEndpoints.map(t=>new nr(t))),Reflect.has(t,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=t.onUnsubscribeEndpoints.map(t=>new nr(t))),Reflect.has(t,"subscribedEntityKey")&&(this.subscribed_entity_key=t.subscribedEntityKey),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),Reflect.has(t,"subscribeAccessibility")&&(this.subscribe_accessibility_label=t.subscribeAccessibility.accessibilityData?.label),Reflect.has(t,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=t.unsubscribeAccessibility.accessibilityData?.label)}};n(Ad,"SubscribeButton"),o(Ad,"type","SubscribeButton");var Md=Ad,Ld=class extends ys{constructor(t){super(),o(this,"author"),o(this,"banner"),o(this,"tv_banner"),o(this,"mobile_banner"),o(this,"subscribers"),o(this,"videos_count"),o(this,"sponsor_button"),o(this,"subscribe_button"),o(this,"header_links"),o(this,"channel_handle"),o(this,"channel_id"),o(this,"tagline"),this.author=new qM({simpleText:t.title,navigationEndpoint:t.navigationEndpoint},t.badges,t.avatar),Reflect.has(t,"banner")&&(this.banner=or.fromResponse(t.banner)),Reflect.has(t,"tv_banner")&&(this.tv_banner=or.fromResponse(t.tvBanner)),Reflect.has(t,"mobile_banner")&&(this.mobile_banner=or.fromResponse(t.mobileBanner)),Reflect.has(t,"subscriberCountText")&&(this.subscribers=new mr(t.subscriberCountText)),Reflect.has(t,"videosCountText")&&(this.videos_count=new mr(t.videosCountText)),Reflect.has(t,"sponsorButton")&&(this.sponsor_button=Os.parseItem(t.sponsorButton,Yo)),Reflect.has(t,"subscribeButton")&&(this.subscribe_button=Os.parseItem(t.subscribeButton,[Md,Yo])),Reflect.has(t,"headerLinks")&&(this.header_links=Os.parseItem(t.headerLinks,[Yl,Ql])),Reflect.has(t,"channelHandleText")&&(this.channel_handle=new mr(t.channelHandleText)),Reflect.has(t,"channelId")&&(this.channel_id=t.channelId),Reflect.has(t,"tagline")&&(this.tagline=Os.parseItem(t.tagline,Ed))}};n(Ld,"C4TabbedHeader"),o(Ld,"type","C4TabbedHeader");var Dd=Ld,Nd=class extends ys{constructor(t){super(),o(this,"label"),o(this,"icon_type"),o(this,"style"),this.label=new mr(t.label),this.icon_type=t.icon.iconType,this.style=t.style}};n(Nd,"CallToActionButton"),o(Nd,"type","CallToActionButton");var Bd=Nd,Vd=class extends ys{constructor(t){super(),o(this,"teaser"),o(this,"content"),o(this,"card_id"),o(this,"feature"),o(this,"cue_ranges"),this.teaser=Os.parseItem(t.teaser),this.content=Os.parseItem(t.content),Reflect.has(t,"cardId")&&(this.card_id=t.cardId),Reflect.has(t,"feature")&&(this.feature=t.feature),this.cue_ranges=t.cueRanges.map(t=>({start_card_active_ms:t.startCardActiveMs,end_card_active_ms:t.endCardActiveMs,teaser_duration_ms:t.teaserDurationMs,icon_after_teaser_ms:t.iconAfterTeaserMs}))}};n(Vd,"Card"),o(Vd,"type","Card");var Od=Vd,Ud=class extends ys{constructor(t){super(),o(this,"cards"),o(this,"header"),o(this,"allow_teaser_dismiss"),this.cards=Os.parseArray(t.cards),this.header=new mr(t.headerText),this.allow_teaser_dismiss=t.allowTeaserDismiss}};n(Ud,"CardCollection"),o(Ud,"type","CardCollection");var Fd=Ud,Hd=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=Os.parseArray(t.contents)}};n(Hd,"CarouselHeader"),o(Hd,"type","CarouselHeader");var Wd=Hd,jd=class extends ys{constructor(t){super(),o(this,"items"),o(this,"background_color"),o(this,"layout_style"),o(this,"pagination_thumbnails"),o(this,"paginator_alignment"),this.items=Os.parseArray(t.carouselItems),this.background_color=t.backgroundColor,this.layout_style=t.layoutStyle,this.pagination_thumbnails=or.fromResponse(t.paginationThumbnails),this.paginator_alignment=t.paginatorAlignment}get contents(){return this.items}};n(jd,"CarouselItem"),o(jd,"type","CarouselItem");var Gd=jd,$d=class extends ys{constructor(t){super(),o(this,"icon_name"),o(this,"text"),o(this,"on_tap_endpoint"),o(this,"button"),this.icon_name=t.iconName,this.text=mr.fromAttributed(t.text),this.on_tap_endpoint=new nr(t.onTap),this.button=Os.parseItem(t.button,qc)}};n($d,"TextCarouselItemView"),o($d,"type","TextCarouselItemView");var qd=$d,Kd=class extends ys{constructor(t){super(),o(this,"item_type"),o(this,"carousel_item"),this.item_type=t.itemType,this.carousel_item=Os.parseItem(t.carouselItem,qd)}};n(Kd,"CarouselItemView"),o(Kd,"type","CarouselItemView");var Yd=Kd,zd=class extends ys{constructor(t){super(),o(this,"title"),o(this,"previous_button"),o(this,"next_button"),this.title=t.title,this.previous_button=Os.parseItem(t.previousButton,qc),this.next_button=Os.parseItem(t.nextButton,qc)}};n(zd,"CarouselTitleView"),o(zd,"type","CarouselTitleView");var Qd=zd,Xd=class extends ys{constructor(t){super(),o(this,"id"),o(this,"author"),o(this,"subscriber_count"),o(this,"video_count"),o(this,"long_byline"),o(this,"short_byline"),o(this,"endpoint"),o(this,"subscribe_button"),o(this,"description_snippet"),this.id=t.channelId,this.author=new qM({...t.title,navigationEndpoint:t.navigationEndpoint},t.ownerBadges,t.thumbnail),this.subscriber_count=new mr(t.subscriberCountText),this.video_count=new mr(t.videoCountText),this.long_byline=new mr(t.longBylineText),this.short_byline=new mr(t.shortBylineText),this.endpoint=new nr(t.navigationEndpoint),this.subscribe_button=Os.parseItem(t.subscribeButton,[Md,Yo]),this.description_snippet=new mr(t.descriptionSnippet)}};n(Xd,"Channel"),o(Xd,"type","Channel");var Jd=Xd,Zd=class extends ys{constructor(t){super(),o(this,"id"),o(this,"name"),o(this,"avatar"),o(this,"canonical_channel_url"),o(this,"primary_links"),o(this,"view_count"),o(this,"joined_date"),o(this,"description"),o(this,"email_reveal"),o(this,"can_reveal_email"),o(this,"country"),o(this,"buttons"),this.id=t.channelId,this.name=new mr(t.title),this.avatar=or.fromResponse(t.avatar),this.canonical_channel_url=t.canonicalChannelUrl,this.primary_links=t.primaryLinks?.map(t=>({endpoint:new nr(t.navigationEndpoint),icon:or.fromResponse(t.icon),title:new mr(t.title)}))??[],this.view_count=new mr(t.viewCountText),this.joined_date=new mr(t.joinedDateText),this.description=new mr(t.description),this.email_reveal=new nr(t.onBusinessEmailRevealClickCommand),this.can_reveal_email=!t.signInForBusinessEmail,this.country=new mr(t.country),this.buttons=Os.parseArray(t.actionButtons,Yo)}};n(Zd,"ChannelAboutFullMetadata"),o(Zd,"type","ChannelAboutFullMetadata");var tu=Zd,eu=class extends ys{constructor(t){super(),o(this,"channel_title"),o(this,"avatar"),o(this,"header"),o(this,"main_text"),o(this,"sign_in_button"),o(this,"secondary_text"),this.channel_title=t.channelTitle,this.avatar=or.fromResponse(t.avatar),this.header=new mr(t.header),this.main_text=new mr(t.mainText),this.sign_in_button=Os.parseItem(t.signInButton,Yo),this.secondary_text=new mr(t.secondaryText)}};n(eu,"ChannelAgeGate"),o(eu,"type","ChannelAgeGate");var iu=eu,su=class extends ys{constructor(t){super(),o(this,"title"),o(this,"items"),this.title=new mr(t.title),this.items=Os.parseArray(t.items)}};n(su,"ChannelFeaturedContent"),o(su,"type","ChannelFeaturedContent");var nu=su,au=class extends ys{constructor(t){super(),o(this,"title"),o(this,"description"),o(this,"url"),o(this,"rss_url"),o(this,"vanity_channel_url"),o(this,"external_id"),o(this,"is_family_safe"),o(this,"keywords"),o(this,"avatar"),o(this,"music_artist_name"),o(this,"available_countries"),o(this,"android_deep_link"),o(this,"android_appindexing_link"),o(this,"ios_appindexing_link"),this.title=t.title,this.description=t.description,this.url=t.channelUrl,this.rss_url=t.rssUrl,this.vanity_channel_url=t.vanityChannelUrl,this.external_id=t.externalId,this.is_family_safe=t.isFamilySafe,this.keywords=t.keywords,this.avatar=or.fromResponse(t.avatar),this.music_artist_name="string"==typeof t.musicArtistName&&t.musicArtistName.length>0?t.musicArtistName:void 0,this.available_countries=t.availableCountryCodes,this.android_deep_link=t.androidDeepLink,this.android_appindexing_link=t.androidAppindexingLink,this.ios_appindexing_link=t.iosAppindexingLink}};n(au,"ChannelMetadata"),o(au,"type","ChannelMetadata");var ou=au,ru=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(ru,"ChannelMobileHeader"),o(ru,"type","ChannelMobileHeader");var cu=ru,lu=class extends ys{constructor(t){super(),o(this,"avatar"),o(this,"endpoint"),o(this,"name"),o(this,"links"),this.avatar=or.fromResponse(t.avatar),this.endpoint=new nr(t.avatarEndpoint),this.name=t.name,this.links=t.links.map(t=>new mr(t))}};n(lu,"ChannelOptions"),o(lu,"type","ChannelOptions");var hu=lu,du=class extends ys{constructor(t){super(),o(this,"illustration"),o(this,"description"),this.illustration=or.fromResponse(t.illustration),this.description=new mr(t.description)}};n(du,"ChannelOwnerEmptyState"),o(du,"type","ChannelOwnerEmptyState");var uu=du,pu=class extends ys{constructor(t){super(),o(this,"content_type_sub_menu_items"),o(this,"sort_setting"),this.content_type_sub_menu_items=t.contentTypeSubMenuItems.map(t=>({endpoint:new nr(t.navigationEndpoint||t.endpoint),selected:t.selected,title:t.title})),this.sort_setting=Os.parseItem(t.sortSetting)}};n(pu,"ChannelSubMenu"),o(pu,"type","ChannelSubMenu");var mu=pu,_u=class extends ys{constructor(t){super(),o(this,"title"),o(this,"button"),this.title=new mr(t.title).toString(),Reflect.has(t,"button")&&(this.button=Os.parseItem(t.button,Yo))}};n(_u,"ChannelSwitcherHeader"),o(_u,"type","ChannelSwitcherHeader");var fu=_u,yu=class extends ys{constructor(t){super(),o(this,"thumbnails"),o(this,"endpoint"),o(this,"accessibility"),this.thumbnails=or.fromResponse(t.thumbnail),this.endpoint=new nr(t.navigationEndpoint),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new Ps(t.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}};n(yu,"ChannelThumbnailWithLink"),o(yu,"type","ChannelThumbnailWithLink");var bu=yu,gu=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"description"),o(this,"view_count"),o(this,"published_time"),this.id=t.videoId,this.title=new mr(t.title),this.description=new mr(t.description),this.view_count=new mr(t.viewCountText),this.published_time=new mr(t.publishedTimeText)}};n(gu,"ChannelVideoPlayer"),o(gu,"type","ChannelVideoPlayer");var vu=gu,wu=class extends ys{constructor(t){super(),o(this,"title"),o(this,"time_range_start_millis"),o(this,"thumbnail"),this.title=new mr(t.title),this.time_range_start_millis=t.timeRangeStartMillis,this.thumbnail=or.fromResponse(t.thumbnail)}};n(wu,"Chapter"),o(wu,"type","Chapter");var xu=wu,ku=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"duration"),o(this,"endpoint"),this.id=t.videoId,this.title=new mr(t.title),this.duration={text:t.lengthText.simpleText,seconds:fL(t.lengthText.simpleText)},this.endpoint=new nr(t.navigationEndpoint)}};n(ku,"ChildVideo"),o(ku,"type","ChildVideo");var Su=ku,Cu=class extends ys{constructor(t){super(),o(this,"text"),o(this,"display_type"),o(this,"endpoint"),o(this,"chip_entity_key"),this.text=t.text,this.display_type=t.displayType,this.endpoint=new nr(t.tapCommand),this.chip_entity_key=t.chipEntityKey}};n(Cu,"ChipView"),o(Cu,"type","ChipView");var Tu=Cu,Iu=class extends ys{constructor(t){super(),o(this,"chips"),this.chips=Os.parseArray(t.chips,Tu)}};n(Iu,"ChipBarView"),o(Iu,"type","ChipBarView");var Eu=Iu,Pu=class extends ys{constructor(t){super(),o(this,"is_selected"),o(this,"endpoint"),o(this,"text"),this.is_selected=t.isSelected,Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new nr(t.navigationEndpoint)),this.text=new mr(t.text).toString()}};n(Pu,"ChipCloudChip"),o(Pu,"type","ChipCloudChip");var Ru=Pu,Au=class extends ys{constructor(t){super(),o(this,"chips"),o(this,"next_button"),o(this,"previous_button"),o(this,"horizontal_scrollable"),this.chips=Os.parseArray(t.chips,Ru),this.next_button=Os.parseItem(t.nextButton,Yo),this.previous_button=Os.parseItem(t.previousButton,Yo),this.horizontal_scrollable=t.horizontalScrollable}};n(Au,"ChipCloud"),o(Au,"type","ChipCloud");var Mu=Au,Lu=class extends ys{constructor(t){super(),o(this,"text"),o(this,"icon_type"),o(this,"toggled_text"),o(this,"toggled_icon_type"),o(this,"is_toggled"),o(this,"menu_item_identifier"),o(this,"endpoint"),o(this,"logging_directives"),this.text=new mr(t.defaultText),this.icon_type=t.defaultIcon.iconType,this.toggled_text=new mr(t.toggledText),this.toggled_icon_type=t.toggledIcon.iconType,Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled),this.menu_item_identifier=t.menuItemIdentifier,this.endpoint=new nr(t.command),Reflect.has(t,"loggingDirectives")&&(this.logging_directives={visibility:{types:t.loggingDirectives.visibility.types},enable_displaylogger_experiment:t.loggingDirectives.enableDisplayloggerExperiment})}};n(Lu,"ClientSideToggleMenuItem"),o(Lu,"type","ClientSideToggleMenuItem");var Du=Lu,Nu=class extends ys{constructor(t){super(),o(this,"channel_avatar"),o(this,"custom_text"),o(this,"channel_name"),o(this,"subscriber_count"),o(this,"endpoint"),this.channel_avatar=or.fromResponse(t.channelAvatar),this.custom_text=new mr(t.customText),this.channel_name=new mr(t.channelName),this.subscriber_count=new mr(t.subscriberCountText),this.endpoint=new nr(t.endpoint)}};n(Nu,"CollaboratorInfoCardContent"),o(Nu,"type","CollaboratorInfoCardContent");var Bu=Nu,Vu=class extends ys{constructor(t){super(),o(this,"left"),o(this,"top_right"),o(this,"bottom_right"),o(this,"endpoint"),this.left=or.fromResponse(t.leftThumbnail),this.top_right=or.fromResponse(t.topRightThumbnail),this.bottom_right=or.fromResponse(t.bottomRightThumbnail),this.endpoint=new nr(t.navigationEndpoint)}};n(Vu,"CollageHeroImage"),o(Vu,"type","CollageHeroImage");var Ou=Vu,Uu=class extends ys{constructor(t){super(),o(this,"icon_name"),o(this,"text"),o(this,"style"),this.icon_name=t.icon.sources[0].clientResource.imageName,this.text=mr.fromAttributed(t.text),this.style=t.style}};n(Uu,"ThumbnailHoverOverlayView"),o(Uu,"type","ThumbnailHoverOverlayView");var Fu=Uu,Hu=class extends ys{constructor(t){super(),o(this,"icon_name"),o(this,"text"),o(this,"badge_style"),o(this,"background_color"),this.text=t.text,this.badge_style=t.badgeStyle,t.backgroundColor&&(this.background_color={light_theme:t.backgroundColor.lightTheme,dark_theme:t.backgroundColor.darkTheme}),t.iconName&&(this.icon_name=t.icon.sources[0].clientResource.imageName)}};n(Hu,"ThumbnailBadgeView"),o(Hu,"type","ThumbnailBadgeView");var Wu=Hu,ju=class extends ys{constructor(t){super(),o(this,"badges"),o(this,"position"),this.badges=Os.parseArray(t.thumbnailBadges,Wu),this.position=t.position}};n(ju,"ThumbnailOverlayBadgeView"),o(ju,"type","ThumbnailOverlayBadgeView");var Gu=ju,$u=class extends ys{constructor(t){super(),o(this,"buttons"),this.buttons=Os.parseArray(t.buttons,nl)}};n($u,"ThumbnailHoverOverlayToggleActionsView"),o($u,"type","ThumbnailHoverOverlayToggleActionsView");var qu=$u,Ku=class extends ys{constructor(t){super(),o(this,"start_percent"),this.start_percent=t.startPercent}};n(Ku,"ThumbnailOverlayProgressBarView"),o(Ku,"type","ThumbnailOverlayProgressBarView");var Yu=Ku,zu=class extends ys{constructor(t){super(),o(this,"progress_bar"),o(this,"badges"),this.progress_bar=Os.parseItem(t.progressBar,Yu),this.badges=Os.parseArray(t.badges,Wu)}};n(zu,"ThumbnailBottomOverlayView"),o(zu,"type","ThumbnailBottomOverlayView");var Qu=zu,Xu=class extends ys{constructor(t){super(),o(this,"image"),o(this,"overlays"),o(this,"background_color"),this.image=or.fromResponse(t.image),this.overlays=Os.parseArray(t.overlays,[qu,Qu,Gu,Fu,Rc]),"backgroundColor"in t&&(this.background_color={light_theme:t.backgroundColor.lightTheme,dark_theme:t.backgroundColor.darkTheme})}};n(Xu,"ThumbnailView"),o(Xu,"type","ThumbnailView");var Ju=Xu,Zu=class extends ys{constructor(t){super(),o(this,"primary_thumbnail"),o(this,"stack_color"),this.primary_thumbnail=Os.parseItem(t.primaryThumbnail,Ju),t.stackColor&&(this.stack_color={light_theme:t.stackColor.lightTheme,dark_theme:t.stackColor.darkTheme})}};n(Zu,"CollectionThumbnailView"),o(Zu,"type","CollectionThumbnailView");var tp=Zu,ep=class extends ys{constructor(t){super(),o(this,"open_miniplayer"),o(this,"video_id"),o(this,"list_type"),o(this,"endpoint"),o(this,"video_ids"),this.open_miniplayer=t.openMiniplayer,this.video_id=t.videoId,this.list_type=t.listType,this.endpoint=new nr(t.onCreateListCommand),this.video_ids=t.videoIds}};n(ep,"AddToPlaylistCommand"),o(ep,"type","AddToPlaylistCommand");var ip,sp=ep,np=class extends ys{constructor(t){super(),l(this,ip),h(this,ip,t)}getApiPath(){switch(c(this,ip).request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){let t={};return c(this,ip).formData&&(t.formData=c(this,ip).formData),c(this,ip).token&&(t.continuation=c(this,ip).token),"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"===c(this,ip).request&&(t.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",c(this,ip).token&&(t.fetchCommentsParams={continuation:c(this,ip).token},delete t.continuation)),t}};ip=new WeakMap,n(np,"ContinuationCommand"),o(np,"type","ContinuationCommand");var ap,op=np,rp=class extends ys{constructor(t){super(),l(this,ap),h(this,ap,t)}getApiPath(){return"kids/get_kids_blocklist_picker"}buildRequest(){let t={};return c(this,ap).blockedForKidsContent&&(t.blockedForKidsContent=c(this,ap).blockedForKidsContent),t}};ap=new WeakMap,n(rp,"GetKidsBlocklistPickerCommand"),o(rp,"type","GetKidsBlocklistPickerCommand");var cp=rp,lp=class extends ys{constructor(t){super(),o(this,"engagement_type"),o(this,"ids"),this.engagement_type=t.engagementType,Reflect.has(t,"ids")&&(this.ids=t.ids.map(t=>({encrypted_video_id:t.encryptedVideoId,external_channel_id:t.externalChannelId,comment_id:t.commentId,external_owner_id:t.externalOwnerId,artist_id:t.artistId,playlist_id:t.playlistId,external_post_id:t.externalPostId,share_id:t.shareId})))}};n(lp,"RunAttestationCommand"),o(lp,"type","RunAttestationCommand");var hp=lp,dp=class extends ys{constructor(t){super(),o(this,"inline_content"),o(this,"remove_default_padding"),this.inline_content=Os.parseItem(t.panelLoadingStrategy?.inlineContent),this.remove_default_padding=!!t.removeDefaultPadding}};n(dp,"ShowDialogCommand"),o(dp,"type","ShowDialogCommand");var up=dp,pp=class extends ys{constructor(t){super(),o(this,"content_source_panel_identifier"),o(this,"target_panel_identifier"),this.content_source_panel_identifier=t.contentSourcePanelIdentifier,this.target_panel_identifier=t.targetPanelIdentifier}};n(pp,"UpdateEngagementPanelContentCommand"),o(pp,"type","UpdateEngagementPanelContentCommand");var mp,_p=pp,fp=class extends ys{constructor(t){super(),l(this,mp),o(this,"icon_type"),o(this,"tooltip"),o(this,"style"),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.tooltip=t.iconTooltip,"Verified"===this.tooltip&&(this.style="BADGE_STYLE_TYPE_VERIFIED",t.style="BADGE_STYLE_TYPE_VERIFIED"),h(this,mp,t)}get orig_badge(){return c(this,mp)}};mp=new WeakMap,n(fp,"AuthorCommentBadge"),o(fp,"type","AuthorCommentBadge");var yp=fp,bp=class extends ys{constructor(t){super(),o(this,"id"),o(this,"categories"),o(this,"category_buttons"),o(this,"search_placeholder"),o(this,"search_no_results"),o(this,"pick_skin_tone"),o(this,"clear_search_label"),o(this,"skin_tone_generic_label"),o(this,"skin_tone_light_label"),o(this,"skin_tone_medium_light_label"),o(this,"skin_tone_medium_label"),o(this,"skin_tone_medium_dark_label"),o(this,"skin_tone_dark_label"),this.id=t.id,this.categories=Os.parseArray(t.categories),this.category_buttons=Os.parseArray(t.categoryButtons),this.search_placeholder=new mr(t.searchPlaceholderText),this.search_no_results=new mr(t.searchNoResultsText),this.pick_skin_tone=new mr(t.pickSkinToneText),this.clear_search_label=t.clearSearchLabel,this.skin_tone_generic_label=t.skinToneGenericLabel,this.skin_tone_light_label=t.skinToneLightLabel,this.skin_tone_medium_light_label=t.skinToneMediumLightLabel,this.skin_tone_medium_label=t.skinToneMediumLabel,this.skin_tone_medium_dark_label=t.skinToneMediumDarkLabel,this.skin_tone_dark_label=t.skinToneDarkLabel}};n(bp,"EmojiPicker"),o(bp,"type","EmojiPicker");var gp=bp,vp=class extends ys{constructor(t){super(),o(this,"editable_text"),o(this,"author_thumbnail"),o(this,"submit_button"),o(this,"cancel_button"),o(this,"placeholder"),o(this,"emoji_button"),o(this,"emoji_picker"),this.editable_text=new mr(t.editableText),this.author_thumbnail=or.fromResponse(t.authorThumbnail),this.submit_button=Os.parseItem(t.submitButton,Yo),this.cancel_button=Os.parseItem(t.cancelButton,Yo),this.placeholder=new mr(t.placeholderText),this.emoji_button=Os.parseItem(t.emojiButton,Yo),this.emoji_picker=Os.parseItem(t.emojiPicker,gp)}};n(vp,"CommentDialog"),o(vp,"type","CommentDialog");var wp=vp,xp=class extends ys{constructor(t){super(),o(this,"contents"),o(this,"view_replies"),o(this,"hide_replies"),o(this,"view_replies_creator_thumbnail"),o(this,"has_channel_owner_replied"),this.contents=Os.parseArray(t.contents),this.view_replies=Os.parseItem(t.viewReplies,Yo),this.hide_replies=Os.parseItem(t.hideReplies,Yo),this.view_replies_creator_thumbnail=or.fromResponse(t.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!t.viewRepliesCreatorThumbnail}};n(xp,"CommentReplies"),o(xp,"type","CommentReplies");var kp=xp,Sp=class extends ys{constructor(t){super(),o(this,"reply_button"),o(this,"cancel_button"),o(this,"author_thumbnail"),o(this,"placeholder"),o(this,"error_message"),this.reply_button=Os.parseItem(t.replyButton,Yo),this.cancel_button=Os.parseItem(t.cancelButton,Yo),this.author_thumbnail=or.fromResponse(t.authorThumbnail),this.placeholder=new mr(t.placeholderText),this.error_message=new mr(t.errorMessage)}};n(Sp,"CommentReplyDialog"),o(Sp,"type","CommentReplyDialog");var Cp=Sp,Tp=class extends ys{constructor(t){super(),o(this,"simplebox_avatar"),o(this,"simplebox_placeholder"),this.simplebox_avatar=or.fromResponse(t.simpleboxAvatar),this.simplebox_placeholder=new mr(t.simpleboxPlaceholder)}};n(Tp,"CommentsSimplebox"),o(Tp,"type","CommentsSimplebox");var Ip=Tp,Ep=class extends ys{constructor(t){super(),o(this,"teaser_avatar"),o(this,"teaser_content"),Reflect.has(t,"teaserAvatar")&&(this.teaser_avatar=or.fromResponse(t.teaserAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new mr(t.teaserContent))}};n(Ep,"CommentsEntryPointTeaser"),o(Ep,"type","CommentsEntryPointTeaser");var Pp=Ep,Rp=class extends ys{constructor(t){super(),o(this,"header"),o(this,"comment_count"),o(this,"teaser_avatar"),o(this,"teaser_content"),o(this,"content_renderer"),o(this,"simplebox_placeholder"),Reflect.has(t,"headerText")&&(this.header=new mr(t.headerText)),Reflect.has(t,"commentCount")&&(this.comment_count=new mr(t.commentCount)),(Reflect.has(t,"teaserAvatar")||Reflect.has(t,"simpleboxAvatar"))&&(this.teaser_avatar=or.fromResponse(t.teaserAvatar||t.simpleboxAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new mr(t.teaserContent)),Reflect.has(t,"contentRenderer")&&(this.content_renderer=Os.parseItem(t.contentRenderer,[Pp,Ip])),Reflect.has(t,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new mr(t.simpleboxPlaceholder))}};n(Rp,"CommentsEntryPointHeader"),o(Rp,"type","CommentsEntryPointHeader");var Ap=Rp,Mp=class extends ys{constructor(t){super(),o(this,"title"),o(this,"count"),o(this,"comments_count"),o(this,"create_renderer"),o(this,"sort_menu"),o(this,"custom_emojis"),this.title=new mr(t.titleText),this.count=new mr(t.countText),this.comments_count=new mr(t.commentsCount),this.create_renderer=Os.parseItem(t.createRenderer),this.sort_menu=Os.parseItem(t.sortMenu,Jr),Reflect.has(t,"customEmojis")&&(this.custom_emojis=t.customEmojis.map(t=>({emoji_id:t.emojiId,shortcuts:t.shortcuts,search_terms:t.searchTerms,image:or.fromResponse(t.image),is_custom_emoji:t.isCustomEmoji})))}};n(Mp,"CommentsHeader"),o(Mp,"type","CommentsHeader");var Lp=Mp,Dp=class extends ys{constructor(t){super(),o(this,"submit_button"),o(this,"cancel_button"),o(this,"author_thumbnail"),o(this,"placeholder"),o(this,"avatar_size"),this.submit_button=Os.parseItem(t.submitButton,Yo),this.cancel_button=Os.parseItem(t.cancelButton,Yo),this.author_thumbnail=or.fromResponse(t.authorThumbnail),this.placeholder=new mr(t.placeholderText),this.avatar_size=t.avatarSize}};n(Dp,"CommentSimplebox"),o(Dp,"type","CommentSimplebox");var Np=Dp,Bp=class extends ys{constructor(t){super(),o(this,"voice_reply_unavailable_text"),o(this,"transcript_text"),this.voice_reply_unavailable_text=mr.fromAttributed(t.voiceReplyUnavailableText),this.transcript_text=mr.fromAttributed(t.transcriptText)}};n(Bp,"VoiceReplyContainerView"),o(Bp,"type","VoiceReplyContainerView");var Vp,Op=Bp,Up=class extends ys{constructor(t){super(),l(this,Vp),o(this,"like_command"),o(this,"dislike_command"),o(this,"unlike_command"),o(this,"undislike_command"),o(this,"reply_command"),o(this,"prepare_account_command"),o(this,"comment_id"),o(this,"is_pinned"),o(this,"keys"),o(this,"content"),o(this,"published_time"),o(this,"author_is_channel_owner"),o(this,"creator_thumbnail_url"),o(this,"like_button_a11y"),o(this,"like_count"),o(this,"like_count_liked"),o(this,"like_count_a11y"),o(this,"like_active_tooltip"),o(this,"like_inactive_tooltip"),o(this,"dislike_active_tooltip"),o(this,"dislike_inactive_tooltip"),o(this,"heart_active_tooltip"),o(this,"reply_count"),o(this,"reply_count_a11y"),o(this,"is_member"),o(this,"member_badge"),o(this,"author"),o(this,"is_liked"),o(this,"is_disliked"),o(this,"is_hearted"),o(this,"voice_reply_container"),this.comment_id=t.commentId,this.is_pinned=!!t.pinnedText,this.keys={comment:t.commentKey,comment_surface:t.commentSurfaceKey,toolbar_state:t.toolbarStateKey,toolbar_surface:t.toolbarSurfaceKey,shared:t.sharedKey}}applyMutations(t,e,i,s){t&&(this.content=mr.fromAttributed(t.properties.content),this.published_time=t.properties.publishedTime,this.author_is_channel_owner=!!t.author.isCreator,this.creator_thumbnail_url=t.toolbar.creatorThumbnailUrl,this.like_count=t.toolbar.likeCountNotliked?t.toolbar.likeCountNotliked:"0",this.like_count_liked=t.toolbar.likeCountLiked?t.toolbar.likeCountLiked:"0",this.like_count_a11y=t.toolbar.likeCountA11y,this.like_active_tooltip=t.toolbar.likeActiveTooltip,this.like_inactive_tooltip=t.toolbar.likeInactiveTooltip,this.dislike_active_tooltip=t.toolbar.dislikeActiveTooltip,this.dislike_inactive_tooltip=t.toolbar.dislikeInactiveTooltip,this.like_button_a11y=t.toolbar.likeButtonA11y,this.heart_active_tooltip=t.toolbar.heartActiveTooltip,this.reply_count_a11y=t.toolbar.replyCountA11y,this.reply_count=t.toolbar.replyCount?t.toolbar.replyCount:"0",this.is_member=!!t.author.sponsorBadgeUrl,Reflect.has(t.author,"sponsorBadgeUrl")&&(this.member_badge={url:t.author.sponsorBadgeUrl,a11y:t.author.A11y}),this.author=new qM({simpleText:t.author.displayName,navigationEndpoint:t.avatar.endpoint},t.author,t.avatar.image,t.author.channelId)),e&&(this.is_hearted="TOOLBAR_HEART_STATE_HEARTED"===e.heartState,this.is_liked="TOOLBAR_LIKE_STATE_LIKED"===e.likeState,this.is_disliked="TOOLBAR_LIKE_STATE_DISLIKED"===e.likeState),i&&("prepareAccountCommand"in i?this.prepare_account_command=new nr(i.prepareAccountCommand):(this.like_command=new nr(i.likeCommand),this.dislike_command=new nr(i.dislikeCommand),this.unlike_command=new nr(i.unlikeCommand),this.undislike_command=new nr(i.undislikeCommand),this.reply_command=new nr(i.replyCommand))),s&&"voiceReplyContainerViewModel"in s&&(this.voice_reply_container=Os.parseItem(s.voiceReplyContainerViewModel,Op))}async like(){if(!c(this,Vp))throw new XM("Actions instance not set for this comment.");if(!this.like_command)throw new XM("Like command not found.");if(this.is_liked)throw new XM("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(c(this,Vp))}async dislike(){if(!c(this,Vp))throw new XM("Actions instance not set for this comment.");if(!this.dislike_command)throw new XM("Dislike command not found.");if(this.is_disliked)throw new XM("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(c(this,Vp))}async unlike(){if(!c(this,Vp))throw new XM("Actions instance not set for this comment.");if(!this.unlike_command)throw new XM("Unlike command not found.");if(!this.is_liked)throw new XM("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(c(this,Vp))}async undislike(){if(!c(this,Vp))throw new XM("Actions instance not set for this comment.");if(!this.undislike_command)throw new XM("Undislike command not found.");if(!this.is_disliked)throw new XM("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(c(this,Vp))}async reply(t){if(!c(this,Vp))throw new XM("Actions instance not set for this comment.");if(!this.reply_command)throw new XM("Reply command not found.");let e=this.reply_command.dialog?.as(Cp);if(!e)throw new XM("Reply dialog not found.");let i=e.reply_button;if(!i)throw new XM("Reply button not found in the dialog.");if(!i.endpoint)throw new XM("Reply button endpoint not found.");return i.endpoint.call(c(this,Vp),{commentText:t})}async translate(t){if(!c(this,Vp))throw new XM("Actions instance not set for this comment.");if(!this.content)throw new XM("Comment content not found.",{comment_id:this.comment_id});let e=jo(22,{text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:t}),i=await c(this,Vp).execute("comment/perform_comment_action",{action:e}),s=i.data.frameworkUpdates?.entityBatchUpdate?.mutations?.[0]?.payload?.commentEntityPayload?.translatedContent?.content;return{...i,content:s}}setActions(t){h(this,Vp,t)}};Vp=new WeakMap,n(Up,"CommentView"),o(Up,"type","CommentView");var Fp,Hp,Wp,jp,Gp=Up,$p=class extends ys{constructor(t){super(),l(this,Wp),o(this,"comment"),o(this,"replies"),o(this,"comment_replies_data"),o(this,"is_moderated_elq_comment"),o(this,"has_replies"),l(this,Fp),l(this,Hp),this.comment=Os.parseItem(t.commentViewModel,Gp),this.comment_replies_data=Os.parseItem(t.replies,kp),this.is_moderated_elq_comment=t.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new XM("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!c(this,Hp)}async getReplies(){if(!c(this,Fp))throw new XM("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new XM("This comment has no replies.",this);let t=this.comment_replies_data.contents?.firstOfType(ch);if(!t)throw new XM("Replies continuation not found.");let e=await t.endpoint.call(c(this,Fp),{parse:!0});if(!e.on_response_received_endpoints_memo)throw new XM("Unexpected response.",e);return this.replies=d(this,Wp,jp).call(this,e.on_response_received_endpoints_memo),h(this,Hp,e.on_response_received_endpoints_memo.getType(ch)[0]),this}async getContinuation(){if(!this.replies)throw new XM("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!c(this,Hp))throw new XM("Continuation not found.");if(!c(this,Fp))throw new XM("Actions instance not set for this thread.");let t=c(this,Hp).button?.as(Yo);if(!t)throw new XM('"Load more" button not found.');let e=await t.endpoint.call(c(this,Fp),{parse:!0});if(!e.on_response_received_endpoints_memo)throw new XM("Unexpected response.",e);return this.replies=d(this,Wp,jp).call(this,e.on_response_received_endpoints_memo),h(this,Hp,e.on_response_received_endpoints_memo.getType(ch)[0]),this}setActions(t){h(this,Fp,t)}};Fp=new WeakMap,Hp=new WeakMap,Wp=new WeakSet,jp=n(function(t){return ks(t.getType(Gp).map(t=>(t.setActions(c(this,Fp)),t)))},"#getPatchedReplies"),n($p,"CommentThread"),o($p,"type","CommentThread");var qp=$p,Kp=class extends ys{constructor(t){super(),o(this,"text"),o(this,"color_pallette"),o(this,"icon_type"),this.text=new mr(t.chipText),this.color_pallette={background_color:t.chipColorPalette?.backgroundColor,foreground_title_color:t.chipColorPalette?.foregroundTitleColor},Reflect.has(t,"chipIcon")&&Reflect.has(t.chipIcon,"iconType")&&(this.icon_type=t.chipIcon.iconType)}};n(Kp,"PdgCommentChip"),o(Kp,"type","PdgCommentChip");var Yp=Kp,zp=class extends ys{constructor(t){super(),o(this,"custom_badge"),o(this,"tooltip"),this.custom_badge=or.fromResponse(t.customBadge),this.tooltip=t.tooltip}};n(zp,"SponsorCommentBadge"),o(zp,"type","SponsorCommentBadge");var Qp=zp,Xp=class extends ys{constructor(t){super(),o(this,"title"),o(this,"channel_id"),o(this,"thumbnail"),o(this,"display_name"),o(this,"video_count"),o(this,"subscriber_count"),o(this,"endpoint"),o(this,"tv_banner"),o(this,"menu"),this.title=new mr(t.title),this.channel_id=t.channelId,this.thumbnail=or.fromResponse(t.thumbnail),this.display_name=new mr(t.displayName),this.video_count=new mr(t.videoCountText),this.subscriber_count=new mr(t.subscriberCountText),this.endpoint=new nr(t.navigationEndpoint),this.tv_banner=or.fromResponse(t.tvBanner),this.menu=Os.parseItem(t.menu,Sl)}};n(Xp,"CompactChannel"),o(Xp,"type","CompactChannel");var Jp=Xp,Zp=class extends ys{constructor(t){super(),o(this,"thumbnail"),this.thumbnail=or.fromResponse(t.thumbnail)}};n(Zp,"PlaylistCustomThumbnail"),o(Zp,"type","PlaylistCustomThumbnail");var tm=Zp,em=class extends ys{constructor(t){super(),o(this,"thumbnail"),this.thumbnail=or.fromResponse(t.thumbnail)}};n(em,"PlaylistVideoThumbnail"),o(em,"type","PlaylistVideoThumbnail");var im=em,sm=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"author"),o(this,"thumbnails"),o(this,"thumbnail_renderer"),o(this,"video_count"),o(this,"video_count_short"),o(this,"first_videos"),o(this,"share_url"),o(this,"menu"),o(this,"badges"),o(this,"endpoint"),o(this,"thumbnail_overlays"),o(this,"view_playlist"),this.id=t.playlistId,this.title=new mr(t.title),this.author=t.shortBylineText?.simpleText?new mr(t.shortBylineText):new qM(t.longBylineText,t.ownerBadges,null),this.thumbnails=or.fromResponse(t.thumbnail||{thumbnails:t.thumbnails.map(t=>t.thumbnails).flat(1)}),this.video_count=new mr(t.thumbnailText),this.video_count_short=new mr(t.videoCountShortText),this.first_videos=Os.parseArray(t.videos),this.share_url=t.shareUrl||null,this.menu=Os.parseItem(t.menu),this.badges=Os.parseArray(t.ownerBadges),this.endpoint=new nr(t.navigationEndpoint),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays),Reflect.has(t,"thumbnailRenderer")&&(this.thumbnail_renderer=Os.parseItem(t.thumbnailRenderer,[im,tm])||void 0),Reflect.has(t,"viewPlaylistText")&&(this.view_playlist=new mr(t.viewPlaylistText))}};n(sm,"Playlist"),o(sm,"type","Playlist");var nm=sm,am=class extends nm{constructor(t){super(t)}};n(am,"CompactMix"),o(am,"type","CompactMix");var om=am,rm=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"top_metadata_items"),o(this,"thumbnails"),o(this,"thumbnail_overlays"),o(this,"author"),o(this,"duration"),o(this,"endpoint"),o(this,"badges"),o(this,"use_vertical_poster"),o(this,"menu");let e=t.thumbnailOverlays.find(t=>t.thumbnailOverlayTimeStatusRenderer)?.thumbnailOverlayTimeStatusRenderer.text||"N/A";this.id=t.videoId,this.title=new mr(t.title),this.top_metadata_items=new mr(t.topMetadataItems),this.thumbnails=or.fromResponse(t.thumbnail),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays),this.author=new qM(t.shortBylineText);let i=t.lengthText?new mr(t.lengthText).toString():new mr(e).toString();this.duration={text:i,seconds:fL(i)},this.endpoint=new nr(t.navigationEndpoint),this.badges=Os.parseArray(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.menu=Os.parseItem(t.menu,Sl)}};n(rm,"CompactMovie"),o(rm,"type","CompactMovie");var cm=rm,lm=class extends nm{constructor(t){super(t)}};n(lm,"CompactPlaylist"),o(lm,"type","CompactPlaylist");var hm=lm,dm=class extends ys{constructor(t){super(),o(this,"title"),o(this,"description"),o(this,"video_count"),o(this,"endpoint"),o(this,"thumbnail"),this.title=new mr(t.title),this.description=new mr(t.description),this.video_count=new mr(t.videoCountText),this.endpoint=new nr(t.navigationEndpoint),this.thumbnail=or.fromResponse(t.thumbnail)}};n(dm,"CompactStation"),o(dm,"type","CompactStation");var um=dm,pm=class extends ys{constructor(t){super()}};n(pm,"CompositeVideoPrimaryInfo"),o(pm,"type","CompositeVideoPrimaryInfo");var mm=pm,_m=class extends ys{constructor(t){super(),o(this,"title"),o(this,"confirm_button"),o(this,"cancel_button"),o(this,"dialog_messages"),this.title=new mr(t.title),this.confirm_button=Os.parseItem(t.confirmButton,Yo),this.cancel_button=Os.parseItem(t.cancelButton,Yo),this.dialog_messages=t.dialogMessages.map(t=>new mr(t))}};n(_m,"ConfirmDialog"),o(_m,"type","ConfirmDialog");var fm=_m,ym=class extends ys{constructor(t){super(),o(this,"metadata_rows"),o(this,"delimiter"),this.metadata_rows=t.metadataRows.map(e=>({metadata_parts:e.metadataParts?.map(e=>({text:e.text?mr.fromAttributed(e.text):null,avatar_stack:Os.parseItem(e.avatarStack,Gc),enable_truncation:t.enableTruncation})),badges:Os.parseArray(e.badges,Rl)})),this.delimiter=t.delimiter}};n(ym,"ContentMetadataView"),o(ym,"type","ContentMetadataView");var bm=ym,gm=class extends ys{constructor(t){super(),o(this,"text"),this.text=new mr(t.text)}};n(gm,"Message"),o(gm,"type","Message");var vm=gm,wm=class extends ys{constructor(t){super(),o(this,"availability_message"),this.availability_message=Os.parseItem(t.availabilityMessage,vm)}};n(wm,"ConversationBar"),o(wm,"type","ConversationBar");var xm=wm,km=class extends ys{constructor(t){super(),o(this,"copy_button"),o(this,"short_url"),o(this,"style"),this.copy_button=Os.parseItem(t.copyButton,Yo),this.short_url=t.shortUrl,this.style=t.style}};n(km,"CopyLink"),o(km,"type","CopyLink");var Sm=km,Cm=class extends ys{constructor(t){super(),o(this,"label"),o(this,"placeholder_text"),o(this,"disabled"),o(this,"options"),o(this,"dropdown_type"),o(this,"id"),this.label=new mr(t.label),this.placeholder_text=new mr(t.placeholderText),this.disabled=!!t.disabled,this.dropdown_type=t.type,this.id=t.id,Reflect.has(t,"options")&&(this.options=t.options.map(t=>({title:new mr(t.title),subtitle:new mr(t.subtitle),leading_image:or.fromResponse(t.leadingImage),value:{privacy_status_value:t.value?.privacyStatusValue},on_tap:new nr(t.onTap),is_selected:!!t.isSelected})))}};n(Cm,"DropdownView"),o(Cm,"type","DropdownView");var Tm=Cm,Im=class extends ys{constructor(t){super(),o(this,"display_properties"),o(this,"content_properties"),o(this,"initial_state"),o(this,"form_field_metadata"),Reflect.has(t,"displayProperties")&&(this.display_properties={isMultiline:!!t.displayProperties.isMultiline,disableNewLines:!!t.displayProperties.disableNewLines}),Reflect.has(t,"contentProperties")&&(this.content_properties={labelText:t.contentProperties.labelText,placeholderText:t.contentProperties.placeholderText,maxCharacterCount:t.contentProperties.maxCharacterCount}),Reflect.has(t,"initialState")&&(this.initial_state={isFocused:!!t.initialState.isFocused}),Reflect.has(t,"formFieldMetadata")&&(this.form_field_metadata={formId:t.formFieldMetadata.formId,fieldId:t.formFieldMetadata.fieldId})}};n(Im,"TextFieldView"),o(Im,"type","TextFieldView");var Em=Im,Pm=class extends ys{constructor(t){super(),o(this,"playlist_title"),o(this,"playlist_visibility"),o(this,"disable_playlist_collaborate"),o(this,"create_playlist_params_collaboration_enabled"),o(this,"create_playlist_params_collaboration_disabled"),o(this,"video_ids"),this.playlist_title=Os.parseItem(t.playlistTitle,Em),this.playlist_visibility=Os.parseItem(t.playlistVisibility,Tm),this.disable_playlist_collaborate=!!t.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=t.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=t.createPlaylistParamsCollaborationDisabled,this.video_ids=t.videoIds}};n(Pm,"CreatePlaylistDialogFormView"),o(Pm,"type","CreatePlaylistDialogFormView");var Rm=Pm,Am=class extends ys{constructor(t){super(),o(this,"avatar"),o(this,"a11y_label"),o(this,"renderer_context"),this.avatar=Os.parseItem(t.avatar,Oc),this.a11y_label=t.a11yLabel,this.renderer_context=new Wc(t.rendererContext)}};n(Am,"DecoratedAvatarView"),o(Am,"type","DecoratedAvatarView");var Mm=Am,Lm=class extends ys{constructor(t){super(),o(this,"time_range_start_millis"),o(this,"marker_duration_millis"),o(this,"heat_marker_intensity_score_normalized"),this.time_range_start_millis=Number.parseInt(t.startMillis,10),this.marker_duration_millis=Number.parseInt(t.durationMillis,10),this.heat_marker_intensity_score_normalized=t.intensityScoreNormalized}};n(Lm,"HeatMarker"),o(Lm,"type","HeatMarker");var Dm=Lm,Nm=class extends ys{constructor(t){super(),o(this,"visible_time_range_start_millis"),o(this,"visible_time_range_end_millis"),o(this,"decoration_time_millis"),o(this,"label"),o(this,"icon"),this.visible_time_range_start_millis=t.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=t.visibleTimeRangeEndMillis,this.decoration_time_millis=t.decorationTimeMillis,this.label=new mr(t.label),this.icon=t.icon}};n(Nm,"TimedMarkerDecoration"),o(Nm,"type","TimedMarkerDecoration");var Bm=Nm,Vm=class extends ys{constructor(t){super(),o(this,"max_height_dp"),o(this,"min_height_dp"),o(this,"show_hide_animation_duration_millis"),o(this,"heat_markers"),o(this,"heat_markers_decorations"),this.max_height_dp=t.maxHeightDp,this.min_height_dp=t.minHeightDp,this.show_hide_animation_duration_millis=t.showHideAnimationDurationMillis,this.heat_markers=Os.parseArray(t.heatMarkers,Dm),this.heat_markers_decorations=Os.parseArray(t.heatMarkersDecorations,Bm)}};n(Vm,"Heatmap"),o(Vm,"type","Heatmap");var Om=Vm,Um=class extends ys{constructor(t){super(),o(this,"marker_key"),o(this,"value"),this.marker_key=t.key,this.value={},Reflect.has(t,"value")&&(Reflect.has(t.value,"heatmap")&&(this.value.heatmap=Os.parseItem(t.value.heatmap,Om)),Reflect.has(t.value,"chapters")&&(this.value.chapters=Os.parseArray(t.value.chapters,xu)))}};n(Um,"Marker"),o(Um,"type","Marker");var Fm=Um,Hm=class extends ys{constructor(t){super(),o(this,"markers_map"),this.markers_map=ks(t.markersMap?.map(t=>new Fm(t))||[])}};n(Hm,"MultiMarkersPlayerBar"),o(Hm,"type","MultiMarkersPlayerBar");var Wm=Hm,jm=class extends ys{constructor(t){super(),o(this,"player_bar"),o(this,"player_bar_action_button"),this.player_bar=Os.parseItem(t.playerBar,Wm),this.player_bar_action_button=Os.parseItem(t.playerBarActionButton,Yo)}};n(jm,"DecoratedPlayerBar"),o(jm,"type","DecoratedPlayerBar");var Gm=jm,$m=class extends ys{constructor(t){super(),o(this,"title"),o(this,"description"),o(this,"endpoint"),o(this,"large_form_factor_background_thumbnail"),o(this,"small_form_factor_background_thumbnail"),o(this,"scrim_color_values"),o(this,"min_panel_display_duration_ms"),o(this,"min_video_play_duration_ms"),o(this,"scrim_duration"),o(this,"metadata_order"),o(this,"panel_layout"),this.title=new mr(t.title),this.description=new mr(t.description),this.endpoint=new nr(t.navigationEndpoint),this.large_form_factor_background_thumbnail=Os.parseItem(t.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=Os.parseItem(t.smallFormFactorBackgroundThumbnail),this.scrim_color_values=t.scrimColorValues,this.min_panel_display_duration_ms=t.minPanelDisplayDurationMs,this.min_video_play_duration_ms=t.minVideoPlayDurationMs,this.scrim_duration=t.scrimDuration,this.metadata_order=t.metadataOrder,this.panel_layout=t.panelLayout}};n($m,"DefaultPromoPanel"),o($m,"type","DefaultPromoPanel");var qm=$m,Km=class extends ys{constructor(t){if(super(),o(this,"description"),o(this,"max_lines"),o(this,"truncation_text"),o(this,"always_show_truncation_text"),o(this,"more_endpoint"),o(this,"renderer_context"),Reflect.has(t,"description")&&(this.description=mr.fromAttributed(t.description)),Reflect.has(t,"maxLines")&&(this.max_lines=parseInt(t.maxLines)),Reflect.has(t,"truncationText")&&(this.truncation_text=mr.fromAttributed(t.truncationText)),this.always_show_truncation_text=!!t.alwaysShowTruncationText,t.rendererContext.commandContext?.onTap?.innertubeCommand?.showEngagementPanelEndpoint){let e=t.rendererContext.commandContext?.onTap?.innertubeCommand?.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:Os.parseItem(e.engagementPanel,Td),engagement_panel_popup_type:e.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.identifier.surface,tag:e.identifier.tag}}}}this.renderer_context=new Wc(t.rendererContext)}};n(Km,"DescriptionPreviewView"),o(Km,"type","DescriptionPreviewView");var Ym=Km,zm=class extends ys{constructor(t){super(),o(this,"headline"),this.headline=mr.fromAttributed(t.headline)}};n(zm,"DialogHeaderView"),o(zm,"type","DialogHeaderView");var Qm=zm,Xm=class extends ys{constructor(t){super(),o(this,"primary_button"),o(this,"secondary_button"),o(this,"should_hide_divider"),this.primary_button=Os.parseItem(t.primaryButton,qc),this.secondary_button=Os.parseItem(t.secondaryButton,qc),this.should_hide_divider=!!t.shouldHideDivider}};n(Xm,"PanelFooterView"),o(Xm,"type","PanelFooterView");var Jm=Xm,Zm=class extends ys{constructor(t){super(),o(this,"panel_footer"),o(this,"form_id"),o(this,"container_type"),this.panel_footer=Os.parseItem(t.panelFooter,Jm),this.form_id=t.formId,this.container_type=t.containerType}};n(Zm,"FormFooterView"),o(Zm,"type","FormFooterView");var t_,e_,i_=Zm,s_=class extends ys{constructor(t){super(),l(this,t_),o(this,"subscribe_button_content"),o(this,"unsubscribe_button_content"),o(this,"disable_notification_bell"),o(this,"button_style"),o(this,"is_signed_out"),o(this,"background_style"),o(this,"disable_subscribe_button"),o(this,"on_show_subscription_options"),o(this,"channel_id"),o(this,"enable_subscribe_button_post_click_animation"),o(this,"bell_accessiblity_data"),this.subscribe_button_content=d(this,t_,e_).call(this,t.subscribeButtonContent),this.unsubscribe_button_content=d(this,t_,e_).call(this,t.unsubscribeButtonContent),this.disable_notification_bell=t.disableNotificationBell,this.button_style={unsubscribed_state_style:t.buttonStyle.unsubscribedStateStyle,subscribed_state_style:t.buttonStyle.subscribedStateStyle},this.is_signed_out=t.isSignedOut,this.background_style=t.backgroundStyle,this.disable_subscribe_button=t.disableSubscribeButton,this.on_show_subscription_options=new nr(t.onShowSubscriptionOptions),this.channel_id=t.channelId,this.enable_subscribe_button_post_click_animation=t.enableSubscribeButtonPostClickAnimation,this.bell_accessiblity_data={off_label:t.bellAccessibilityData.offLabel,all_label:t.bellAccessibilityData.allLabel,occasional_label:t.bellAccessibilityData.occasionalLabel,disabled_label:t.bellAccessibilityData.disabledLabel}}};t_=new WeakSet,e_=n(function(t){return{button_text:t.buttonText,accessibility_text:t.accessibilityText,image_name:t.imageName,subscribe_state_subscribed:t.subscribeState.subscribed,endpoint:new nr(t.onTapCommand)}},"#parseButtonContent"),n(s_,"SubscribeButtonView"),o(s_,"type","SubscribeButtonView");var n_=s_,a_=class extends ys{constructor(t){super(),o(this,"title"),o(this,"subtitle"),o(this,"leading_accessory"),o(this,"renderer_context"),o(this,"trailing_buttons"),this.title=mr.fromAttributed(t.title),this.subtitle=mr.fromAttributed(t.subtitle),this.leading_accessory=Os.parseItem(t.leadingAccessory,Oc),this.renderer_context=new Wc(t.rendererContext),"trailingButtons"in t&&(this.trailing_buttons=Os.parseArray(t.trailingButtons.buttons,n_))}};n(a_,"ListItemView"),o(a_,"type","ListItemView");var o_=a_,r_=class extends ys{constructor(t){super(),o(this,"items"),this.items=Os.parseArray(t.listItems,o_)}};n(r_,"ListView"),o(r_,"type","ListView");var c_=r_,l_=class extends ys{constructor(t){super(),o(this,"header"),o(this,"footer"),o(this,"custom_content"),this.header=Os.parseItem(t.header,Qm),this.footer=Os.parseItem(t.footer,[i_,Jm]),this.custom_content=Os.parseItem(t.customContent,[Rm,c_])}};n(l_,"DialogView"),o(l_,"type","DialogView");var h_=l_,d_=class extends ys{constructor(t){super(),o(this,"text"),o(this,"corrected_query"),o(this,"endpoint"),this.text=new mr(t.didYouMean).toString(),this.corrected_query=new mr(t.correctedQuery),this.endpoint=new nr(t.navigationEndpoint||t.correctedQueryEndpoint)}};n(d_,"DidYouMean"),o(d_,"type","DidYouMean");var u_=d_,p_=class extends ys{constructor(t){super(),o(this,"title"),o(this,"subtitle"),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle)}};n(p_,"DismissableDialogContentSection"),o(p_,"type","DismissableDialogContentSection");var m_=p_,__=class extends ys{constructor(t){super(),o(this,"title"),o(this,"sections"),o(this,"metadata"),o(this,"display_style"),this.title=t.title,this.sections=Os.parseArray(t.sections,m_),this.metadata=Os.parseItem(t.metadata),this.display_style=t.displayStyle}};n(__,"DismissableDialog"),o(__,"type","DismissableDialog");var f_=__,y_=class extends ys{constructor(t){super(),o(this,"text"),o(this,"max_lines"),this.text=mr.fromAttributed(t.text),this.max_lines=parseInt(t.maxLines)}};n(y_,"DynamicTextView"),o(y_,"type","DynamicTextView");var b_=y_,g_=class t extends ys{constructor(e){super(),o(this,"text"),o(this,"properties"),o(this,"child_elements"),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=e.type.textType.text?.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(e=>new t(e)))}};n(g_,"ChildElement"),o(g_,"type","ChildElement");var v_=g_,w_=class t extends ys{constructor(e){if(super(),o(this,"model"),o(this,"child_elements"),Reflect.has(e,"elementRenderer"))return Os.parseItem(e,t);let i=e.newElement.type.componentType;this.model=Os.parseItem(i?.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ks(e.newElement.childElements?.map(t=>new v_(t))||[]))}};n(w_,"Element"),o(w_,"type","Element");var x_=w_,k_=class extends ys{constructor(t){super(),o(this,"title"),o(this,"first_option"),o(this,"menu"),this.title=new mr(t.title),this.first_option=Os.parseItem(t.firstOption),this.menu=Os.parseItem(t.menu,Sl)}};n(k_,"EmergencyOnebox"),o(k_,"type","EmergencyOnebox");var S_=k_,C_=class extends ys{constructor(t){super(),o(this,"category_id"),o(this,"title"),o(this,"emoji_ids"),o(this,"image_loading_lazy"),o(this,"category_type"),this.category_id=t.categoryId,this.title=new mr(t.title),this.emoji_ids=t.emojiIds,this.image_loading_lazy=!!t.imageLoadingLazy,this.category_type=t.categoryType}};n(C_,"EmojiPickerCategory"),o(C_,"type","EmojiPickerCategory");var T_=C_,I_=class extends ys{constructor(t){super(),o(this,"category_id"),o(this,"icon_type"),o(this,"tooltip"),this.category_id=t.categoryId,Reflect.has(t,"icon")&&(this.icon_type=t.icon?.iconType),this.tooltip=t.tooltip}};n(I_,"EmojiPickerCategoryButton"),o(I_,"type","EmojiPickerCategoryButton");var E_=I_,P_=class extends ys{constructor(t){super(),o(this,"category_id"),o(this,"title"),o(this,"upsell"),o(this,"emoji_tooltip"),o(this,"endpoint"),o(this,"emoji_ids"),this.category_id=t.categoryId,this.title=new mr(t.title),this.upsell=new mr(t.upsell),this.emoji_tooltip=t.emojiTooltip,this.endpoint=new nr(t.command),this.emoji_ids=t.emojiIds}};n(P_,"EmojiPickerUpsellCategory"),o(P_,"type","EmojiPickerUpsellCategory");var R_,A_=P_,M_=class extends ys{constructor(t){super(),l(this,R_),h(this,R_,t)}getApiPath(){return"playlist/get_add_to_playlist"}buildRequest(){let t={};return t.videoIds=c(this,R_).videoIds?c(this,R_).videoIds:[c(this,R_).videoId],c(this,R_).playlistId&&(t.playlistId=c(this,R_).playlistId),c(this,R_).params&&(t.params=c(this,R_).params),t.excludeWatchLater=!!c(this,R_).excludeWatchLater,t}};R_=new WeakMap,n(M_,"AddToPlaylistServiceEndpoint"),o(M_,"type","AddToPlaylistServiceEndpoint");var L_=M_,D_=class extends L_{constructor(t){super(t)}};n(D_,"AddToPlaylistEndpoint"),o(D_,"type","AddToPlaylistEndpoint");var N_,B_=D_,V_=class extends ys{constructor(t){super(),l(this,N_),h(this,N_,t)}getApiPath(){return"browse"}buildRequest(){let t={};return c(this,N_).browseId&&(t.browseId=c(this,N_).browseId),c(this,N_).params&&(t.params=c(this,N_).params),c(this,N_).query&&(t.query=c(this,N_).query),"FEsubscriptions"===c(this,N_).browseId&&(t.subscriptionSettingsState=c(this,N_).subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),"SPaccount_playback"===c(this,N_).browseId&&(t.formData=c(this,N_).formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),"FEwhat_to_watch"===c(this,N_).browseId&&(c(this,N_).browseRequestSupportedMetadata&&(t.browseRequestSupportedMetadata=c(this,N_).browseRequestSupportedMetadata),c(this,N_).inlineSettingStatus&&(t.inlineSettingStatus=c(this,N_).inlineSettingStatus)),t}};N_=new WeakMap,n(V_,"BrowseEndpoint"),o(V_,"type","BrowseEndpoint");var O_,U_=V_,F_=class extends ys{constructor(t){super(),l(this,O_),h(this,O_,t)}getApiPath(){return"comment/create_comment"}buildRequest(){let t={};if(c(this,O_).createCommentParams&&(t.createCommentParams=c(this,O_).createCommentParams),c(this,O_).commentText&&(t.commentText=c(this,O_).commentText),c(this,O_).attachedVideoId?t.videoAttachment={videoId:c(this,O_).attachedVideoId}:c(this,O_).pollOptions?t.pollAttachment={choices:c(this,O_).pollOptions}:c(this,O_).imageBlobId?t.imageAttachment={encryptedBlobId:c(this,O_).imageBlobId}:c(this,O_).sharedPostId&&(t.sharedPostAttachment={postId:c(this,O_).sharedPostId}),c(this,O_).accessRestrictions&&"number"==typeof c(this,O_).accessRestrictions){let e=1===c(this,O_).accessRestrictions?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";t.accessRestrictions={restriction:e}}return c(this,O_).botguardResponse&&(t.botguardResponse=c(this,O_).botguardResponse),t}};O_=new WeakMap,n(F_,"CreateCommentEndpoint"),o(F_,"type","CreateCommentEndpoint");var H_,W_=F_,j_=class extends ys{constructor(t){super(),l(this,H_),h(this,H_,t)}getApiPath(){return"playlist/create"}buildRequest(){let t={};return c(this,H_).title&&(t.title=c(this,H_).title),c(this,H_).privacyStatus&&(t.privacyStatus=c(this,H_).privacyStatus),c(this,H_).description&&(t.description=c(this,H_).description),c(this,H_).videoIds&&(t.videoIds=c(this,H_).videoIds),c(this,H_).params&&(t.params=c(this,H_).params),c(this,H_).sourcePlaylistId&&(t.sourcePlaylistId=c(this,H_).sourcePlaylistId),t}};H_=new WeakMap,n(j_,"CreatePlaylistServiceEndpoint"),o(j_,"type","CreatePlaylistServiceEndpoint");var G_,$_=j_,q_=class extends ys{constructor(t){super(),l(this,G_),h(this,G_,t)}getApiPath(){return"playlist/delete"}buildRequest(){let t={};return c(this,G_).playlistId&&(t.playlistId=c(this,G_).sourcePlaylistId),t}};G_=new WeakMap,n(q_,"DeletePlaylistEndpoint"),o(q_,"type","DeletePlaylistEndpoint");var K_,Y_=q_,z_=class extends ys{constructor(t){super(),l(this,K_),h(this,K_,t)}getApiPath(){return"feedback"}buildRequest(){let t={};return c(this,K_).feedbackToken&&(t.feedbackTokens=[c(this,K_).feedbackToken]),c(this,K_).cpn&&(t.feedbackContext={cpn:c(this,K_).cpn}),t.isFeedbackTokenUnencrypted=!!c(this,K_).isFeedbackTokenUnencrypted,t.shouldMerge=!!c(this,K_).shouldMerge,t}};K_=new WeakMap,n(z_,"FeedbackEndpoint"),o(z_,"type","FeedbackEndpoint");var Q_,X_=z_,J_=class extends ys{constructor(t){super(),l(this,Q_),h(this,Q_,t)}getApiPath(){return"account/accounts_list"}buildRequest(){let t={};return c(this,Q_).requestType&&(t.requestType=c(this,Q_).requestType,("ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"===c(this,Q_).requestType||"ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT"===c(this,Q_).requestType)&&c(this,Q_).nextUrl&&(t.nextNavendpoint={urlEndpoint:{url:c(this,Q_).nextUrl}})),c(this,Q_).channelSwitcherQuery&&(t.channelSwitcherQuery=c(this,Q_).channelSwitcherQuery),c(this,Q_).triggerChannelCreation&&(t.triggerChannelCreation=c(this,Q_).triggerChannelCreation),c(this,Q_).contentOwnerConfig&&c(this,Q_).contentOwnerConfig.externalContentOwnerId&&(t.contentOwnerConfig=c(this,Q_).contentOwnerConfig),c(this,Q_).obfuscatedSelectedGaiaId&&(t.obfuscatedSelectedGaiaId=c(this,Q_).obfuscatedSelectedGaiaId),c(this,Q_).selectedSerializedDelegationContext&&(t.selectedSerializedDelegationContext=c(this,Q_).selectedSerializedDelegationContext),c(this,Q_).callCircumstance&&(t.callCircumstance=c(this,Q_).callCircumstance),t}};Q_=new WeakMap,n(J_,"GetAccountsListInnertubeEndpoint"),o(J_,"type","GetAccountsListInnertubeEndpoint");var Z_=J_,tf=class extends ys{constructor(t){super(),o(this,"panel_identifier"),this.panel_identifier=t.panelIdentifier}};n(tf,"HideEngagementPanelEndpoint"),o(tf,"type","HideEngagementPanelEndpoint");var ef,sf=tf,nf=class extends ys{constructor(t){super(),l(this,ef),h(this,ef,t)}getApiPath(){return"DISLIKE"===c(this,ef).status?"like/dislike":"INDIFFERENT"===c(this,ef).status?"like/removelike":"like/like"}buildRequest(){let t={};c(this,ef).target&&(t.target=c(this,ef).target);let e=this.getParams();return e&&(t.params=e),t}getParams(){switch(c(this,ef).status){case"LIKE":return c(this,ef).likeParams;case"DISLIKE":return c(this,ef).dislikeParams;case"INDIFFERENT":return c(this,ef).removeLikeParams;default:return}}};ef=new WeakMap,n(nf,"LikeEndpoint"),o(nf,"type","LikeEndpoint");var af,of=nf,rf=class extends ys{constructor(t){super(),l(this,af),h(this,af,t)}getApiPath(){return"live_chat/get_item_context_menu"}buildRequest(){let t={};return c(this,af).params&&(t.params=c(this,af).params),t}};af=new WeakMap,n(rf,"LiveChatItemContextMenuEndpoint"),o(rf,"type","LiveChatItemContextMenuEndpoint");var cf,lf=rf,hf=class extends ys{constructor(t){super(),l(this,cf),h(this,cf,t)}getApiPath(){return"notification/modify_channel_preference"}buildRequest(){let t={};return c(this,cf).params&&(t.params=c(this,cf).params),c(this,cf).secondaryParams&&(t.secondaryParams=c(this,cf).secondaryParams),t}};cf=new WeakMap,n(hf,"ModifyChannelNotificationPreferenceEndpoint"),o(hf,"type","ModifyChannelNotificationPreferenceEndpoint");var df,uf=hf,pf=class extends ys{constructor(t){super(),l(this,df),h(this,df,t)}getApiPath(){return"comment/perform_comment_action"}buildRequest(){let t={};return c(this,df).actions&&(t.actions=c(this,df).actions),c(this,df).action&&(t.actions=[c(this,df).action]),t}};df=new WeakMap,n(pf,"PerformCommentActionEndpoint"),o(pf,"type","PerformCommentActionEndpoint");var mf,_f=pf,ff=class extends ys{constructor(t){super(),l(this,mf),h(this,mf,t)}getApiPath(){return"browse/edit_playlist"}buildRequest(){let t={};return c(this,mf).actions&&(t.actions=c(this,mf).actions),c(this,mf).playlistId&&(t.playlistId=c(this,mf).playlistId),c(this,mf).params&&(t.params=c(this,mf).params),t}};mf=new WeakMap,n(ff,"PlaylistEditEndpoint"),o(ff,"type","PlaylistEditEndpoint");var yf,bf=ff,gf=class extends ys{constructor(t){super(),l(this,yf),h(this,yf,t)}getApiPath(){return"player"}buildRequest(){let t={};return c(this,yf).videoId&&(t.videoId=c(this,yf).videoId),c(this,yf).playlistId&&(t.playlistId=c(this,yf).playlistId),(void 0!==c(this,yf).index||void 0!==c(this,yf).playlistIndex)&&(t.playlistIndex=c(this,yf).index||c(this,yf).playlistIndex),(c(this,yf).playerParams||c(this,yf).params)&&(t.params=c(this,yf).playerParams||c(this,yf).params),c(this,yf).startTimeSeconds&&(t.startTimeSecs=c(this,yf).startTimeSeconds),c(this,yf).overrideMutedAtStart&&(t.overrideMutedAtStart=c(this,yf).overrideMutedAtStart),t.racyCheckOk=!!c(this,yf).racyCheckOk,t.contentCheckOk=!!c(this,yf).contentCheckOk,t}};yf=new WeakMap,n(gf,"WatchEndpoint"),o(gf,"type","WatchEndpoint");var vf=gf,wf=class extends vf{constructor(t){super(t)}};n(wf,"PrefetchWatchCommand"),o(wf,"type","PrefetchWatchCommand");var xf,kf=wf,Sf=class extends ys{constructor(t){super(),l(this,xf),h(this,xf,t)}getApiPath(){return"reel/reel_item_watch"}buildRequest(){let t={};return c(this,xf).videoId&&(t.playerRequest={videoId:c(this,xf).videoId}),t.playerRequest&&(c(this,xf).playerParams&&(t.playerRequest.params=c(this,xf).playerParams),c(this,xf).racyCheckOk&&(t.playerRequest.racyCheckOk=!!c(this,xf).racyCheckOk),c(this,xf).contentCheckOk&&(t.playerRequest.contentCheckOk=!!c(this,xf).contentCheckOk)),c(this,xf).params&&(t.params=c(this,xf).params),c(this,xf).inputType&&(t.inputType=c(this,xf).inputType),t.disablePlayerResponse=!!c(this,xf).disablePlayerResponse,t}};xf=new WeakMap,n(Sf,"ReelWatchEndpoint"),o(Sf,"type","ReelWatchEndpoint");var Cf,Tf=Sf,If=class extends ys{constructor(t){super(),l(this,Cf),h(this,Cf,t)}getApiPath(){return"search"}buildRequest(){let t={};return c(this,Cf).query&&(t.query=c(this,Cf).query),c(this,Cf).params&&(t.params=c(this,Cf).params),c(this,Cf).webSearchboxStatsUrl&&(t.webSearchboxStatsUrl=c(this,Cf).webSearchboxStatsUrl),c(this,Cf).suggestStats&&(t.suggestStats=c(this,Cf).suggestStats),t}};Cf=new WeakMap,n(If,"SearchEndpoint"),o(If,"type","SearchEndpoint");var Ef,Pf=If,Rf=class extends ys{constructor(t){super(),l(this,Ef),h(this,Ef,t)}getApiPath(){return"share/get_share_panel"}buildRequest(){let t={};return c(this,Ef).serializedShareEntity&&(t.serializedSharedEntity=c(this,Ef).serializedShareEntity),c(this,Ef).clientParams&&(t.clientParams=c(this,Ef).clientParams),t}};Ef=new WeakMap,n(Rf,"ShareEntityServiceEndpoint"),o(Rf,"type","ShareEntityServiceEndpoint");var Af=Rf,Mf=class extends Af{constructor(t){super(t)}};n(Mf,"ShareEndpoint"),o(Mf,"type","ShareEndpoint");var Lf=Mf,Df=class extends Af{constructor(t){super(t)}};n(Df,"ShareEntityEndpoint"),o(Df,"type","ShareEntityEndpoint");var Nf=Df,Bf=class extends ys{constructor(t){super(),o(this,"panel_identifier"),o(this,"source_panel_identifier"),this.panel_identifier=t.panelIdentifier,this.source_panel_identifier=t.sourcePanelIdentifier}};n(Bf,"ShowEngagementPanelEndpoint"),o(Bf,"type","ShowEngagementPanelEndpoint");var Vf=Bf,Of=class extends ys{constructor(t){super(),o(this,"actions"),o(this,"signal"),Array.isArray(t.actions)&&(this.actions=Os.parseArray(t.actions.map(t=>(delete t.clickTrackingParams,t)))),this.signal=t.signal}};n(Of,"SignalServiceEndpoint"),o(Of,"type","SignalServiceEndpoint");var Uf,Ff=Of,Hf=class extends ys{constructor(t){super(),l(this,Uf),h(this,Uf,t)}getApiPath(){return"subscription/subscribe"}buildRequest(){let t={};return c(this,Uf).channelIds&&(t.channelIds=c(this,Uf).channelIds),c(this,Uf).siloName&&(t.siloName=c(this,Uf).siloName),c(this,Uf).params&&(t.params=c(this,Uf).params),c(this,Uf).botguardResponse&&(t.botguardResponse=c(this,Uf).botguardResponse),c(this,Uf).feature&&(t.clientFeature=c(this,Uf).feature),t}};Uf=new WeakMap,n(Hf,"SubscribeEndpoint"),o(Hf,"type","SubscribeEndpoint");var Wf,jf=Hf,Gf=class extends ys{constructor(t){super(),l(this,Wf),h(this,Wf,t)}getApiPath(){return"subscription/unsubscribe"}buildRequest(){let t={};return c(this,Wf).channelIds&&(t.channelIds=c(this,Wf).channelIds),c(this,Wf).siloName&&(t.siloName=c(this,Wf).siloName),c(this,Wf).params&&(t.params=c(this,Wf).params),t}};Wf=new WeakMap,n(Gf,"UnsubscribeEndpoint"),o(Gf,"type","UnsubscribeEndpoint");var $f,qf=Gf,Kf=class extends ys{constructor(t){super(),l(this,$f),h(this,$f,t)}getApiPath(){return"next"}buildRequest(){let t={};return c(this,$f).videoId&&(t.videoId=c(this,$f).videoId),c(this,$f).playlistId&&(t.playlistId=c(this,$f).playlistId),(void 0!==c(this,$f).index||void 0!==c(this,$f).playlistIndex)&&(t.playlistIndex=c(this,$f).index||c(this,$f).playlistIndex),(c(this,$f).playerParams||c(this,$f).params)&&(t.params=c(this,$f).playerParams||c(this,$f).params),t.racyCheckOk=!!c(this,$f).racyCheckOk,t.contentCheckOk=!!c(this,$f).contentCheckOk,t}};$f=new WeakMap,n(Kf,"WatchNextEndpoint"),o(Kf,"type","WatchNextEndpoint");var Yf=Kf,zf=class extends ys{constructor(t){super(),o(this,"elements"),o(this,"start_ms"),this.elements=Os.parseArray(t.elements),this.start_ms=t.startMs}};n(zf,"Endscreen"),o(zf,"type","Endscreen");var Qf=zf,Xf=class extends ys{constructor(t){super(),o(this,"style"),o(this,"title"),o(this,"endpoint"),o(this,"image"),o(this,"icon"),o(this,"metadata"),o(this,"call_to_action"),o(this,"hovercard_button"),o(this,"is_subscribe"),o(this,"playlist_length"),o(this,"thumbnail_overlays"),o(this,"left"),o(this,"top"),o(this,"width"),o(this,"aspect_ratio"),o(this,"start_ms"),o(this,"end_ms"),o(this,"id"),this.style=t.style,this.title=new mr(t.title),this.endpoint=new nr(t.endpoint),Reflect.has(t,"image")&&(this.image=or.fromResponse(t.image)),Reflect.has(t,"icon")&&(this.icon=or.fromResponse(t.icon)),Reflect.has(t,"metadata")&&(this.metadata=new mr(t.metadata)),Reflect.has(t,"callToAction")&&(this.call_to_action=new mr(t.callToAction)),Reflect.has(t,"hovercardButton")&&(this.hovercard_button=Os.parseItem(t.hovercardButton)),Reflect.has(t,"isSubscribe")&&(this.is_subscribe=!!t.isSubscribe),Reflect.has(t,"playlistLength")&&(this.playlist_length=new mr(t.playlistLength)),Reflect.has(t,"thumbnailOverlays")&&(this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays)),this.left=parseFloat(t.left),this.width=parseFloat(t.width),this.top=parseFloat(t.top),this.aspect_ratio=parseFloat(t.aspectRatio),this.start_ms=parseFloat(t.startMs),this.end_ms=parseFloat(t.endMs),this.id=t.id}};n(Xf,"EndscreenElement"),o(Xf,"type","EndscreenElement");var Jf=Xf,Zf=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"author"),o(this,"endpoint"),o(this,"thumbnails"),o(this,"video_count"),this.id=t.playlistId,this.title=new mr(t.title),this.author=new mr(t.longBylineText),this.endpoint=new nr(t.navigationEndpoint),this.thumbnails=or.fromResponse(t.thumbnail),this.video_count=new mr(t.videoCountText)}};n(Zf,"EndScreenPlaylist"),o(Zf,"type","EndScreenPlaylist");var ty=Zf,ey=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"thumbnails"),o(this,"thumbnail_overlays"),o(this,"author"),o(this,"endpoint"),o(this,"short_view_count"),o(this,"badges"),o(this,"duration"),this.id=t.videoId,this.title=new mr(t.title),this.thumbnails=or.fromResponse(t.thumbnail),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays),this.author=new qM(t.shortBylineText,t.ownerBadges),this.endpoint=new nr(t.navigationEndpoint),this.short_view_count=new mr(t.shortViewCountText),this.badges=Os.parseArray(t.badges),this.duration={text:new mr(t.lengthText).toString(),seconds:t.lengthInSeconds}}};n(ey,"EndScreenVideo"),o(ey,"type","EndScreenVideo");var iy=ey,sy=class extends ys{constructor(t){super(),o(this,"title"),o(this,"endpoint"),o(this,"selected"),o(this,"content"),this.title=t.title,this.endpoint=new nr(t.endpoint),this.selected=t.selected,this.content=Os.parseItem(t.content)}};n(sy,"ExpandableTab"),o(sy,"type","ExpandableTab");var ny=sy,ay=class extends ys{constructor(t){super(),o(this,"items"),this.items=Os.parseArray(t.items)}get contents(){return this.items}};n(ay,"ExpandedShelfContents"),o(ay,"type","ExpandedShelfContents");var oy=ay,ry=class extends ys{constructor(t){super(),o(this,"dialog_message"),o(this,"confirm_label"),this.dialog_message=new mr(t.dialogMessage),this.confirm_label=new mr(t.confirmLabel)}};n(ry,"FancyDismissibleDialog"),o(ry,"type","FancyDismissibleDialog");var cy=ry,ly=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=Os.parseArray(t.contents,Ru)}};n(ly,"FeedFilterChipBar"),o(ly,"type","FeedFilterChipBar");var hy=ly,dy=class extends ys{constructor(t){super(),o(this,"title"),o(this,"subtitle"),o(this,"endpoint"),o(this,"apply_modernized_style"),o(this,"trim_style"),o(this,"background_style"),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle),this.endpoint=new nr(t.impressionEndpoint),this.apply_modernized_style=t.applyModernizedStyle,this.trim_style=t.trimStyle,this.background_style=t.backgroundStyle}};n(dy,"FeedNudge"),o(dy,"type","FeedNudge");var uy=dy,py=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(py,"FeedTabbedHeader"),o(py,"type","FeedTabbedHeader");var my=py,_y=class extends ys{constructor(t){super(),o(this,"title"),o(this,"box_art"),o(this,"box_art_overlay_text"),o(this,"endpoint"),o(this,"is_official_box_art"),this.title=new mr(t.title),this.box_art=or.fromResponse(t.boxArt),this.box_art_overlay_text=new mr(t.boxArtOverlayText),this.endpoint=new nr(t.endpoint),this.is_official_box_art=!!t.isOfficialBoxArt}};n(_y,"GameDetails"),o(_y,"type","GameDetails");var fy=_y,yy=class extends ys{constructor(t){super(),o(this,"items"),o(this,"is_collapsible"),o(this,"visible_row_count"),o(this,"target_id"),o(this,"continuation"),o(this,"header"),this.items=Os.parseArray(t.items),Reflect.has(t,"header")&&(this.header=Os.parseItem(t.header)),Reflect.has(t,"isCollapsible")&&(this.is_collapsible=t.isCollapsible),Reflect.has(t,"visibleRowCount")&&(this.visible_row_count=t.visibleRowCount),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),this.continuation=t.continuations?.[0]?.nextContinuationData?.continuation||null}get contents(){return this.items}};n(yy,"Grid"),o(yy,"type","Grid");var by=yy,gy=class extends ys{constructor(t){super(),o(this,"id"),o(this,"author"),o(this,"subscribers"),o(this,"video_count"),o(this,"endpoint"),o(this,"subscribe_button"),this.id=t.channelId,this.author=new qM({...t.title,navigationEndpoint:t.navigationEndpoint},t.ownerBadges,t.thumbnail),this.subscribers=new mr(t.subscriberCountText),this.video_count=new mr(t.videoCountText),this.endpoint=new nr(t.navigationEndpoint),this.subscribe_button=Os.parseItem(t.subscribeButton)}};n(gy,"GridChannel"),o(gy,"type","GridChannel");var vy=gy,wy=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(wy,"GridHeader"),o(wy,"type","GridHeader");var xy=wy,ky=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"author"),o(this,"thumbnails"),o(this,"video_count"),o(this,"video_count_short"),o(this,"endpoint"),o(this,"secondary_endpoint"),o(this,"thumbnail_overlays"),this.id=t.playlistId,this.title=new mr(t.title),this.author=t.shortBylineText?.simpleText?new mr(t.shortBylineText):t.longBylineText?.simpleText?new mr(t.longBylineText):null,this.thumbnails=or.fromResponse(t.thumbnail),this.video_count=new mr(t.videoCountText),this.video_count_short=new mr(t.videoCountShortText),this.endpoint=new nr(t.navigationEndpoint),this.secondary_endpoint=new nr(t.secondaryNavigationEndpoint),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays)}};n(ky,"GridMix"),o(ky,"type","GridMix");var Sy=ky,Cy=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"thumbnails"),o(this,"duration"),o(this,"endpoint"),o(this,"badges"),o(this,"metadata"),o(this,"thumbnail_overlays");let e=t.thumbnailOverlays.find(t=>t.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))?.thumbnailOverlayTimeStatusRenderer;this.id=t.videoId,this.title=new mr(t.title),this.thumbnails=or.fromResponse(t.thumbnail),this.duration=t.lengthText?new mr(t.lengthText):e?.text?new mr(e.text):null,this.endpoint=new nr(t.navigationEndpoint),this.badges=Os.parseArray(t.badges,Mh),this.metadata=new mr(t.metadata),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays)}};n(Cy,"GridMovie"),o(Cy,"type","GridMovie");var Ty=Cy,Iy=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"author"),o(this,"badges"),o(this,"endpoint"),o(this,"view_playlist"),o(this,"thumbnails"),o(this,"thumbnail_renderer"),o(this,"sidebar_thumbnails"),o(this,"video_count"),o(this,"video_count_short"),this.id=t.playlistId,this.title=new mr(t.title),Reflect.has(t,"shortBylineText")&&(this.author=new qM(t.shortBylineText,t.ownerBadges)),this.badges=Os.parseArray(t.ownerBadges),this.endpoint=new nr(t.navigationEndpoint),this.view_playlist=new mr(t.viewPlaylistText),this.thumbnails=or.fromResponse(t.thumbnail),this.thumbnail_renderer=Os.parseItem(t.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...t.sidebarThumbnails?.map(t=>or.fromResponse(t))||[])||null,this.video_count=new mr(t.thumbnailText),this.video_count_short=new mr(t.videoCountShortText)}};n(Iy,"GridPlaylist"),o(Iy,"type","GridPlaylist");var Ey=Iy,Py=class extends ys{constructor(t){super(),o(this,"contents"),o(this,"header"),o(this,"content_aspect_ratio"),o(this,"enable_vertical_expansion"),o(this,"show_more_button"),o(this,"show_less_button"),o(this,"min_collapsed_item_count"),this.contents=Os.parseArray(t.contents),this.header=Os.parseItem(t.header),this.content_aspect_ratio=t.contentAspectRatio,this.enable_vertical_expansion=t.enableVerticalExpansion,this.show_more_button=Os.parseItem(t.showMoreButton,qc),this.show_less_button=Os.parseItem(t.showLessButton,qc),this.min_collapsed_item_count=t.minCollapsedItemCount}};n(Py,"GridShelfView"),o(Py,"type","GridShelfView");var Ry=Py,Ay=class extends ys{constructor(t){super(),o(this,"thumbnail"),this.thumbnail=or.fromResponse(t.thumbnail)}};n(Ay,"ShowCustomThumbnail"),o(Ay,"type","ShowCustomThumbnail");var My=Ay,Ly=class extends ys{constructor(t){super(),o(this,"text"),o(this,"icon_type"),Reflect.has(t,"text")&&(this.text=new mr(t.text)),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}};n(Ly,"ThumbnailOverlayBottomPanel"),o(Ly,"type","ThumbnailOverlayBottomPanel");var Dy=Ly,Ny=class extends ys{constructor(t){super(),o(this,"title"),o(this,"thumbnail_renderer"),o(this,"endpoint"),o(this,"long_byline_text"),o(this,"thumbnail_overlays"),o(this,"author"),this.title=new mr(t.title),this.thumbnail_renderer=MP(t.thumbnailRenderer,My),this.endpoint=new nr(t.navigationEndpoint),this.long_byline_text=new mr(t.longBylineText),this.thumbnail_overlays=LP(t.thumbnailOverlays,Dy),this.author=new qM(t.shortBylineText,void 0)}};n(Ny,"GridShow"),o(Ny,"type","GridShow");var By=Ny,Vy=class extends ys{constructor(t){super(),o(this,"video_id"),o(this,"title"),o(this,"thumbnails"),o(this,"thumbnail_overlays"),o(this,"rich_thumbnail"),o(this,"published"),o(this,"duration"),o(this,"author"),o(this,"views"),o(this,"short_view_count"),o(this,"endpoint"),o(this,"menu"),o(this,"buttons"),o(this,"upcoming"),o(this,"upcoming_text"),o(this,"is_reminder_set");let e=t.thumbnailOverlays.find(t=>t.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))?.thumbnailOverlayTimeStatusRenderer;this.video_id=t.videoId,this.title=new mr(t.title),this.thumbnails=or.fromResponse(t.thumbnail),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays),this.rich_thumbnail=Os.parseItem(t.richThumbnail),this.published=new mr(t.publishedTimeText),this.duration=t.lengthText?new mr(t.lengthText):e?.text?new mr(e.text):null,this.author=t.shortBylineText&&new qM(t.shortBylineText,t.ownerBadges),this.views=new mr(t.viewCountText),this.short_view_count=new mr(t.shortViewCountText),this.endpoint=new nr(t.navigationEndpoint),this.menu=Os.parseItem(t.menu,Sl),Reflect.has(t,"buttons")&&(this.buttons=Os.parseArray(t.buttons)),Reflect.has(t,"upcomingEventData")&&(this.upcoming=new Date(+`${t.upcomingEventData.startTime}000`),this.upcoming_text=new mr(t.upcomingEventData.upcomingEventText),this.is_reminder_set=!!t.upcomingEventData?.isReminderSet)}get id(){return this.video_id}get is_upcoming(){return!!(this.upcoming&&this.upcoming>new Date)}};n(Vy,"GridVideo"),o(Vy,"type","GridVideo");var Oy=Vy,Uy=class extends ys{constructor(t){super(),o(this,"title"),o(this,"endpoint"),o(this,"icon_type"),o(this,"thumbnails"),o(this,"badges"),o(this,"is_primary"),this.title=new mr(t.formattedTitle),this.endpoint=new nr(t.navigationEndpoint||t.serviceEndpoint),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"thumbnail")&&(this.thumbnails=or.fromResponse(t.thumbnail)),Reflect.has(t,"badges")&&(this.badges=t.badges),this.is_primary=!!t.isPrimary}};n(Uy,"GuideEntry"),o(Uy,"type","GuideEntry");var Fy=Uy,Hy=class extends ys{constructor(t){super(),o(this,"expander_item"),o(this,"collapser_item"),o(this,"expandable_items"),this.expander_item=MP(t.expanderItem,Fy),this.collapser_item=MP(t.collapserItem,Fy),this.expandable_items=LP(t.expandableItems)}};n(Hy,"GuideCollapsibleEntry"),o(Hy,"type","GuideCollapsibleEntry");var Wy=Hy,jy=class extends ys{constructor(t){super(),o(this,"header_entry"),o(this,"expander_icon"),o(this,"collapser_icon"),o(this,"section_items"),this.header_entry=MP(t.headerEntry),this.expander_icon=t.expanderIcon.iconType,this.collapser_icon=t.collapserIcon.iconType,this.section_items=LP(t.sectionItems)}};n(jy,"GuideCollapsibleSectionEntry"),o(jy,"type","GuideCollapsibleSectionEntry");var Gy=jy,$y=class extends Fy{constructor(t){super(t.entryRenderer.guideEntryRenderer),o(this,"always_show"),this.always_show=!!t.alwaysShow}};n($y,"GuideDownloadsEntry"),o($y,"type","GuideDownloadsEntry");var qy=$y,Ky=class extends ys{constructor(t){super(),o(this,"title"),o(this,"items"),Reflect.has(t,"formattedTitle")&&(this.title=new mr(t.formattedTitle)),this.items=LP(t.items)}};n(Ky,"GuideSection"),o(Ky,"type","GuideSection");var Yy=Ky,zy=class extends Yy{};n(zy,"GuideSubscriptionsSection"),o(zy,"type","GuideSubscriptionsSection");var Qy=zy,Xy=class extends ys{constructor(t){super(),o(this,"hashtag"),o(this,"hashtag_info"),this.hashtag=new mr(t.hashtag),this.hashtag_info=new mr(t.hashtagInfoText)}};n(Xy,"HashtagHeader"),o(Xy,"type","HashtagHeader");var Jy=Xy,Zy=class extends ys{constructor(t){super(),o(this,"hashtag"),o(this,"hashtag_info_text"),o(this,"hashtag_thumbnail"),o(this,"endpoint"),o(this,"hashtag_background_color"),o(this,"hashtag_video_count"),o(this,"hashtag_channel_count"),this.hashtag=new mr(t.hashtag),this.hashtag_info_text=new mr(t.hashtagInfoText),this.hashtag_thumbnail=or.fromResponse(t.hashtagThumbnail),this.endpoint=new nr(t.onTapCommand),this.hashtag_background_color=t.hashtagBackgroundColor,this.hashtag_video_count=new mr(t.hashtagVideoCount),this.hashtag_channel_count=new mr(t.hashtagChannelCount)}};n(Zy,"HashtagTile"),o(Zy,"type","HashtagTile");var tb=Zy,eb=class extends ys{constructor(t){super(),o(this,"thumbnails"),o(this,"on_tap_endpoint"),this.thumbnails=or.fromResponse(t.thumbnail),this.on_tap_endpoint=new nr(t.onTap)}};n(eb,"HeroPlaylistThumbnail"),o(eb,"type","HeroPlaylistThumbnail");var ib=eb,sb=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"background_image"),o(this,"strapline"),o(this,"title"),o(this,"description"),o(this,"text_on_tap_endpoint"),o(this,"cta"),t.thumbnail&&(this.thumbnail={image:or.fromResponse(t.thumbnail.image),endpoint:new nr(t.thumbnail.onTap),on_long_press_endpoint:new nr(t.thumbnail.onLongPress),content_mode:t.thumbnail.contentMode,crop_options:t.thumbnail.cropOptions}),this.background_image={image:or.fromResponse(t.backgroundImage.image),gradient_image:or.fromResponse(t.backgroundImage.gradientImage)},this.strapline=t.strapline,this.title=t.title,this.description=t.description,this.cta={icon_name:t.cta.iconName,title:t.cta.title,endpoint:new nr(t.cta.onTap),accessibility_text:t.cta.accessibilityText,state:t.cta.state},this.text_on_tap_endpoint=new nr(t.textOnTap)}};n(sb,"Panel"),o(sb,"type","Panel");var nb=sb,ab=class extends ys{constructor(t){super(),o(this,"panels"),this.panels=ks(t.highlightsCarousel.panels.map(t=>new nb(t)))}};n(ab,"HighlightsCarousel"),o(ab,"type","HighlightsCarousel");var ob=ab,rb=class extends ys{constructor(t){super(),o(this,"suggestion"),o(this,"endpoint"),o(this,"icon_type"),o(this,"service_endpoint"),this.suggestion=new mr(t.suggestion),this.endpoint=new nr(t.navigationEndpoint),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"serviceEndpoint")&&(this.service_endpoint=new nr(t.serviceEndpoint))}};n(rb,"SearchSuggestion"),o(rb,"type","SearchSuggestion");var cb=rb,lb=class extends cb{constructor(t){super(t)}};n(lb,"HistorySuggestion"),o(lb,"type","HistorySuggestion");var hb=lb,db=class extends ys{constructor(t){super(),o(this,"items"),o(this,"previous_button"),o(this,"next_button"),this.items=Os.parseArray(t.items),this.previous_button=Os.parseItem(t.previousButton,Yo),this.next_button=Os.parseItem(t.nextButton,Yo)}get contents(){return this.items}};n(db,"HorizontalMovieList"),o(db,"type","HorizontalMovieList");var ub=db,pb=class extends ys{constructor(t){super(),o(this,"icon_type"),o(this,"tooltip"),o(this,"endpoint"),this.icon_type=t.icon?.iconType,Reflect.has(t,"tooltip")&&(this.tooltip=new mr(t.tooltip).toString()),this.endpoint=new nr(t.navigationEndpoint)}};n(pb,"IconLink"),o(pb,"type","IconLink");var mb=pb,_b=class extends ys{constructor(t){super(),o(this,"image"),o(this,"style"),this.image=or.fromResponse(t.image),this.style=t.style}};n(_b,"ImageBannerView"),o(_b,"type","ImageBannerView");var fb=_b,yb=class extends ys{constructor(t){super(),o(this,"including_results_for"),o(this,"corrected_query"),o(this,"corrected_query_endpoint"),o(this,"search_only_for"),o(this,"original_query"),o(this,"original_query_endpoint"),this.including_results_for=new mr(t.includingResultsFor),this.corrected_query=new mr(t.correctedQuery),this.corrected_query_endpoint=new nr(t.correctedQueryEndpoint),this.search_only_for=Reflect.has(t,"searchOnlyFor")?new mr(t.searchOnlyFor):void 0,this.original_query=Reflect.has(t,"originalQuery")?new mr(t.originalQuery):void 0,this.original_query_endpoint=Reflect.has(t,"originalQueryEndpoint")?new nr(t.originalQueryEndpoint):void 0}};n(yb,"IncludingResultsFor"),o(yb,"type","IncludingResultsFor");var bb=yb,gb=class extends ys{constructor(t){super(),o(this,"title"),o(this,"source"),o(this,"paragraphs"),o(this,"attributed_paragraphs"),o(this,"thumbnail"),o(this,"source_endpoint"),o(this,"truncate_paragraphs"),o(this,"background"),o(this,"inline_link_icon_type"),this.title=new mr(t.title),this.source=new mr(t.source),Reflect.has(t,"paragraphs")&&(this.paragraphs=t.paragraphs.map(t=>new mr(t))),Reflect.has(t,"attributedParagraphs")&&(this.attributed_paragraphs=t.attributedParagraphs.map(t=>mr.fromAttributed(t))),this.thumbnail=or.fromResponse(t.thumbnail),this.source_endpoint=new nr(t.sourceEndpoint),this.truncate_paragraphs=!!t.truncateParagraphs,this.background=t.background,Reflect.has(t,"inlineLinkIcon")&&Reflect.has(t.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=t.inlineLinkIcon.iconType)}};n(gb,"InfoPanelContent"),o(gb,"type","InfoPanelContent");var vb=gb,wb=class extends ys{constructor(t){super(),o(this,"title"),o(this,"menu"),o(this,"content"),o(this,"header_endpoint"),o(this,"background"),o(this,"title_style"),o(this,"icon_type"),this.title=new mr(t.title),this.menu=Os.parseItem(t.menu,Sl),this.content=Os.parseItem(t.content,vb),t.headerEndpoint&&(this.header_endpoint=new nr(t.headerEndpoint)),this.background=t.background,this.title_style=t.titleStyle,Reflect.has(t,"icon")&&(this.icon_type=t.icon?.iconType)}};n(wb,"InfoPanelContainer"),o(wb,"type","InfoPanelContainer");var xb=wb,kb=class extends ys{constructor(t){super(),o(this,"header_type"),o(this,"title"),o(this,"description"),o(this,"metadata"),o(this,"badges"),o(this,"box_art"),o(this,"banner"),o(this,"buttons"),o(this,"auto_generated"),this.header_type=t.type,this.title=new mr(t.title),this.description=new mr(t.description),this.metadata=new mr(t.metadata),this.badges=Os.parseArray(t.badges,Mh),this.box_art=or.fromResponse(t.boxArt),this.banner=or.fromResponse(t.banner),this.buttons=Os.parseArray(t.buttons,[Md,Yo]),this.auto_generated=new mr(t.autoGenerated)}};n(kb,"InteractiveTabbedHeader"),o(kb,"type","InteractiveTabbedHeader");var Sb=kb,Cb=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(Cb,"ItemSectionHeader"),o(Cb,"type","ItemSectionHeader");var Tb=Cb,Ib=class extends ys{constructor(t){super(),o(this,"title"),o(this,"selected"),o(this,"endpoint"),this.title=new mr(t.title),this.selected=!!t.selected,this.endpoint=new nr(t.endpoint)}};n(Ib,"ItemSectionTab"),o(Ib,"type","Tab");var Eb=Ib,Pb=class extends ys{constructor(t){super(),o(this,"title"),o(this,"tabs"),o(this,"end_items"),this.title=new mr(t.title),this.tabs=Os.parseArray(t.tabs,Eb),Reflect.has(t,"endItems")&&(this.end_items=Os.parseArray(t.endItems))}};n(Pb,"ItemSectionTabbedHeader"),o(Pb,"type","ItemSectionTabbedHeader");var Rb=Pb,Ab=class extends ys{constructor(t){super(),o(this,"filter_menu"),this.filter_menu=Os.parseItem(t.filterMenu,Us.SortFilterSubMenu)}};n(Ab,"SortFilterHeader"),o(Ab,"type","SortFilterHeader");var Mb=Ab,Lb=class extends ys{constructor(t){super(),o(this,"header"),o(this,"contents"),o(this,"target_id"),o(this,"continuation"),this.header=Os.parseItem(t.header,[Lp,Tb,Rb,Mb,hy]),this.contents=Os.parseArray(t.contents),(t.targetId||t.sectionIdentifier)&&(this.target_id=t.targetId||t.sectionIdentifier),t.continuations&&(this.continuation=t.continuations?.at(0)?.nextContinuationData?.continuation)}};n(Lb,"ItemSection"),o(Lb,"type","ItemSection");var Db=Lb,Nb=class extends ys{constructor(t){super(),o(this,"header"),o(this,"initial_display_state"),o(this,"continuation"),o(this,"client_messages"),o(this,"is_replay"),this.header=Os.parseItem(t.header),this.initial_display_state=t.initialDisplayState,this.continuation=t.continuations[0]?.reloadContinuationData?.continuation,this.client_messages={reconnect_message:new mr(t.clientMessages.reconnectMessage),unable_to_reconnect_message:new mr(t.clientMessages.unableToReconnectMessage),fatal_error:new mr(t.clientMessages.fatalError),reconnected_message:new mr(t.clientMessages.reconnectedMessage),generic_error:new mr(t.clientMessages.genericError)},this.is_replay=!!t.isReplay}};n(Nb,"LiveChat"),o(Nb,"type","LiveChat");var Bb=Nb,Vb=class extends ys{constructor(t){super(),o(this,"text"),o(this,"icon_type"),o(this,"context_menu_button"),this.text=new mr(t.text),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.context_menu_button=Os.parseItem(t.contextMenuButton,Yo)}};n(Vb,"LiveChatBannerHeader"),o(Vb,"type","LiveChatBannerHeader");var Ob=Vb,Ub=class extends ys{constructor(t){super(),o(this,"header"),o(this,"contents"),o(this,"action_id"),o(this,"viewer_is_creator"),o(this,"target_id"),o(this,"is_stackable"),o(this,"background_type"),o(this,"banner_type"),o(this,"banner_properties_is_ephemeral"),o(this,"banner_properties_auto_collapse_delay_seconds"),this.header=Os.parseItem(t.header,Ob),this.contents=Os.parseItem(t.contents),this.action_id=t.actionId,Reflect.has(t,"viewerIsCreator")&&(this.viewer_is_creator=t.viewerIsCreator),this.target_id=t.targetId,this.is_stackable=t.isStackable,Reflect.has(t,"backgroundType")&&(this.background_type=t.backgroundType),this.banner_type=t.bannerType,Reflect.has(t,"bannerProperties")&&Reflect.has(t.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=!!t.bannerProperties.isEphemeral),Reflect.has(t,"bannerProperties")&&Reflect.has(t.bannerProperties,"autoCollapseDelay")&&Reflect.has(t.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=t.bannerProperties.autoCollapseDelay.seconds)}};n(Ub,"LiveChatBanner"),o(Ub,"type","LiveChatBanner");var Fb=Ub,Hb=class extends ys{constructor(t){super(),o(this,"banner"),this.banner=Os.parseItem(t.bannerRenderer,Fb)}};n(Hb,"AddBannerToLiveChatCommand"),o(Hb,"type","AddBannerToLiveChatCommand");var Wb=Hb,jb=class extends ys{constructor(t){super(),o(this,"item"),o(this,"client_id"),this.item=Os.parseItem(t.item),Reflect.has(t,"clientId")&&(this.client_id=t.clientId)}};n(jb,"AddChatItemAction"),o(jb,"type","AddChatItemAction");var Gb=jb,$b=class extends ys{constructor(t){super(),o(this,"item"),o(this,"duration_sec"),this.item=Os.parseItem(t.item),this.duration_sec=t.durationSec}};n($b,"AddLiveChatTickerItemAction"),o($b,"type","AddLiveChatTickerItemAction");var qb=$b,Kb=class extends ys{constructor(t){super(),o(this,"client_assigned_id"),this.client_assigned_id=t.clientAssignedId}};n(Kb,"DimChatItemAction"),o(Kb,"type","DimChatItemAction");var Yb=Kb,zb=class extends ys{constructor(t){super(),o(this,"text"),o(this,"image_name"),o(this,"image_color"),this.text=mr.fromAttributed(t.text),this.image_name=t.image.sources[0].clientResource.imageName,this.image_color=t.image.sources[0].clientResource.imageColor}};n(zb,"BumperUserEduContentView"),o(zb,"type","BumperUserEduContentView");var Qb=zb,Xb=class extends ys{constructor(t){super(),o(this,"creator_thumbnail"),o(this,"hearted_icon_name"),o(this,"unhearted_icon_name"),o(this,"unhearted_icon_processor"),o(this,"hearted_hover_text"),o(this,"hearted_accessibility_label"),o(this,"unhearted_accessibility_label"),o(this,"engagement_state_key"),this.creator_thumbnail=or.fromResponse(t.creatorThumbnail),this.hearted_icon_name=t.heartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_name=t.unheartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_processor={border_image_processor:{image_tint:{color:t.unheartedIcon.processor.borderImageProcessor.imageTint.color}}},this.hearted_hover_text=t.heartedHoverText,this.hearted_accessibility_label=t.heartedAccessibilityLabel,this.unhearted_accessibility_label=t.unheartedAccessibilityLabel,this.engagement_state_key=t.engagementStateKey}};n(Xb,"CreatorHeartView"),o(Xb,"type","CreatorHeartView");var Jb=Xb,Zb=class extends ys{constructor(t){super(),o(this,"menu_endpoint"),o(this,"moderation_buttons"),o(this,"auto_moderated_item"),o(this,"header_text"),o(this,"timestamp"),o(this,"id"),this.menu_endpoint=new nr(t.contextMenuEndpoint),this.moderation_buttons=Os.parseArray(t.moderationButtons,Yo),this.auto_moderated_item=Os.parseItem(t.autoModeratedItem),this.header_text=new mr(t.headerText),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.id=t.id}};n(Zb,"LiveChatAutoModMessage"),o(Zb,"type","LiveChatAutoModMessage");var tg=Zb,eg=class extends ys{constructor(t){super(),o(this,"id"),o(this,"chat_summary"),o(this,"icon_type"),o(this,"like_feedback_button"),o(this,"dislike_feedback_button"),this.id=t.liveChatSummaryId,this.chat_summary=new mr(t.chatSummary),this.icon_type=t.icon.iconType,this.like_feedback_button=Os.parseItem(t.likeFeedbackButton,nl),this.dislike_feedback_button=Os.parseItem(t.dislikeFeedbackButton,nl)}};n(eg,"LiveChatBannerChatSummary"),o(eg,"type","LiveChatBannerChatSummary");var ig=eg,sg=class extends ys{constructor(t){super(),o(this,"poll_question"),o(this,"author_photo"),o(this,"choices"),o(this,"collapsed_state_entity_key"),o(this,"live_chat_poll_state_entity_key"),o(this,"context_menu_button"),this.poll_question=new mr(t.pollQuestion),this.author_photo=or.fromResponse(t.authorPhoto),this.choices=t.pollChoices.map(t=>({option_id:t.pollOptionId,text:new mr(t.text).toString()})),this.collapsed_state_entity_key=t.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=t.liveChatPollStateEntityKey,this.context_menu_button=Os.parseItem(t.contextMenuButton,Yo)}};n(sg,"LiveChatBannerPoll"),o(sg,"type","LiveChatBannerPoll");var ng=sg,ag=class extends ys{constructor(t){super(),o(this,"banner_message"),o(this,"author_photo"),o(this,"inline_action_button"),o(this,"context_menu_button"),this.banner_message=new mr(t.bannerMessage),this.author_photo=or.fromResponse(t.authorPhoto),this.inline_action_button=Os.parseItem(t.inlineActionButton,Yo),this.context_menu_button=Os.parseItem(t.contextMenuButton,Yo)}};n(ag,"LiveChatBannerRedirect"),o(ag,"type","LiveChatBannerRedirect");var og=ag,rg=class extends ys{constructor(t){super(),o(this,"content"),this.content=Os.parseItem(t.content,Qb)}};n(rg,"LiveChatItemBumperView"),o(rg,"type","LiveChatItemBumperView");var cg=rg,lg=class extends ys{constructor(t){super(),o(this,"id"),o(this,"timestamp"),o(this,"timestamp_usec"),o(this,"timestamp_text"),o(this,"header_primary_text"),o(this,"header_subtext"),o(this,"message"),o(this,"author"),o(this,"menu_endpoint"),o(this,"context_menu_accessibility_label"),this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,Reflect.has(t,"timestampText")&&(this.timestamp_text=new mr(t.timestampText)),Reflect.has(t,"headerPrimaryText")&&(this.header_primary_text=new mr(t.headerPrimaryText)),this.header_subtext=new mr(t.headerSubtext),Reflect.has(t,"message")&&(this.message=new mr(t.message)),this.author=new qM(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.menu_endpoint=new nr(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label}};n(lg,"LiveChatMembershipItem"),o(lg,"type","LiveChatMembershipItem");var hg=lg,dg=class extends ys{constructor(t){super(),o(this,"id"),o(this,"icon_type"),o(this,"text"),o(this,"subtext"),o(this,"timestamp"),o(this,"timestamp_usec"),o(this,"timestamp_text"),this.id=t.id,this.icon_type=t.icon.iconType,this.text=new mr(t.text),this.subtext=new mr(t.subtext),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,this.timestamp_text=new mr(t.timestampText)}};n(dg,"LiveChatModeChangeMessage"),o(dg,"type","LiveChatModeChangeMessage");var ug=dg,pg=class extends ys{constructor(t){super(),o(this,"reply_button"),o(this,"reply_count_entity_key"),o(this,"reply_count_placeholder"),this.reply_button=Os.parseItem(t.replyButton,qc),this.reply_count_entity_key=t.replyCountEntityKey,this.reply_count_placeholder=mr.fromAttributed(t.replyCountPlaceholder)}};n(pg,"PdgReplyButtonView"),o(pg,"type","PdgReplyButtonView");var mg=pg,_g=class extends ys{constructor(t){super(),o(this,"id"),o(this,"message"),o(this,"author"),o(this,"author_name_text_color"),o(this,"header_background_color"),o(this,"header_text_color"),o(this,"body_background_color"),o(this,"body_text_color"),o(this,"purchase_amount"),o(this,"menu_endpoint"),o(this,"context_menu_accessibility_label"),o(this,"timestamp"),o(this,"timestamp_usec"),o(this,"timestamp_text"),o(this,"timestamp_color"),o(this,"header_overlay_image"),o(this,"text_input_background_color"),o(this,"lower_bumper"),o(this,"creator_heart_button"),o(this,"is_v2_style"),o(this,"reply_button"),this.id=t.id,this.message=new mr(t.message),this.author=new qM(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.author_name_text_color=t.authorNameTextColor,this.header_background_color=t.headerBackgroundColor,this.header_text_color=t.headerTextColor,this.body_background_color=t.bodyBackgroundColor,this.body_text_color=t.bodyTextColor,this.purchase_amount=new mr(t.purchaseAmountText).toString(),this.menu_endpoint=new nr(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,Reflect.has(t,"timestampText")&&(this.timestamp_text=new mr(t.timestampText).toString()),this.timestamp_color=t.timestampColor,Reflect.has(t,"headerOverlayImage")&&(this.header_overlay_image=or.fromResponse(t.headerOverlayImage)),this.text_input_background_color=t.textInputBackgroundColor,this.lower_bumper=Os.parseItem(t.lowerBumper,cg),this.creator_heart_button=Os.parseItem(t.creatorHeartButton,Jb),this.is_v2_style=t.isV2Style,this.reply_button=Os.parseItem(t.replyButton,mg)}};n(_g,"LiveChatPaidMessage"),o(_g,"type","LiveChatPaidMessage");var fg=_g,yg=class extends ys{constructor(t){super(),o(this,"id"),o(this,"author"),o(this,"money_chip_background_color"),o(this,"money_chip_text_color"),o(this,"background_color"),o(this,"author_name_text_color"),o(this,"sticker"),o(this,"sticker_accessibility_label"),o(this,"sticker_display_width"),o(this,"sticker_display_height"),o(this,"purchase_amount"),o(this,"menu_endpoint"),o(this,"context_menu"),o(this,"context_menu_accessibility_label"),o(this,"timestamp"),o(this,"timestamp_usec"),o(this,"is_v2_style"),this.id=t.id,this.author=new qM(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.money_chip_background_color=t.moneyChipBackgroundColor,this.money_chip_text_color=t.moneyChipTextColor,this.background_color=t.backgroundColor,this.author_name_text_color=t.authorNameTextColor,this.sticker=or.fromResponse(t.sticker),this.sticker_accessibility_label=t.sticker.accessibility.accessibilityData.label,this.sticker_display_width=t.stickerDisplayWidth,this.sticker_display_height=t.stickerDisplayHeight,this.purchase_amount=new mr(t.purchaseAmountText).toString(),this.menu_endpoint=new nr(t.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,this.is_v2_style=t.isV2Style}};n(yg,"LiveChatPaidSticker"),o(yg,"type","LiveChatPaidSticker");var bg=yg,gg=class extends ys{constructor(t){super(),o(this,"id"),o(this,"timestamp"),this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3)}};n(gg,"LiveChatPlaceholderItem"),o(gg,"type","LiveChatPlaceholderItem");var vg=gg,wg=class extends ys{constructor(t){super(),o(this,"title"),o(this,"accessibility_title"),o(this,"thumbnail"),o(this,"price"),o(this,"vendor_name"),o(this,"from_vendor_text"),o(this,"information_button"),o(this,"endpoint"),o(this,"creator_message"),o(this,"creator_name"),o(this,"author_photo"),o(this,"information_dialog"),o(this,"is_verified"),o(this,"creator_custom_message"),this.title=t.title,this.accessibility_title=t.accessibilityTitle,this.thumbnail=or.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.from_vendor_text=t.fromVendorText,this.information_button=Os.parseItem(t.informationButton),this.endpoint=new nr(t.onClickCommand),this.creator_message=t.creatorMessage,this.creator_name=t.creatorName,this.author_photo=or.fromResponse(t.authorPhoto),this.information_dialog=Os.parseItem(t.informationDialog),this.is_verified=t.isVerified,this.creator_custom_message=new mr(t.creatorCustomMessage)}};n(wg,"LiveChatProductItem"),o(wg,"type","LiveChatProductItem");var xg=wg,kg=class extends ys{constructor(t){super(),o(this,"message"),o(this,"icon_type"),this.message=new mr(t.message),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}};n(kg,"LiveChatRestrictedParticipation"),o(kg,"type","LiveChatRestrictedParticipation");var Sg=kg,Cg=class extends Mh{constructor(t){super(t),o(this,"custom_thumbnail"),this.custom_thumbnail=or.fromResponse(t.customThumbnail)}};n(Cg,"LiveChatAuthorBadge"),o(Cg,"type","LiveChatAuthorBadge");var Tg=Cg,Ig=class extends ys{constructor(t){super(),o(this,"author_name"),o(this,"author_photo"),o(this,"author_badges"),o(this,"primary_text"),o(this,"menu_endpoint"),o(this,"context_menu_accessibility_label"),o(this,"image"),this.author_name=new mr(t.authorName),this.author_photo=or.fromResponse(t.authorPhoto),this.author_badges=Os.parseArray(t.authorBadges,Tg),this.primary_text=new mr(t.primaryText),this.menu_endpoint=new nr(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label,this.image=or.fromResponse(t.image)}};n(Ig,"LiveChatSponsorshipsHeader"),o(Ig,"type","LiveChatSponsorshipsHeader");var Eg=Ig,Pg=class extends ys{constructor(t){super(),o(this,"id"),o(this,"timestamp_usec"),o(this,"author_external_channel_id"),o(this,"header"),this.id=t.id,this.timestamp_usec=t.timestampUsec,this.author_external_channel_id=t.authorExternalChannelId,this.header=Os.parseItem(t.header,Eg)}};n(Pg,"LiveChatSponsorshipsGiftPurchaseAnnouncement"),o(Pg,"type","LiveChatSponsorshipsGiftPurchaseAnnouncement");var Rg=Pg,Ag=class extends ys{constructor(t){super(),o(this,"id"),o(this,"timestamp_usec"),o(this,"timestamp_text"),o(this,"author"),o(this,"message"),o(this,"menu_endpoint"),o(this,"context_menu_accessibility_label"),this.id=t.id,this.timestamp_usec=t.timestampUsec,this.timestamp_text=new mr(t.timestampText),this.author=new qM(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.message=new mr(t.message),this.menu_endpoint=new nr(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label}};n(Ag,"LiveChatSponsorshipsGiftRedemptionAnnouncement"),o(Ag,"type","LiveChatSponsorshipsGiftRedemptionAnnouncement");var Mg=Ag,Lg=class extends ys{constructor(t){super(),o(this,"id"),o(this,"message"),o(this,"inline_action_buttons"),o(this,"timestamp"),o(this,"timestamp_usec"),o(this,"timestamp_text"),o(this,"author"),o(this,"menu_endpoint"),o(this,"context_menu_accessibility_label"),o(this,"before_content_buttons"),this.id=t.id,this.message=new mr(t.message),this.inline_action_buttons=Os.parseArray(t.inlineActionButtons,Yo),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,Reflect.has(t,"timestampText")&&(this.timestamp_text=new mr(t.timestampText).toString()),this.author=new qM(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),Reflect.has(t,"contextMenuEndpoint")&&(this.menu_endpoint=new nr(t.contextMenuEndpoint)),Reflect.has(t,"contextMenuAccessibility")&&Reflect.has(t.contextMenuAccessibility,"accessibilityData")&&Reflect.has(t.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label),this.before_content_buttons=Os.parseArray(t.beforeContentButtons,qc)}};n(Lg,"LiveChatTextMessage"),o(Lg,"type","LiveChatTextMessage");var Dg=Lg,Ng=class extends ys{constructor(t){super(),o(this,"id"),o(this,"author"),o(this,"amount"),o(this,"amount_text_color"),o(this,"start_background_color"),o(this,"end_background_color"),o(this,"duration_sec"),o(this,"full_duration_sec"),o(this,"show_item"),o(this,"show_item_endpoint"),o(this,"animation_origin"),o(this,"open_engagement_panel_command"),this.id=t.id,this.author=new qM(t.authorName||t.authorUsername,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),Reflect.has(t,"amount")&&(this.amount=new mr(t.amount)),this.amount_text_color=t.amountTextColor,this.start_background_color=t.startBackgroundColor,this.end_background_color=t.endBackgroundColor,this.duration_sec=t.durationSec,this.full_duration_sec=t.fullDurationSec,this.show_item=Os.parseItem(t.showItemEndpoint?.showLiveChatItemEndpoint?.renderer),this.show_item_endpoint=new nr(t.showItemEndpoint),this.animation_origin=t.animationOrigin,this.open_engagement_panel_command=new nr(t.openEngagementPanelCommand)}};n(Ng,"LiveChatTickerPaidMessageItem"),o(Ng,"type","LiveChatTickerPaidMessageItem");var Bg=Ng,Vg=class extends ys{constructor(t){super(),o(this,"id"),o(this,"author_external_channel_id"),o(this,"author_photo"),o(this,"start_background_color"),o(this,"end_background_color"),o(this,"duration_sec"),o(this,"full_duration_sec"),o(this,"show_item"),o(this,"show_item_endpoint"),o(this,"ticker_thumbnails"),this.id=t.id,this.author_external_channel_id=t.authorExternalChannelId,this.author_photo=or.fromResponse(t.authorPhoto),this.start_background_color=t.startBackgroundColor,this.end_background_color=t.endBackgroundColor,this.duration_sec=t.durationSec,this.full_duration_sec=t.fullDurationSec,this.show_item=Os.parseItem(t.showItemEndpoint?.showLiveChatItemEndpoint?.renderer),this.show_item_endpoint=new nr(t.showItemEndpoint),this.ticker_thumbnails=t.tickerThumbnails.map(t=>({thumbnails:or.fromResponse(t),label:t?.accessibility?.accessibilityData?.label}))}};n(Vg,"LiveChatTickerPaidStickerItem"),o(Vg,"type","LiveChatTickerPaidStickerItem");var Og=Vg,Ug=class extends ys{constructor(t){super(),o(this,"id"),o(this,"detail"),o(this,"author"),o(this,"duration_sec"),this.id=t.id,this.detail=new mr(t.detailText),this.author=new qM(t.authorName,t.authorBadges,t.sponsorPhoto,t.authorExternalChannelId),this.duration_sec=t.durationSec}};n(Ug,"LiveChatTickerSponsorItem"),o(Ug,"type","LiveChatTickerSponsorItem");var Fg=Ug,Hg=class extends ys{constructor(t){super(),o(this,"id"),o(this,"timestamp"),o(this,"timestamp_usec"),o(this,"icon_type"),o(this,"message"),o(this,"action_button"),o(this,"menu_endpoint"),o(this,"context_menu_accessibility_label"),this.id=t.id,Reflect.has(t,"timestampUsec")&&(this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.message=new mr(t.message),this.action_button=Os.parseItem(t.actionButton),Reflect.has(t,"contextMenuEndpoint")&&(this.menu_endpoint=new nr(t.contextMenuEndpoint)),Reflect.has(t,"contextMenuAccessibility")&&Reflect.has(t.contextMenuAccessibility,"accessibilityData")&&Reflect.has(t.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label)}};n(Hg,"LiveChatViewerEngagementMessage"),o(Hg,"type","LiveChatViewerEngagementMessage");var Wg=Hg,jg=class extends ys{constructor(t){super(),o(this,"poll_question"),o(this,"thumbnails"),o(this,"metadata"),o(this,"live_chat_poll_type"),o(this,"context_menu_button"),this.poll_question=new mr(t.pollQuestion),this.thumbnails=or.fromResponse(t.thumbnail),this.metadata=new mr(t.metadataText),this.live_chat_poll_type=t.liveChatPollType,this.context_menu_button=Os.parseItem(t.contextMenuButton,Yo)}};n(jg,"PollHeader"),o(jg,"type","PollHeader");var Gg=jg,$g=class extends ys{constructor(t){super(),o(this,"id"),o(this,"contents"),o(this,"target_id"),this.id=t.id,this.contents=Os.parse(t.contents),this.target_id=t.targetId}};n($g,"LiveChatActionPanel"),o($g,"type","LiveChatActionPanel");var qg=$g,Kg=class extends ys{constructor(t){super(),o(this,"deleted_state_message"),o(this,"target_item_id"),this.deleted_state_message=new mr(t.deletedStateMessage),this.target_item_id=t.targetItemId}};n(Kg,"MarkChatItemAsDeletedAction"),o(Kg,"type","MarkChatItemAsDeletedAction");var Yg=Kg,zg=class extends ys{constructor(t){super(),o(this,"deleted_state_message"),o(this,"external_channel_id"),this.deleted_state_message=new mr(t.deletedStateMessage),this.external_channel_id=t.externalChannelId}};n(zg,"MarkChatItemsByAuthorAsDeletedAction"),o(zg,"type","MarkChatItemsByAuthorAsDeletedAction");var Qg=zg,Xg=class extends ys{constructor(t){super(),o(this,"target_action_id"),this.target_action_id=t.targetActionId}};n(Xg,"RemoveBannerForLiveChatCommand"),o(Xg,"type","RemoveBannerForLiveChatCommand");var Jg=Xg,Zg=class extends ys{constructor(t){super(),o(this,"target_item_id"),this.target_item_id=t.targetItemId}};n(Zg,"RemoveChatItemAction"),o(Zg,"type","RemoveChatItemAction");var tv=Zg,ev=class extends ys{constructor(t){super(),o(this,"external_channel_id"),this.external_channel_id=t.externalChannelId}};n(ev,"RemoveChatItemByAuthorAction"),o(ev,"type","RemoveChatItemByAuthorAction");var iv=ev,sv=class extends ys{constructor(t){super(),o(this,"target_item_id"),o(this,"replacement_item"),this.target_item_id=t.targetItemId,this.replacement_item=Os.parseItem(t.replacementItem)}};n(sv,"ReplaceChatItemAction"),o(sv,"type","ReplaceChatItemAction");var nv=sv,av=class extends ys{constructor(t){super(),o(this,"to_replace"),o(this,"replacement"),this.to_replace=t.toReplace,this.replacement=Os.parseItem(t.replacement)}};n(av,"ReplaceLiveChatAction"),o(av,"type","ReplaceLiveChatAction");var ov=av,rv=class extends ys{constructor(t){super(),o(this,"actions"),o(this,"video_offset_time_msec"),this.actions=Os.parseArray(t.actions?.map(t=>(delete t.clickTrackingParams,t))),this.video_offset_time_msec=t.videoOffsetTimeMsec}};n(rv,"ReplayChatItemAction"),o(rv,"type","ReplayChatItemAction");var cv=rv,lv=class extends ys{constructor(t){super(),o(this,"panel_to_show"),this.panel_to_show=Os.parseItem(t.panelToShow,qg)}};n(lv,"ShowLiveChatActionPanelAction"),o(lv,"type","ShowLiveChatActionPanelAction");var hv=lv,dv=class extends ys{constructor(t){super(),o(this,"dialog"),this.dialog=Os.parseItem(t.dialog)}};n(dv,"ShowLiveChatDialogAction"),o(dv,"type","ShowLiveChatDialogAction");var uv=dv,pv=class extends ys{constructor(t){super(),o(this,"tooltip"),this.tooltip=Os.parseItem(t.tooltip)}};n(pv,"ShowLiveChatTooltipCommand"),o(pv,"type","ShowLiveChatTooltipCommand");var mv=pv,_v=class extends ys{constructor(t){super(),o(this,"date_text"),this.date_text=new mr(t.dateText).toString()}};n(_v,"UpdateDateTextAction"),o(_v,"type","UpdateDateTextAction");var fv=_v,yv=class extends ys{constructor(t){super(),o(this,"description"),this.description=new mr(t.description)}};n(yv,"UpdateDescriptionAction"),o(yv,"type","UpdateDescriptionAction");var bv=yv,gv=class extends ys{constructor(t){super(),o(this,"poll_to_update"),this.poll_to_update=Os.parseItem(t.pollToUpdate)}};n(gv,"UpdateLiveChatPollAction"),o(gv,"type","UpdateLiveChatPollAction");var vv=gv,wv=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(wv,"UpdateTitleAction"),o(wv,"type","UpdateTitleAction");var xv=wv,kv=class extends ys{constructor(t){super(),o(this,"default_text"),o(this,"toggled_text"),o(this,"button_id"),this.default_text=new mr(t.defaultText).toString(),this.toggled_text=new mr(t.toggledText).toString(),this.button_id=t.buttonId}};n(kv,"UpdateToggleButtonTextAction"),o(kv,"type","UpdateToggleButtonTextAction");var Sv=kv,Cv=class extends ys{constructor(t){super(),o(this,"view_count"),o(this,"extra_short_view_count"),o(this,"original_view_count"),o(this,"unlabeled_view_count_value"),o(this,"is_live");let e=t.viewCount.videoViewCountRenderer;this.view_count=new mr(e.viewCount),this.extra_short_view_count=new mr(e.extraShortViewCount),this.original_view_count=parseInt(e.originalViewCount),this.unlabeled_view_count_value=new mr(e.unlabeledViewCountValue),this.is_live=e.isLive}};n(Cv,"UpdateViewershipAction"),o(Cv,"type","UpdateViewershipAction");var Tv=Cv,Iv=class extends ys{constructor(t){super(),o(this,"confirm_button"),o(this,"dialog_messages"),this.confirm_button=Os.parseItem(t.confirmButton,Yo),this.dialog_messages=t.dialogMessages.map(t=>new mr(t))}};n(Iv,"LiveChatDialog"),o(Iv,"type","LiveChatDialog");var Ev=Iv,Pv=class extends ys{constructor(t){super(),o(this,"overflow_menu"),o(this,"collapse_button"),o(this,"view_selector"),this.overflow_menu=Os.parseItem(t.overflowMenu,Sl),this.collapse_button=Os.parseItem(t.collapseButton,Yo),this.view_selector=Os.parseItem(t.viewSelector,Jr)}};n(Pv,"LiveChatHeader"),o(Pv,"type","LiveChatHeader");var Rv=Pv,Av=class extends ys{constructor(t){super(),o(this,"max_items_to_display"),o(this,"more_comments_below_button"),this.max_items_to_display=t.maxItemsToDisplay,this.more_comments_below_button=Os.parseItem(t.moreCommentsBelowButton,Yo)}};n(Av,"LiveChatItemList"),o(Av,"type","LiveChatItemList");var Mv=Av,Lv=class extends ys{constructor(t){super(),o(this,"author_name"),o(this,"author_photo"),o(this,"send_button"),o(this,"target_id"),this.author_name=new mr(t.authorName),this.author_photo=or.fromResponse(t.authorPhoto),this.send_button=Os.parseItem(t.sendButton,Yo),this.target_id=t.targetId}};n(Lv,"LiveChatMessageInput"),o(Lv,"type","LiveChatMessageInput");var Dv=Lv,Nv=class extends ys{constructor(t){super(),o(this,"name"),o(this,"photo"),o(this,"badges"),this.name=new mr(t.authorName),this.photo=or.fromResponse(t.authorPhoto),this.badges=Os.parseArray(t.authorBadges)}};n(Nv,"LiveChatParticipant"),o(Nv,"type","LiveChatParticipant");var Bv=Nv,Vv=class extends ys{constructor(t){super(),o(this,"title"),o(this,"participants"),this.title=new mr(t.title),this.participants=Os.parseArray(t.participants,Bv)}};n(Vv,"LiveChatParticipantsList"),o(Vv,"type","LiveChatParticipantsList");var Ov=Vv,Uv=class extends ys{constructor(t){super(),o(this,"title"),o(this,"metadata"),o(this,"image"),o(this,"menu_button"),this.title=mr.fromAttributed(t.title),this.metadata=Os.parseItem(t.metadata,bm),this.image=Os.parseItem(t.image,[Mm,Gc]),this.menu_button=Os.parseItem(t.menuButton,qc)}};n(Uv,"LockupMetadataView"),o(Uv,"type","LockupMetadataView");var Fv=Uv,Hv=class extends ys{constructor(t){super(),o(this,"content_image"),o(this,"metadata"),o(this,"content_id"),o(this,"content_type"),o(this,"renderer_context"),this.content_image=Os.parseItem(t.contentImage,[tp,Ju]),this.metadata=Os.parseItem(t.metadata,Fv),this.content_id=t.contentId,this.content_type=t.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.renderer_context=new Wc(t.rendererContext)}};n(Hv,"LockupView"),o(Hv,"type","LockupView");var Wv=Hv,jv=class extends ys{constructor(t){super(),o(this,"marker_entity_key"),o(this,"external_video_id"),o(this,"marker_type"),o(this,"markers"),o(this,"max_height_dp"),o(this,"min_height_dp"),o(this,"show_hide_animation_duration_millis"),o(this,"timed_marker_decorations"),o(this,"raw_api_markers"),o(this,"raw_api_decorations"),this.marker_entity_key=t.key,this.external_video_id=t.externalVideoId,this.marker_type=t.markersList?.markerType||"",this.raw_api_markers=t.markersList?.markers||[],this.raw_api_decorations=t.markersList?.markersDecoration?.timedMarkerDecorations||[],this.markers=ks(this.raw_api_markers.map(t=>new Dm(t)));let e=t.markersList?.markersMetadata?.heatmapMetadata;this.max_height_dp=e?.maxHeightDp||40,this.min_height_dp=e?.minHeightDp||4,this.show_hide_animation_duration_millis=e?.showHideAnimationDurationMillis||200,this.timed_marker_decorations=ks(this.raw_api_decorations.map(t=>new Bm(t)))}isHeatmap(){return"MARKER_TYPE_HEATMAP"===this.marker_type}toHeatmap(){if(!this.isHeatmap())return null;let t=this.raw_api_markers.map(t=>({HeatMarker:t})),e=this.raw_api_decorations.map(t=>({TimedMarkerDecoration:t}));return MP({Heatmap:{maxHeightDp:this.max_height_dp,minHeightDp:this.min_height_dp,showHideAnimationDurationMillis:this.show_hide_animation_duration_millis,heatMarkers:t,heatMarkersDecorations:e}},Om)}};n(jv,"MacroMarkersListEntity"),o(jv,"type","MacroMarkersListEntity");var Gv=jv,$v=class extends Yo{constructor(t){super(t)}};n($v,"MenuNavigationItem"),o($v,"type","MenuNavigationItem");var qv=$v,Kv=class extends ys{constructor(t){super(),o(this,"items"),this.items=Os.parseArray(t.items,[qv,ul])}};n(Kv,"MenuPopup"),o(Kv,"type","MenuPopup");var Yv=Kv,zv=class extends ys{constructor(t){super(),o(this,"thumbnails"),o(this,"video_thumbnails"),o(this,"short_message"),o(this,"sent_time"),o(this,"notification_id"),o(this,"endpoint"),o(this,"record_click_endpoint"),o(this,"menu"),o(this,"read"),this.thumbnails=or.fromResponse(t.thumbnail),this.video_thumbnails=or.fromResponse(t.videoThumbnail),this.short_message=new mr(t.shortMessage),this.sent_time=new mr(t.sentTimeText),this.notification_id=t.notificationId,this.endpoint=new nr(t.navigationEndpoint),this.record_click_endpoint=new nr(t.recordClickEndpoint),this.menu=Os.parseItem(t.contextualMenu),this.read=t.read}};n(zv,"Notification"),o(zv,"type","Notification");var Qv=zv,Xv=class extends ys{constructor(t){super(),o(this,"notification_section_title"),o(this,"items"),"notificationSectionTitle"in t&&(this.notification_section_title=new mr(t.notificationSectionTitle)),this.items=Os.parseArray(t.items,[Qv,vm,ch])}get contents(){return this.items}};n(Xv,"MultiPageMenuNotificationSection"),o(Xv,"type","MultiPageMenuNotificationSection");var Jv=Xv,Zv=class extends ys{constructor(t){super()}};n(Zv,"MusicMenuItemDivider"),o(Zv,"type","MusicMenuItemDivider");var tw=Zv,ew=class extends ys{constructor(t){super(),o(this,"title"),o(this,"form_item_entity_key"),o(this,"selected_icon_type"),o(this,"endpoint"),o(this,"selected"),this.title=new mr(t.title).toString(),this.form_item_entity_key=t.formItemEntityKey,Reflect.has(t,"selectedIcon")&&(this.selected_icon_type=t.selectedIcon.iconType),Reflect.has(t,"selectedCommand")&&(this.endpoint=new nr(t.selectedCommand)),this.selected=!!this.endpoint}};n(ew,"MusicMultiSelectMenuItem"),o(ew,"type","MusicMultiSelectMenuItem");var iw=ew,sw=class extends ys{constructor(t){super(),o(this,"title"),o(this,"options"),Reflect.has(t,"title")&&Reflect.has(t.title,"musicMenuTitleRenderer")&&(this.title=new mr(t.title.musicMenuTitleRenderer?.primaryText)),this.options=Os.parseArray(t.options,[iw,tw])}};n(sw,"MusicMultiSelectMenu"),o(sw,"type","MusicMultiSelectMenu");var nw=sw,aw=class extends ys{constructor(t){super(),o(this,"title"),o(this,"buttons"),this.title=new mr(t.title),this.buttons=Os.parseArray(t.buttons,Yo)}};n(aw,"SimpleMenuHeader"),o(aw,"type","SimpleMenuHeader");var ow=aw,rw=class extends ys{constructor(t){super(),o(this,"title"),o(this,"description"),o(this,"thumbnails"),o(this,"price"),o(this,"vendor_name"),o(this,"button_text"),o(this,"button_accessibility_text"),o(this,"from_vendor_text"),o(this,"additional_fees_text"),o(this,"region_format"),o(this,"endpoint"),this.title=t.title,this.description=t.description,this.thumbnails=or.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.button_text=t.buttonText,this.button_accessibility_text=t.buttonAccessibilityText,this.from_vendor_text=t.fromVendorText,this.additional_fees_text=t.additionalFeesText,this.region_format=t.regionFormat,this.endpoint=new nr(t.buttonCommand)}};n(rw,"MerchandiseItem"),o(rw,"type","MerchandiseItem");var cw=rw,lw=class extends ys{constructor(t){super(),o(this,"title"),o(this,"menu"),o(this,"items"),this.title=t.title,this.menu=Os.parseItem(t.actionButton),this.items=Os.parseArray(t.items)}get contents(){return this.items}};n(lw,"MerchandiseShelf"),o(lw,"type","MerchandiseShelf");var hw=lw,dw=class extends ys{constructor(t){super(),o(this,"title"),o(this,"contents"),this.title=new mr(t.title),this.contents=t.contents.map(t=>new mr(t))}};n(dw,"MetadataRow"),o(dw,"type","MetadataRow");var uw=dw,pw=class extends ys{constructor(t){super(),o(this,"rows"),o(this,"collapsed_item_count"),this.rows=Os.parseArray(t.rows),this.collapsed_item_count=t.collapsedItemCount}};n(pw,"MetadataRowContainer"),o(pw,"type","MetadataRowContainer");var mw=pw,_w=class extends ys{constructor(t){super(),o(this,"content"),o(this,"has_divider_line"),this.content=new mr(t.content),this.has_divider_line=t.hasDividerLine}};n(_w,"MetadataRowHeader"),o(_w,"type","MetadataRowHeader");var fw=_w,yw=class extends ys{constructor(t){super(),o(this,"section_list"),this.section_list=Os.parseItem(t)}};n(yw,"MetadataScreen"),o(yw,"type","MetadataScreen");var bw=yw,gw=class extends ys{constructor(t){super(),o(this,"url_canonical"),o(this,"title"),o(this,"description"),o(this,"thumbnail"),o(this,"site_name"),o(this,"app_name"),o(this,"android_package"),o(this,"ios_app_store_id"),o(this,"ios_app_arguments"),o(this,"og_type"),o(this,"url_applinks_web"),o(this,"url_applinks_ios"),o(this,"url_applinks_android"),o(this,"url_twitter_ios"),o(this,"url_twitter_android"),o(this,"twitter_card_type"),o(this,"twitter_site_handle"),o(this,"schema_dot_org_type"),o(this,"noindex"),o(this,"is_unlisted"),o(this,"is_family_safe"),o(this,"tags"),o(this,"available_countries"),this.url_canonical=t.urlCanonical,this.title=t.title,this.description=t.description,this.thumbnail=or.fromResponse(t.thumbnail),this.site_name=t.siteName,this.app_name=t.appName,this.android_package=t.androidPackage,this.ios_app_store_id=t.iosAppStoreId,this.ios_app_arguments=t.iosAppArguments,this.og_type=t.ogType,this.url_applinks_web=t.urlApplinksWeb,this.url_applinks_ios=t.urlApplinksIos,this.url_applinks_android=t.urlApplinksAndroid,this.url_twitter_ios=t.urlTwitterIos,this.url_twitter_android=t.urlTwitterAndroid,this.twitter_card_type=t.twitterCardType,this.twitter_site_handle=t.twitterSiteHandle,this.schema_dot_org_type=t.schemaDotOrgType,this.noindex=t.noindex,this.is_unlisted=t.unlisted,this.is_family_safe=t.familySafe,this.tags=t.tags,this.available_countries=t.availableCountries}};n(gw,"MicroformatData"),o(gw,"type","MicroformatData");var vw=gw,ww=class extends nm{constructor(t){super(t)}};n(ww,"Mix"),o(ww,"type","Mix");var xw=ww,kw=class extends ys{constructor(t){super(),o(this,"title"),o(this,"content"),o(this,"button"),this.title=new mr(t.title),this.content=new mr(t.content),this.button=Os.parseItem(t.button,Yo)}};n(kw,"ModalWithTitleAndButton"),o(kw,"type","ModalWithTitleAndButton");var Sw=kw,Cw=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"description_snippet"),o(this,"top_metadata_items"),o(this,"thumbnails"),o(this,"thumbnail_overlays"),o(this,"author"),o(this,"duration"),o(this,"endpoint"),o(this,"badges"),o(this,"use_vertical_poster"),o(this,"show_action_menu"),o(this,"menu");let e=t.thumbnailOverlays.find(t=>t.thumbnailOverlayTimeStatusRenderer)?.thumbnailOverlayTimeStatusRenderer.text||"N/A";this.id=t.videoId,this.title=new mr(t.title),Reflect.has(t,"descriptionSnippet")&&(this.description_snippet=new mr(t.descriptionSnippet)),this.top_metadata_items=new mr(t.topMetadataItems),this.thumbnails=or.fromResponse(t.thumbnail),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays),this.author=new qM(t.longBylineText,t.ownerBadges,t.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail),this.duration={text:t.lengthText?new mr(t.lengthText).toString():new mr(e).toString(),seconds:fL(t.lengthText?new mr(t.lengthText).toString():new mr(e).toString())},this.endpoint=new nr(t.navigationEndpoint),this.badges=Os.parseArray(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.show_action_menu=t.showActionMenu,this.menu=Os.parseItem(t.menu,Sl)}};n(Cw,"Movie"),o(Cw,"type","Movie");var Tw=Cw,Iw=class extends ys{constructor(t){return super(),t.movingThumbnailDetails?.thumbnails.map(t=>new or(t)).sort((t,e)=>e.width-t.width)}};n(Iw,"MovingThumbnail"),o(Iw,"type","MovingThumbnail");var Ew=Iw,Pw=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(Pw,"MusicCardShelfHeaderBasic"),o(Pw,"type","MusicCardShelfHeaderBasic");var Rw=Pw,Aw=class extends ys{constructor(t){super(),o(this,"icon_type"),o(this,"accessibility"),this.icon_type=t.icon.iconType,"accessibilityData"in t&&"accessibilityData"in t.accessibilityData&&(this.accessibility={accessibility_data:new Ps(t.accessibilityData.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}};n(Aw,"MusicInlineBadge"),o(Aw,"type","MusicInlineBadge");var Mw=Aw,Lw=class extends ys{constructor(t){super(),o(this,"endpoint"),o(this,"play_icon_type"),o(this,"pause_icon_type"),o(this,"icon_color"),o(this,"accessibility_play_data"),o(this,"accessibility_pause_data"),this.endpoint=new nr(t.playNavigationEndpoint),this.play_icon_type=t.playIcon.iconType,this.pause_icon_type=t.pauseIcon.iconType,"accessibilityPlayData"in t&&"accessibilityData"in t.accessibilityPlayData&&(this.accessibility_play_data={accessibility_data:new Ps(t.accessibilityPlayData.accessibilityData)}),"accessibilityPauseData"in t&&"accessibilityData"in t.accessibilityPauseData&&(this.accessibility_pause_data={accessibility_data:new Ps(t.accessibilityPauseData.accessibilityData)}),this.icon_color=t.iconColor}get play_label(){return this.accessibility_play_data?.accessibility_data?.label}get pause_label(){return this.accessibility_pause_data?.accessibility_data?.label}};n(Lw,"MusicPlayButton"),o(Lw,"type","MusicPlayButton");var Dw=Lw,Nw=class extends ys{constructor(t){super(),o(this,"content"),o(this,"content_position"),o(this,"display_style"),this.content=Os.parseItem(t.content,Dw),this.content_position=t.contentPosition,this.display_style=t.displayStyle}};n(Nw,"MusicItemThumbnailOverlay"),o(Nw,"type","MusicItemThumbnailOverlay");var Bw=Nw,Vw=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=or.fromResponse(t.thumbnail)}};n(Vw,"MusicThumbnail"),o(Vw,"type","MusicThumbnail");var Ow=Vw,Uw=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"title"),o(this,"subtitle"),o(this,"buttons"),o(this,"menu"),o(this,"on_tap"),o(this,"header"),o(this,"end_icon_type"),o(this,"subtitle_badges"),o(this,"thumbnail_overlay"),o(this,"contents"),this.thumbnail=Os.parseItem(t.thumbnail,Ow),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle),this.buttons=Os.parseArray(t.buttons,Yo),this.menu=Os.parseItem(t.menu,Sl),this.on_tap=new nr(t.onTap),this.header=Os.parseItem(t.header,Rw),Reflect.has(t,"endIcon")&&Reflect.has(t.endIcon,"iconType")&&(this.end_icon_type=t.endIcon.iconType),this.subtitle_badges=Os.parseArray(t.subtitleBadges,Mw),this.thumbnail_overlay=Os.parseItem(t.thumbnailOverlay,Bw),Reflect.has(t,"contents")&&(this.contents=Os.parseArray(t.contents))}};n(Uw,"MusicCardShelf"),o(Uw,"type","MusicCardShelf");var Fw=Uw,Hw=class extends ys{constructor(t){super(),o(this,"title"),o(this,"strapline"),o(this,"thumbnail"),o(this,"more_content"),o(this,"end_icons"),this.title=new mr(t.title),Reflect.has(t,"strapline")&&(this.strapline=new mr(t.strapline)),Reflect.has(t,"thumbnail")&&(this.thumbnail=Os.parseItem(t.thumbnail,Ow)),Reflect.has(t,"moreContentButton")&&(this.more_content=Os.parseItem(t.moreContentButton,Yo)),Reflect.has(t,"endIcons")&&(this.end_icons=Os.parseArray(t.endIcons,mb))}};n(Hw,"MusicCarouselShelfBasicHeader"),o(Hw,"type","MusicCarouselShelfBasicHeader");var Ww=Hw,jw=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"overlay"),o(this,"on_tap"),o(this,"menu"),o(this,"subtitle"),o(this,"title"),o(this,"second_title"),o(this,"description"),o(this,"display_style"),this.thumbnail=Os.parseItem(t.thumbnail,Ow),this.overlay=Os.parseItem(t.overlay,Bw),this.on_tap=new nr(t.onTap),this.menu=Os.parseItem(t.menu,Sl),this.subtitle=new mr(t.subtitle),this.title=new mr(t.title),Reflect.has(t,"secondTitle")&&(this.second_title=new mr(t.secondTitle)),Reflect.has(t,"description")&&(this.description=new mr(t.description)),Reflect.has(t,"displayStyle")&&(this.display_style=t.displayStyle)}};n(jw,"MusicMultiRowListItem"),o(jw,"type","MusicMultiRowListItem");var Gw=jw,$w=class extends ys{constructor(t){super(),o(this,"button_text"),o(this,"endpoint"),this.button_text=new mr(t.buttonText).toString(),this.endpoint=new nr(t.clickCommand)}};n($w,"MusicNavigationButton"),o($w,"type","MusicNavigationButton");var qw=$w,Kw=class extends ys{constructor(t){super(),o(this,"title"),o(this,"display_priority"),this.title=new mr(t.text),this.display_priority=t.displayPriority}};n(Kw,"MusicResponsiveListItemFixedColumn"),o(Kw,"type","musicResponsiveListItemFlexColumnRenderer");var Yw=Kw,zw=class extends ys{constructor(t){super(),o(this,"title"),o(this,"display_priority"),this.title=new mr(t.text),this.display_priority=t.displayPriority}};n(zw,"MusicResponsiveListItemFlexColumn"),o(zw,"type","MusicResponsiveListItemFlexColumn");var Qw,Xw,Jw,Zw,tx,ex,ix,sx,nx,ax,ox,rx=zw,cx=class extends ys{constructor(t){super(),l(this,Qw),o(this,"flex_columns"),o(this,"fixed_columns"),o(this,"endpoint"),o(this,"item_type"),o(this,"index"),o(this,"thumbnail"),o(this,"badges"),o(this,"menu"),o(this,"overlay"),o(this,"id"),o(this,"title"),o(this,"duration"),o(this,"album"),o(this,"artists"),o(this,"views"),o(this,"authors"),o(this,"name"),o(this,"subtitle"),o(this,"subscribers"),o(this,"song_count"),o(this,"author"),o(this,"item_count"),o(this,"year"),this.flex_columns=Os.parseArray(t.flexColumns,rx),this.fixed_columns=Os.parseArray(t.fixedColumns,Yw);let e={video_id:t?.playlistItemData?.videoId||null,playlist_set_video_id:t?.playlistItemData?.playlistSetVideoId||null};Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new nr(t.navigationEndpoint));let i=this.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType;switch(i||this.flex_columns.find(t=>"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"===t.title.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType)&&(i="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),i){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,Qw,ax).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,Qw,ox).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,Qw,ex).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,Qw,ix).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,Qw,sx).call(this,e);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",d(this,Qw,nx).call(this);break;default:this.flex_columns[1]?d(this,Qw,Jw).call(this,e):d(this,Qw,Xw).call(this)}Reflect.has(t,"index")&&(this.index=new mr(t.index)),Reflect.has(t,"thumbnail")&&(this.thumbnail=Os.parseItem(t.thumbnail,Ow)),Reflect.has(t,"badges")&&(this.badges=Os.parseArray(t.badges)),Reflect.has(t,"menu")&&(this.menu=Os.parseItem(t.menu,Sl)),Reflect.has(t,"overlay")&&(this.overlay=Os.parseItem(t.overlay,Bw))}get thumbnails(){return this.thumbnail?.contents||[]}};Qw=new WeakSet,Xw=n(function(){this.title=this.flex_columns[0].title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"#parseOther"),Jw=n(function(t){switch(this.flex_columns.at(0)?.title.runs?.at(0)?.endpoint?.payload?.watchEndpointMusicSupportedConfigs?.watchEndpointMusicConfig?.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",d(this,Qw,tx).call(this,t);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",d(this,Qw,Zw).call(this,t);break;default:d(this,Qw,Xw).call(this)}},"#parseVideoOrSong"),Zw=n(function(t){this.id=t.video_id||this.endpoint?.payload?.videoId,this.title=this.flex_columns[0].title.toString();let e=this.flex_columns.at(1)?.title.runs?.find(t=>/^\d+$/.test(t.text.replace(/:/g,"")))?.text||this.fixed_columns[0]?.title?.toString();e&&(this.duration={text:e,seconds:fL(e)});let i=this.flex_columns.at(1)?.title.runs?.find(t=>SL(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("MPR"))||this.flex_columns.at(2)?.title.runs?.find(t=>SL(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("MPR"));i&&SL(i)&&(this.album={id:i.endpoint?.payload?.browseId,name:i.text,endpoint:i.endpoint});let s=this.flex_columns.at(1)?.title.runs?.filter(t=>SL(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC"));s&&(this.artists=s.map(t=>({name:t.text,channel_id:SL(t)?t.endpoint?.payload?.browseId:void 0,endpoint:SL(t)?t.endpoint:void 0})))},"#parseSong"),tx=n(function(t){this.id=t.video_id,this.title=this.flex_columns[0].title.toString(),this.views=this.flex_columns.at(1)?.title.runs?.find(t=>t.text.match(/(.*?) views/))?.toString();let e=this.flex_columns.at(1)?.title.runs?.filter(t=>SL(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC"));e&&(this.authors=e.map(t=>({name:t.text,channel_id:SL(t)?t.endpoint?.payload?.browseId:void 0,endpoint:SL(t)?t.endpoint:void 0})));let i=this.flex_columns[1].title.runs?.find(t=>/^\d+$/.test(t.text.replace(/:/g,"")))?.text||this.fixed_columns[0]?.title.runs?.find(t=>/^\d+$/.test(t.text.replace(/:/g,"")))?.text;i&&(this.duration={text:i,seconds:fL(i)})},"#parseVideo"),ex=n(function(){this.id=this.endpoint?.payload?.browseId,this.name=this.flex_columns[0].title.toString(),this.subtitle=this.flex_columns.at(1)?.title,this.subscribers=this.subtitle?.runs?.find(t=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(t.text))?.text||""},"#parseArtist"),ix=n(function(){this.name=this.flex_columns[0].title.toString(),this.subtitle=this.flex_columns.at(1)?.title,this.song_count=this.subtitle?.runs?.find(t=>/^\d+(,\d+)? songs?$/i.test(t.text))?.text||""},"#parseLibraryArtist"),sx=n(function(t){this.id=t.video_id||this.endpoint?.payload?.videoId,this.title=this.flex_columns[0].title.toString()},"#parseNonMusicTrack"),nx=n(function(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString()},"#parsePodcastShow"),ax=n(function(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString();let t=this.flex_columns.at(1)?.title.runs?.find(t=>SL(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC"));t&&SL(t)&&(this.author={name:t.text,channel_id:t.endpoint?.payload?.browseId,endpoint:t.endpoint}),this.year=this.flex_columns.at(1)?.title.runs?.find(t=>/^[12][0-9]{3}$/.test(t.text))?.text},"#parseAlbum"),ox=n(function(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString();let t=this.flex_columns.at(1)?.title.runs?.find(t=>t.text.match(/\d+ (song|songs)/));this.item_count=t?t.text:void 0;let e=this.flex_columns.at(1)?.title.runs?.find(t=>SL(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC"));e&&SL(e)&&(this.author={name:e.text,channel_id:e.endpoint?.payload?.browseId,endpoint:e.endpoint})},"#parsePlaylist"),n(cx,"MusicResponsiveListItem"),o(cx,"type","MusicResponsiveListItem");var lx=cx,hx=class extends ys{constructor(t){switch(super(),o(this,"title"),o(this,"endpoint"),o(this,"id"),o(this,"subtitle"),o(this,"badges"),o(this,"item_type"),o(this,"subscribers"),o(this,"item_count"),o(this,"year"),o(this,"views"),o(this,"artists"),o(this,"author"),o(this,"thumbnail"),o(this,"thumbnail_overlay"),o(this,"menu"),this.title=new mr(t.title),this.endpoint=new nr(t.navigationEndpoint),this.id=this.endpoint?.payload?.browseId||this.endpoint?.payload?.videoId,this.subtitle=new mr(t.subtitle),this.badges=Os.parse(t.subtitleBadges),this.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:"/next"===this.endpoint?.metadata?.api_url?this.item_type="endpoint":this.subtitle.runs?.[0]?"Song"!==this.subtitle.runs[0].text?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown"}if("artist"==this.item_type)this.subscribers=this.subtitle.runs?.find(t=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(t.text))?.text||"";else if("playlist"==this.item_type){let t=this.subtitle.runs?.find(t=>t.text.match(/\d+ songs|song/));this.item_count=t?t.text:null}else if("album"==this.item_type){let t=this.subtitle.runs?.filter(t=>t.endpoint?.payload?.browseId.startsWith("UC"));t&&(this.artists=t.map(t=>({name:t.text,channel_id:t.endpoint?.payload?.browseId,endpoint:t.endpoint}))),this.year=this.subtitle.runs?.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if("video"==this.item_type){this.views=this?.subtitle.runs?.find(t=>t?.text.match(/(.*?) views/))?.text||"N/A";let t=this.subtitle.runs?.find(t=>t.endpoint?.payload?.browseId?.startsWith("UC"));t&&(this.author={name:t?.text,channel_id:t?.endpoint?.payload?.browseId,endpoint:t?.endpoint})}else if("song"==this.item_type){let t=this.subtitle.runs?.filter(t=>t.endpoint?.payload?.browseId.startsWith("UC"));t&&(this.artists=t.map(t=>({name:t?.text,channel_id:t?.endpoint?.payload?.browseId,endpoint:t?.endpoint})))}this.thumbnail=or.fromResponse(t.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=Os.parseItem(t.thumbnailOverlay,Bw),this.menu=Os.parseItem(t.menu,Sl)}};n(hx,"MusicTwoRowItem"),o(hx,"type","MusicTwoRowItem");var dx=hx,ux=class extends ys{constructor(t){super(),o(this,"header"),o(this,"contents"),o(this,"num_items_per_column"),this.header=Os.parseItem(t.header,Ww),this.contents=Os.parseArray(t.contents,[dx,lx,Gw,qw]),Reflect.has(t,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(t.numItemsPerColumn))}};n(ux,"MusicCarouselShelf"),o(ux,"type","MusicCarouselShelf");var px=ux,mx=class extends ys{constructor(t){super(),o(this,"description"),o(this,"max_collapsed_lines"),o(this,"max_expanded_lines"),o(this,"footer"),this.description=new mr(t.description),Reflect.has(t,"maxCollapsedLines")&&(this.max_collapsed_lines=t.maxCollapsedLines),Reflect.has(t,"maxExpandedLines")&&(this.max_expanded_lines=t.maxExpandedLines),this.footer=new mr(t.footer)}};n(mx,"MusicDescriptionShelf"),o(mx,"type","MusicDescriptionShelf");var _x=mx,fx=class extends ys{constructor(t){super(),o(this,"title"),o(this,"description"),o(this,"subtitle"),o(this,"second_subtitle"),o(this,"year"),o(this,"song_count"),o(this,"total_duration"),o(this,"thumbnails"),o(this,"badges"),o(this,"author"),o(this,"menu"),this.title=new mr(t.title),this.description=new mr(t.description),this.subtitle=new mr(t.subtitle),this.second_subtitle=new mr(t.secondSubtitle),this.year=this.subtitle.runs?.find(t=>/^[12][0-9]{3}$/.test(t.text))?.text||"",this.song_count=this.second_subtitle.runs?.[0]?.text||"",this.total_duration=this.second_subtitle.runs?.[2]?.text||"",this.thumbnails=or.fromResponse(t.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=Os.parseArray(t.subtitleBadges);let e=this.subtitle.runs?.find(t=>t?.endpoint?.payload?.browseId.startsWith("UC"));e&&(this.author={name:e.text,channel_id:e.endpoint?.payload?.browseId,endpoint:e.endpoint}),this.menu=Os.parseItem(t.menu)}};n(fx,"MusicDetailHeader"),o(fx,"type","MusicDetailHeader");var yx=fx,bx=class extends ys{constructor(t){super(),o(this,"playlist_id"),o(this,"supported_download_states"),this.playlist_id=t.playlistId,this.supported_download_states=t.supportedDownloadStates}};n(bx,"MusicDownloadStateBadge"),o(bx,"type","MusicDownloadStateBadge");var gx=bx,vx=class extends ys{constructor(t){super(),o(this,"header"),o(this,"edit_header"),o(this,"playlist_id"),this.header=Os.parseItem(t.header),this.edit_header=Os.parseItem(t.editHeader),this.playlist_id=t.playlistId}};n(vx,"MusicEditablePlaylistDetailHeader"),o(vx,"type","MusicEditablePlaylistDetailHeader");var wx=vx,xx=class extends ys{constructor(t){super(),o(this,"element"),this.element=Reflect.has(t,"elementRenderer")?Os.parseItem(t,x_):null}};n(xx,"MusicElementHeader"),o(xx,"type","MusicElementHeader");var kx=xx,Sx=class extends ys{constructor(t){super(),o(this,"header"),o(this,"title"),Reflect.has(t,"header")&&(this.header=Os.parseItem(t.header)),Reflect.has(t,"title")&&(this.title=new mr(t.title))}};n(Sx,"MusicHeader"),o(Sx,"type","MusicHeader");var Cx=Sx,Tx=class extends ys{constructor(t){super(),o(this,"title"),o(this,"menu"),o(this,"more_button"),o(this,"play_button"),o(this,"share_endpoint"),o(this,"start_radio_button"),o(this,"subscription_button"),o(this,"description"),o(this,"thumbnail"),this.title=new mr(t.title),this.menu=Os.parseItem(t.menu,Sl),this.more_button=Os.parseItem(t.moreButton,Jc),this.play_button=Os.parseItem(t.playButton,Yo),"shareEndpoint"in t&&(this.share_endpoint=new nr(t.shareEndpoint)),this.start_radio_button=Os.parseItem(t.startRadioButton,Yo),this.subscription_button=Os.parseItem(t.subscriptionButton,Md),this.description=new mr(t.description),this.thumbnail=Os.parseItem(t.thumbnail,Ow)}};n(Tx,"MusicImmersiveHeader"),o(Tx,"type","MusicImmersiveHeader");var Ix=Tx,Ex=class{constructor(t){o(this,"icon_name"),o(this,"endpoint"),o(this,"a11y_text"),o(this,"style"),this.icon_name=t.iconName,this.endpoint=new nr(t.onTap),this.a11y_text=t.a11yText,this.style=t.style}};n(Ex,"ActionButton"),o(Ex,"type","ActionButton");var Px=Ex,Rx=class{constructor(t){o(this,"image"),o(this,"content_mode"),o(this,"crop_options"),o(this,"image_aspect_ratio"),o(this,"caption"),o(this,"action_buttons"),this.image=or.fromResponse(t.image.image),this.content_mode=t.image.contentMode,this.crop_options=t.image.cropOptions,this.image_aspect_ratio=t.imageAspectRatio,this.caption=t.caption,this.action_buttons=t.actionButtons.map(t=>new Px(t))}};n(Rx,"Panel"),o(Rx,"type","Panel");var Ax=Rx,Mx=class extends ys{constructor(t){super(),o(this,"panels"),o(this,"header"),this.header=t.shelf.header,this.panels=t.shelf.panels.map(t=>new Ax(t))}};n(Mx,"MusicLargeCardItemCarousel"),o(Mx,"type","MusicLargeCardItemCarousel");var Lx=Mx,Dx=class extends ys{constructor(t){super(),o(this,"title"),o(this,"edit_title"),o(this,"edit_description"),o(this,"privacy"),o(this,"playlist_id"),o(this,"endpoint"),o(this,"privacy_dropdown"),this.title=new mr(t.title),this.edit_title=new mr(t.editTitle),this.edit_description=new mr(t.editDescription),this.privacy=t.privacy,this.playlist_id=t.playlistId,this.endpoint=new nr(t.collaborationSettingsCommand),this.privacy_dropdown=Os.parseItem(t.privacyDropdown,Jo)}};n(Dx,"MusicPlaylistEditHeader"),o(Dx,"type","MusicPlaylistEditHeader");var Nx=Dx,Bx=class extends ys{constructor(t){super(),o(this,"playlist_id"),o(this,"contents"),o(this,"collapsed_item_count"),o(this,"continuation"),this.playlist_id=t.playlistId,this.contents=Os.parseArray(t.contents,[lx,ch]),this.collapsed_item_count=t.collapsedItemCount,this.continuation=t.continuations?.[0]?.nextContinuationData?.continuation||null}};n(Bx,"MusicPlaylistShelf"),o(Bx,"type","MusicPlaylistShelf");var Vx=Bx,Ox=class extends ys{constructor(t){super(),o(this,"title"),o(this,"thumbnail"),o(this,"endpoint"),o(this,"selected"),o(this,"video_id"),o(this,"duration"),o(this,"author"),o(this,"album"),o(this,"artists"),o(this,"badges"),o(this,"menu"),o(this,"set_video_id"),this.title=new mr(t.title),this.thumbnail=or.fromResponse(t.thumbnail),this.endpoint=new nr(t.navigationEndpoint),this.selected=t.selected,this.video_id=t.videoId,this.duration={text:new mr(t.lengthText).toString(),seconds:fL(new mr(t.lengthText).toString())};let e=new mr(t.longBylineText).runs?.find(t=>t.endpoint?.payload?.browseId?.startsWith("MPR")),i=new mr(t.longBylineText).runs?.filter(t=>t.endpoint?.payload?.browseId?.startsWith("UC"));this.author=new mr(t.shortBylineText).toString(),e&&(this.album={id:e.endpoint?.payload?.browseId,name:e.text,year:new mr(t.longBylineText).runs?.slice(-1)[0].text,endpoint:e.endpoint}),i&&(this.artists=i.map(t=>({name:t.text,channel_id:t.endpoint?.payload?.browseId,endpoint:t.endpoint}))),this.badges=Os.parseArray(t.badges),this.menu=Os.parseItem(t.menu),this.set_video_id=t.playlistSetVideoId}};n(Ox,"PlaylistPanelVideo"),o(Ox,"type","PlaylistPanelVideo");var Ux=Ox,Fx=class extends ys{constructor(t){super(),o(this,"primary"),o(this,"counterpart"),this.primary=Os.parseItem(t.primaryRenderer,Ux),Reflect.has(t,"counterpart")&&(this.counterpart=ks(t.counterpart.map(t=>Os.parseItem(t.counterpartRenderer,Ux))||[]))}};n(Fx,"PlaylistPanelVideoWrapper"),o(Fx,"type","PlaylistPanelVideoWrapper");var Hx=Fx,Wx=class extends ys{constructor(t){super(),o(this,"title"),o(this,"title_text"),o(this,"contents"),o(this,"playlist_id"),o(this,"is_infinite"),o(this,"continuation"),o(this,"is_editable"),o(this,"preview_description"),o(this,"num_items_to_show"),this.title=t.title,this.title_text=new mr(t.titleText),this.contents=Os.parseArray(t.contents,[Hx,Ux,Bc]),this.playlist_id=t.playlistId,this.is_infinite=t.isInfinite,this.continuation=t.continuations?.[0]?.nextRadioContinuationData?.continuation||t.continuations?.[0]?.nextContinuationData?.continuation,this.is_editable=t.isEditable,this.preview_description=t.previewDescription,this.num_items_to_show=t.numItemsToShow}};n(Wx,"PlaylistPanel"),o(Wx,"type","PlaylistPanel");var jx=Wx,Gx=class extends ys{constructor(t){super(),o(this,"content"),this.content=Os.parseItem(t.content,jx)}};n(Gx,"MusicQueue"),o(Gx,"type","MusicQueue");var $x=Gx,qx=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"buttons"),o(this,"title"),o(this,"subtitle"),o(this,"strapline_text_one"),o(this,"strapline_thumbnail"),o(this,"second_subtitle"),o(this,"subtitle_badge"),o(this,"description"),this.thumbnail=Os.parseItem(t.thumbnail,Ow),this.buttons=Os.parseArray(t.buttons,[ml,Jc,Dw,Yo,Sl]),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle),this.strapline_text_one=new mr(t.straplineTextOne),this.strapline_thumbnail=Os.parseItem(t.straplineThumbnail,Ow),this.second_subtitle=new mr(t.secondSubtitle),Reflect.has(t,"subtitleBadge")&&(this.subtitle_badge=Os.parseArray(t.subtitleBadge,Mw)),Reflect.has(t,"description")&&(this.description=Os.parseItem(t.description,_x))}};n(qx,"MusicResponsiveHeader"),o(qx,"type","MusicResponsiveHeader");var Kx=qx,Yx=class extends ys{constructor(t){super(),o(this,"title"),o(this,"contents"),o(this,"endpoint"),o(this,"continuation"),o(this,"bottom_text"),o(this,"bottom_button"),o(this,"subheaders"),this.title=new mr(t.title),this.contents=Os.parseArray(t.contents,lx),Reflect.has(t,"bottomEndpoint")&&(this.endpoint=new nr(t.bottomEndpoint)),Reflect.has(t,"continuations")&&(this.continuation=t.continuations?.[0].nextContinuationData?.continuation||t.continuations?.[0].reloadContinuationData?.continuation),Reflect.has(t,"bottomText")&&(this.bottom_text=new mr(t.bottomText)),Reflect.has(t,"bottomButton")&&(this.bottom_button=Os.parseItem(t.bottomButton,Yo)),Reflect.has(t,"subheaders")&&(this.subheaders=Os.parseArray(t.subheaders))}};n(Yx,"MusicShelf"),o(Yx,"type","MusicShelf");var zx=Yx,Qx=class extends ys{constructor(t){super(),o(this,"start_items"),o(this,"end_items"),Reflect.has(t,"startItems")&&(this.start_items=Os.parseArray(t.startItems)),Reflect.has(t,"endItems")&&(this.end_items=Os.parseArray(t.endItems))}};n(Qx,"MusicSideAlignedItem"),o(Qx,"type","MusicSideAlignedItem");var Xx=Qx,Jx=class extends ys{constructor(t){super(),o(this,"title"),o(this,"icon_type"),o(this,"menu"),this.title=new mr(t.title).toString(),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.menu=Os.parseItem(t.menu,nw)}};n(Jx,"MusicSortFilterButton"),o(Jx,"type","MusicSortFilterButton");var Zx=Jx,tk=class extends ys{constructor(t){super(),o(this,"thumbnail"),this.thumbnail=or.fromResponse(t.thumbnail)}};n(tk,"MusicTastebuilderShelfThumbnail"),o(tk,"type","MusicTastebuilderShelfThumbnail");var ek=tk,ik=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"primary_text"),o(this,"secondary_text"),o(this,"action_button"),o(this,"is_visible"),this.thumbnail=Os.parseItem(t.thumbnail,ek),this.primary_text=new mr(t.primaryText),this.secondary_text=new mr(t.secondaryText),this.action_button=Os.parseItem(t.actionButton,Yo),this.is_visible=t.isVisible}};n(ik,"MusicTasteBuilderShelf"),o(ik,"type","MusicTasteBuilderShelf");var sk=ik,nk=class extends ys{constructor(t){super(),o(this,"title"),o(this,"thumbnail"),o(this,"menu"),o(this,"foreground_thumbnail"),this.title=new mr(t.title),this.thumbnail=t.thumbnail?or.fromResponse(t.thumbnail.musicThumbnailRenderer?.thumbnail):[],this.menu=Os.parseItem(t.menu,Sl),this.foreground_thumbnail=t.foregroundThumbnail?or.fromResponse(t.foregroundThumbnail.musicThumbnailRenderer?.thumbnail):[]}};n(nk,"MusicVisualHeader"),o(nk,"type","MusicVisualHeader");var ak=nk,ok=class extends ys{constructor(t){super(),o(this,"placeholder_text"),o(this,"buttons"),o(this,"logo_type"),this.placeholder_text=new mr(t.placeholderText),this.buttons=Os.parseArray(t.buttons),Reflect.has(t,"logo")&&Reflect.has(t.logo,"iconType")&&(this.logo_type=t.logo.iconType)}};n(ok,"MobileTopbar"),o(ok,"type","MobileTopbar");var rk=ok,ck=class extends ys{constructor(t){super(),o(this,"items"),this.items=Os.parseArray(t.items)}};n(ck,"MultiPageMenuSection"),o(ck,"type","MultiPageMenuSection");var lk=ck,hk=class extends ys{constructor(t){super(),o(this,"items"),this.items=Os.parseArray(t.items)}};n(hk,"PivotBar"),o(hk,"type","PivotBar");var dk=hk,uk=class extends ys{constructor(t){super(),o(this,"pivot_identifier"),o(this,"endpoint"),o(this,"title"),o(this,"accessibility_label"),o(this,"icon_type"),o(this,"accessibility"),this.pivot_identifier=t.pivotIdentifier,this.endpoint=new nr(t.navigationEndpoint),this.title=new Text(t.title),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new Ps(t.accessibility.accessibilityData)}),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}get label(){return this.accessibility?.accessibility_data?.label}};n(uk,"PivotBarItem"),o(uk,"type","PivotBarItem");var pk=uk,mk=class extends ys{constructor(t){super(),o(this,"icon_type"),o(this,"menu_renderer"),o(this,"target_id"),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.menu_renderer=Os.parseItem(t.menuRenderer),this.target_id=t.targetId}};n(mk,"TopbarMenuButton"),o(mk,"type","TopbarMenuButton");var _k=mk,fk=class extends ys{constructor(t){super(),o(this,"response_text"),this.response_text=new mr(t.responseText)}};n(fk,"NotificationAction"),o(fk,"type","NotificationAction");var yk=fk,bk=class extends ys{constructor(t){super(),o(this,"list_id"),o(this,"modal_title"),o(this,"select_button_label"),this.list_id=t.listId,this.modal_title=t.modalTitle,this.select_button_label=t.selectButtonLabel}};n(bk,"OpenOnePickAddVideoModalCommand"),o(bk,"type","OpenOnePickAddVideoModalCommand");var gk=bk,vk=class extends ys{constructor(t){super(),o(this,"title"),o(this,"image"),o(this,"animated_image"),o(this,"hero_image"),o(this,"metadata"),o(this,"actions"),o(this,"description"),o(this,"attributation"),o(this,"banner"),this.title=Os.parseItem(t.title,b_),this.image=Os.parseItem(t.image,[Fh,Mm]),this.animated_image=Os.parseItem(t.animatedImage,Fh),this.hero_image=Os.parseItem(t.heroImage,Fh),this.metadata=Os.parseItem(t.metadata,bm),this.actions=Os.parseItem(t.actions,xl),this.description=Os.parseItem(t.description,Ym),this.attributation=Os.parseItem(t.attributation,Mc),this.banner=Os.parseItem(t.banner,fb)}};n(vk,"PageHeaderView"),o(vk,"type","PageHeaderView");var wk=vk,xk=class extends ys{constructor(t){super(),o(this,"page_title"),o(this,"content"),this.page_title=t.pageTitle,this.content=Os.parseItem(t.content,wk)}};n(xk,"PageHeader"),o(xk,"type","PageHeader");var kk=xk,Sk=class extends ys{constructor(t){super(),o(this,"header_text"),o(this,"body_text"),o(this,"page_title"),o(this,"header_icon_type"),this.header_text=new mr(t.headerText).toString(),this.body_text=new mr(t.bodyText).toString(),this.page_title=new mr(t.pageTitle).toString(),this.header_icon_type=t.headerIcon.iconType}};n(Sk,"PageIntroduction"),o(Sk,"type","PageIntroduction");var Ck=Sk,Tk=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"endpoint"),o(this,"content_description"),o(this,"target_id"),o(this,"sound_attribution_title"),o(this,"waveform_animation_style"),o(this,"background_animation_style"),this.thumbnail=or.fromResponse(t.thumbnail),this.endpoint=new nr(t.onClickCommand),this.content_description=new mr(t.contentDescription),this.target_id=t.targetId,this.sound_attribution_title=new mr(t.soundAttributionTitle),this.waveform_animation_style=t.waveformAnimationStyle,this.background_animation_style=t.backgroundAnimationStyle}};n(Tk,"PivotButton"),o(Tk,"type","PivotButton");var Ik=Tk,Ek=class extends ys{constructor(t){super(),o(this,"featured_channel"),o(this,"allow_swipe_dismiss"),o(this,"annotation_id"),Reflect.has(t,"featuredChannel")&&(this.featured_channel={start_time_ms:t.featuredChannel.startTimeMs,end_time_ms:t.featuredChannel.endTimeMs,watermark:or.fromResponse(t.featuredChannel.watermark),channel_name:t.featuredChannel.channelName,endpoint:new nr(t.featuredChannel.navigationEndpoint),subscribe_button:Os.parseItem(t.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=t.allowSwipeDismiss,this.annotation_id=t.annotationId}};n(Ek,"PlayerAnnotationsExpanded"),o(Ek,"type","PlayerAnnotationsExpanded");var Pk=Ek,Rk=class extends ys{constructor(t){super(),o(this,"caption_tracks"),o(this,"audio_tracks"),o(this,"default_audio_track_index"),o(this,"translation_languages"),Reflect.has(t,"captionTracks")&&(this.caption_tracks=t.captionTracks.map(t=>({base_url:t.baseUrl,name:new mr(t.name),vss_id:t.vssId,language_code:t.languageCode,kind:t.kind,is_translatable:t.isTranslatable}))),Reflect.has(t,"audioTracks")&&(this.audio_tracks=t.audioTracks.map(t=>({audio_track_id:t.audioTrackId,captions_initial_state:t.captionsInitialState,default_caption_track_index:t.defaultCaptionTrackIndex,has_default_track:t.hasDefaultTrack,visibility:t.visibility,caption_track_indices:t.captionTrackIndices}))),Reflect.has(t,"defaultAudioTrackIndex")&&(this.default_audio_track_index=t.defaultAudioTrackIndex),Reflect.has(t,"translationLanguages")&&(this.translation_languages=t.translationLanguages.map(t=>({language_code:t.languageCode,language_name:new mr(t.languageName)})))}};n(Rk,"PlayerCaptionsTracklist"),o(Rk,"type","PlayerCaptionsTracklist");var Ak=Rk,Mk=class extends ys{constructor(t){super(),o(this,"endpoint"),o(this,"enable_listen_first"),this.endpoint=new nr(t.endpoint),this.enable_listen_first=t.enableListenFirst}};n(Mk,"PlayerOverflow"),o(Mk,"type","PlayerOverflow");var Lk=Mk,Dk=class extends ys{constructor(t){super(),o(this,"overflow"),this.overflow=Os.parseItem(t.overflow,Lk)}};n(Dk,"PlayerControlsOverlay"),o(Dk,"type","PlayerControlsOverlay");var Nk=Dk,Bk=class extends ys{constructor(t){super(),o(this,"subreason"),o(this,"reason"),o(this,"proceed_button"),o(this,"thumbnails"),o(this,"icon_type"),this.subreason=new mr(t.subreason),this.reason=new mr(t.reason),this.proceed_button=Os.parseItem(t.proceedButton,Yo),this.thumbnails=or.fromResponse(t.thumbnail),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}};n(Bk,"PlayerErrorMessage"),o(Bk,"type","PlayerErrorMessage");var Vk=Bk,Ok=class extends ys{constructor(t){super(),o(this,"title"),o(this,"thumbnail"),o(this,"offer_description"),o(this,"offer_id"),this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_description=t.offerDescription,this.offer_id=t.offerId}};n(Ok,"PlayerLegacyDesktopYpcOffer"),o(Ok,"type","PlayerLegacyDesktopYpcOffer");var Uk=Ok,Fk=class extends ys{constructor(t){super(),o(this,"video_message"),o(this,"player_response"),this.video_message=t.fullVideoMessage,this.player_response=t.unserializedPlayerResponse}};n(Fk,"YpcTrailer"),o(Fk,"type","YpcTrailer");var Hk=Fk,Wk=class extends ys{constructor(t){super(),o(this,"video_id"),o(this,"title"),o(this,"thumbnail"),o(this,"offer_headline"),o(this,"offer_description"),o(this,"offer_id"),o(this,"offer_button_text"),o(this,"video_message"),o(this,"trailer"),this.video_id=t.trailerVideoId,this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_headline=t.offerHeadline,this.offer_description=t.offerDescription,this.offer_id=t.offerId,this.offer_button_text=t.offerButtonText,this.video_message=t.fullVideoMessage,this.trailer=Os.parseItem(t.ypcTrailer,Hk)}};n(Wk,"PlayerLegacyDesktopYpcTrailer"),o(Wk,"type","PlayerLegacyDesktopYpcTrailer");var jk=Wk,Gk=class extends ys{constructor(t){super(),o(this,"board");let[e,i,s,n,a]=t.spec.split("#");this.board={type:"live",template_url:e,thumbnail_width:parseInt(i,10),thumbnail_height:parseInt(s,10),columns:parseInt(n,10),rows:parseInt(a,10)}}};n(Gk,"PlayerLiveStoryboardSpec"),o(Gk,"type","PlayerLiveStoryboardSpec");var $k=Gk,qk=class extends ys{constructor(t){super(),o(this,"title"),o(this,"description"),o(this,"thumbnails"),o(this,"embed"),o(this,"length_seconds"),o(this,"channel"),o(this,"is_family_safe"),o(this,"is_unlisted"),o(this,"has_ypc_metadata"),o(this,"view_count"),o(this,"category"),o(this,"publish_date"),o(this,"upload_date"),o(this,"available_countries"),o(this,"start_timestamp"),o(this,"end_timestamp"),this.title=new mr(t.title),this.description=new mr(t.description),this.thumbnails=or.fromResponse(t.thumbnail),Reflect.has(t,"embed")&&(this.embed={iframe_url:t.embed.iframeUrl,flash_url:t.embed.flashUrl,flash_secure_url:t.embed.flashSecureUrl,width:t.embed.width,height:t.embed.height}),this.length_seconds=parseInt(t.lengthSeconds),this.channel={id:t.externalChannelId,name:t.ownerChannelName,url:t.ownerProfileUrl},this.is_family_safe=!!t.isFamilySafe,this.is_unlisted=!!t.isUnlisted,this.has_ypc_metadata=!!t.hasYpcMetadata,this.view_count=parseInt(t.viewCount),this.category=t.category,this.publish_date=t.publishDate,this.upload_date=t.uploadDate,this.available_countries=t.availableCountries,this.start_timestamp=t.liveBroadcastDetails?.startTimestamp?new Date(t.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=t.liveBroadcastDetails?.endTimestamp?new Date(t.liveBroadcastDetails.endTimestamp):null}};n(qk,"PlayerMicroformat"),o(qk,"type","PlayerMicroformat");var Kk=qk,Yk=class extends ys{constructor(t){super(),o(this,"title"),o(this,"video_id"),o(this,"video_title"),o(this,"short_view_count"),o(this,"prefer_immediate_redirect"),o(this,"count_down_secs_for_fullscreen"),o(this,"published"),o(this,"background"),o(this,"thumbnail_overlays"),o(this,"author"),o(this,"cancel_button"),o(this,"next_button"),o(this,"close_button"),this.title=new mr(t.title),this.video_id=t.videoId,this.video_title=new mr(t.videoTitle),this.short_view_count=new mr(t.shortViewCountText),this.prefer_immediate_redirect=t.preferImmediateRedirect,this.count_down_secs_for_fullscreen=t.countDownSecsForFullscreen,this.published=new mr(t.publishedTimeText),this.background=or.fromResponse(t.background),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays),this.author=new qM(t.byline),this.cancel_button=Os.parseItem(t.cancelButton,Yo),this.next_button=Os.parseItem(t.nextButton,Yo),this.close_button=Os.parseItem(t.closeButton,Yo)}};n(Yk,"PlayerOverlayAutoplay"),o(Yk,"type","PlayerOverlayAutoplay");var zk=Yk,Qk=class extends ys{constructor(t){super(),o(this,"title"),o(this,"subtitle"),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle)}};n(Qk,"PlayerOverlayVideoDetails"),o(Qk,"type","PlayerOverlayVideoDetails");var Xk=Qk,Jk=class extends ys{constructor(t){super(),o(this,"results"),o(this,"title"),this.results=Os.parseArray(t.results,[iy,ty]),this.title=new mr(t.title).toString()}};n(Jk,"WatchNextEndScreen"),o(Jk,"type","WatchNextEndScreen");var Zk=Jk,tS=class extends ys{constructor(t){super(),o(this,"end_screen"),o(this,"autoplay"),o(this,"share_button"),o(this,"add_to_menu"),o(this,"fullscreen_engagement"),o(this,"actions"),o(this,"browser_media_session"),o(this,"decorated_player_bar"),o(this,"video_details"),this.end_screen=Os.parseItem(t.endScreen,Zk),this.autoplay=Os.parseItem(t.autoplay,zk),this.share_button=Os.parseItem(t.shareButton,Yo),this.add_to_menu=Os.parseItem(t.addToMenu,Sl),this.fullscreen_engagement=Os.parseItem(t.fullscreenEngagement),this.actions=Os.parseArray(t.actions),this.browser_media_session=Os.parseItem(t.browserMediaSession),this.decorated_player_bar=Os.parseItem(t.decoratedPlayerBarRenderer,Gm),this.video_details=Os.parseItem(t.videoDetails,Xk)}};n(tS,"PlayerOverlay"),o(tS,"type","PlayerOverlay");var eS=tS,iS=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"subtitle"),o(this,"stats"),o(this,"brief_stats"),o(this,"author"),o(this,"description"),o(this,"num_videos"),o(this,"view_count"),o(this,"can_share"),o(this,"can_delete"),o(this,"is_editable"),o(this,"privacy"),o(this,"save_button"),o(this,"shuffle_play_button"),o(this,"menu"),o(this,"banner"),this.id=t.playlistId,this.title=new mr(t.title),this.subtitle=t.subtitle?new mr(t.subtitle):null,this.stats=t.stats.map(t=>new mr(t)),this.brief_stats=t.briefStats.map(t=>new mr(t)),this.author=t.ownerText||t.ownerEndpoint?new qM({...t.ownerText,navigationEndpoint:t.ownerEndpoint},t.ownerBadges,null):null,this.description=new mr(t.descriptionText),this.num_videos=new mr(t.numVideosText),this.view_count=new mr(t.viewCountText),this.can_share=t.shareData.canShare,this.can_delete=t.editableDetails.canDelete,this.is_editable=t.isEditable,this.privacy=t.privacy,this.save_button=Os.parseItem(t.saveButton),this.shuffle_play_button=Os.parseItem(t.shufflePlayButton),this.menu=Os.parseItem(t.moreActionsMenu),this.banner=Os.parseItem(t.playlistHeaderBanner)}};n(iS,"PlaylistHeader"),o(iS,"type","PlaylistHeader");var sS=iS,nS=class extends ys{constructor(t){super(),o(this,"title"),o(this,"thumbnails"),o(this,"video_count"),o(this,"channel_name"),o(this,"endpoint"),this.title=new mr(t.playlistTitle),this.thumbnails=or.fromResponse(t.thumbnail),this.video_count=new mr(t.playlistVideoCount),this.channel_name=new mr(t.channelName),this.endpoint=new nr(t.action)}};n(nS,"PlaylistInfoCardContent"),o(nS,"type","PlaylistInfoCardContent");var aS=nS,oS=class extends ys{constructor(t){super(),o(this,"title"),o(this,"description"),this.title=t.title,this.description=t.description||null}};n(oS,"PlaylistMetadata"),o(oS,"type","PlaylistMetadata");var rS=oS,cS=class extends ys{constructor(t){super(),o(this,"items"),this.items=Os.parseArray(t.items)}get contents(){return this.items}};n(cS,"PlaylistSidebar"),o(cS,"type","PlaylistSidebar");var lS=cS,hS=class extends ys{constructor(t){super(),o(this,"stats"),o(this,"thumbnail_renderer"),o(this,"title"),o(this,"menu"),o(this,"endpoint"),o(this,"description"),this.stats=t.stats.map(t=>new mr(t)),this.thumbnail_renderer=Os.parseItem(t.thumbnailRenderer),this.title=new mr(t.title),this.menu=Os.parseItem(t.menu),this.endpoint=new nr(t.navigationEndpoint),this.description=new mr(t.description)}};n(hS,"PlaylistSidebarPrimaryInfo"),o(hS,"type","PlaylistSidebarPrimaryInfo");var dS=hS,uS=class extends ys{constructor(t){super(),o(this,"owner"),o(this,"button"),this.owner=Os.parseItem(t.videoOwner),this.button=Os.parseItem(t.button)}};n(uS,"PlaylistSidebarSecondaryInfo"),o(uS,"type","PlaylistSidebarSecondaryInfo");var pS=uS,mS=class extends ys{constructor(t){super(),o(this,"icon_type"),o(this,"text"),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.text=new mr(t.text)}};n(mS,"PlaylistThumbnailOverlay"),o(mS,"type","PlaylistThumbnailOverlay");var _S=mS,fS=class extends ys{constructor(t){super(),o(this,"id"),o(this,"index"),o(this,"title"),o(this,"author"),o(this,"thumbnails"),o(this,"thumbnail_overlays"),o(this,"set_video_id"),o(this,"endpoint"),o(this,"is_playable"),o(this,"menu"),o(this,"upcoming"),o(this,"video_info"),o(this,"accessibility_label"),o(this,"style"),o(this,"duration"),this.id=t.videoId,this.index=new mr(t.index),this.title=new mr(t.title),this.author=new qM(t.shortBylineText),this.thumbnails=or.fromResponse(t.thumbnail),this.thumbnail_overlays=Os.parseArray(t.thumbnailOverlays),this.set_video_id=t?.setVideoId,this.endpoint=new nr(t.navigationEndpoint),this.is_playable=t.isPlayable,this.menu=Os.parseItem(t.menu,Sl),this.video_info=new mr(t.videoInfo),this.accessibility_label=t.title.accessibility.accessibilityData.label,Reflect.has(t,"style")&&(this.style=t.style);let e=t.upcomingEventData&&+`${t.upcomingEventData.startTime}000`;e&&(this.upcoming=new Date(e)),this.duration={text:new mr(t.lengthText).toString(),seconds:parseInt(t.lengthSeconds)}}get is_live(){return"LIVE"===this.thumbnail_overlays.firstOfType(Dh)?.style}get is_upcoming(){return"UPCOMING"===this.thumbnail_overlays.firstOfType(Dh)?.style}};n(fS,"PlaylistVideo"),o(fS,"type","PlaylistVideo");var yS=fS,bS=class extends ys{constructor(t){super(),o(this,"id"),o(this,"is_editable"),o(this,"can_reorder"),o(this,"videos"),this.id=t.playlistId,this.is_editable=t.isEditable,this.can_reorder=t.canReorder,this.videos=Os.parseArray(t.contents)}};n(bS,"PlaylistVideoList"),o(bS,"type","PlaylistVideoList");var gS=bS,vS=class extends ys{constructor(t){super(),o(this,"choices"),o(this,"poll_type"),o(this,"total_votes"),o(this,"live_chat_poll_id"),this.choices=t.choices.map(t=>({text:new mr(t.text),select_endpoint:t.selectServiceEndpoint?new nr(t.selectServiceEndpoint):null,deselect_endpoint:t.deselectServiceEndpoint?new nr(t.deselectServiceEndpoint):null,vote_ratio_if_selected:t?.voteRatioIfSelected||null,vote_percentage_if_selected:new mr(t.votePercentageIfSelected),vote_ratio_if_not_selected:t?.voteRatioIfSelected||null,vote_percentage_if_not_selected:new mr(t.votePercentageIfSelected),image:t.image?or.fromResponse(t.image):null})),Reflect.has(t,"type")&&(this.poll_type=t.type),Reflect.has(t,"totalVotes")&&(this.total_votes=new mr(t.totalVotes)),Reflect.has(t,"liveChatPollId")&&(this.live_chat_poll_id=t.liveChatPollId)}};n(vS,"Poll"),o(vS,"type","Poll");var wS=vS,xS=class extends Tl{constructor(t){super(t)}};n(xS,"Post"),o(xS,"type","Post");var kS=xS,SS=class extends ys{constructor(t){super(),o(this,"images"),this.images=Os.parseArray(t.images,Qc)}};n(SS,"PostMultiImage"),o(SS,"type","PostMultiImage");var CS=SS,TS=class extends ys{constructor(t){super(),o(this,"label"),this.label=new mr(t.label)}};n(TS,"PremiereTrailerBadge"),o(TS,"type","PremiereTrailerBadge");var IS=TS,ES=class extends ys{constructor(t){super(),o(this,"title"),o(this,"suppress_padding_disclaimer"),this.title=new mr(t.title),this.suppress_padding_disclaimer=!!t.suppressPaddingDisclaimer}};n(ES,"ProductListHeader"),o(ES,"type","ProductListHeader");var PS=ES,RS=class extends ys{constructor(t){super(),o(this,"title"),o(this,"accessibility_title"),o(this,"thumbnail"),o(this,"price"),o(this,"endpoint"),o(this,"merchant_name"),o(this,"stay_in_app"),o(this,"view_button"),this.title=new mr(t.title),this.accessibility_title=t.accessibilityTitle,this.thumbnail=or.fromResponse(t.thumbnail),this.price=t.price,this.endpoint=new nr(t.onClickCommand),this.merchant_name=t.merchantName,this.stay_in_app=!!t.stayInApp,this.view_button=Os.parseItem(t.viewButton,Yo)}};n(RS,"ProductListItem"),o(RS,"type","ProductListItem");var AS=RS,MS=class extends ys{constructor(t){super(),o(this,"items"),this.items=Os.parseArray(t.items)}get contents(){return this.items}};n(MS,"ProfileColumn"),o(MS,"type","ProfileColumn");var LS=MS,DS=class extends ys{constructor(t){super(),o(this,"items"),this.items=Os.parseArray(t.items)}get contents(){return this.items}};n(DS,"ProfileColumnStats"),o(DS,"type","ProfileColumnStats");var NS=DS,BS=class extends ys{constructor(t){super(),o(this,"label"),o(this,"value"),this.label=new mr(t.label),this.value=new mr(t.value)}};n(BS,"ProfileColumnStatsEntry"),o(BS,"type","ProfileColumnStatsEntry");var VS=BS,OS=class extends ys{constructor(t){super(),o(this,"title"),o(this,"thumbnails"),this.title=new mr(t.title),this.thumbnails=or.fromResponse(t.thumbnail)}};n(OS,"ProfileColumnUserInfo"),o(OS,"type","ProfileColumnUserInfo");var US=OS,FS=class extends ys{constructor(t){super(),o(this,"choices"),o(this,"total_votes"),this.choices=t.choices.map(t=>({text:new mr(t.text),is_correct:t.isCorrect})),this.total_votes=new mr(t.totalVotes)}};n(FS,"Quiz"),o(FS,"type","Quiz");var HS=FS,WS=class extends ys{constructor(t){super(),o(this,"title"),o(this,"subtitle"),o(this,"avatars"),o(this,"button"),o(this,"surface"),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle),this.avatars=t.avatars.map(t=>new or(t)),this.button=Os.parseItem(t.button,Yo),this.surface=t.surface}};n(WS,"RecognitionShelf"),o(WS,"type","RecognitionShelf");var jS=WS,GS=class extends ys{constructor(t){super(),o(this,"id"),o(this,"title"),o(this,"thumbnails"),o(this,"views"),o(this,"endpoint"),o(this,"accessibility"),this.id=t.videoId,this.title=new mr(t.headline),this.thumbnails=or.fromResponse(t.thumbnail),this.views=new mr(t.viewCountText),this.endpoint=new nr(t.navigationEndpoint),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new Ps(t.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}};n(GS,"ReelItem"),o(GS,"type","ReelItem");var $S=GS,qS=class extends ys{constructor(t){super(),o(this,"reel_title_text"),o(this,"timestamp_text"),o(this,"channel_title_text"),o(this,"channel_thumbnail"),o(this,"author"),this.reel_title_text=new mr(t.reelTitleText),this.timestamp_text=new mr(t.timestampText),this.channel_title_text=new mr(t.channelTitleText),this.channel_thumbnail=or.fromResponse(t.channelThumbnail),this.author=new qM(t.channelNavigationEndpoint,void 0)}};n(qS,"ReelPlayerHeader"),o(qS,"type","ReelPlayerHeader");var KS=qS,YS=class extends ys{constructor(t){super(),o(this,"like_button"),o(this,"reel_player_header_supported_renderers"),o(this,"menu"),o(this,"next_item_button"),o(this,"prev_item_button"),o(this,"subscribe_button_renderer"),o(this,"style"),o(this,"view_comments_button"),o(this,"share_button"),o(this,"pivot_button"),o(this,"info_panel"),this.like_button=Os.parseItem(t.likeButton,vl),this.reel_player_header_supported_renderers=Os.parseItem(t.reelPlayerHeaderSupportedRenderers,KS),this.menu=Os.parseItem(t.menu,Sl),this.next_item_button=Os.parseItem(t.nextItemButton,Yo),this.prev_item_button=Os.parseItem(t.prevItemButton,Yo),this.subscribe_button_renderer=Os.parseItem(t.subscribeButtonRenderer,[Yo,Md]),this.style=t.style,this.view_comments_button=Os.parseItem(t.viewCommentsButton,Yo),this.share_button=Os.parseItem(t.shareButton,Yo),this.pivot_button=Os.parseItem(t.pivotButton,Ik),this.info_panel=Os.parseItem(t.infoPanel,xb)}};n(YS,"ReelPlayerOverlay"),o(YS,"type","ReelPlayerOverlay");var zS=YS,QS=class extends ys{constructor(t){super(),o(this,"content"),this.content=Os.parseItem(t.content)}};n(QS,"RelatedChipCloud"),o(QS,"type","RelatedChipCloud");var XS=QS,JS=class extends ys{constructor(t){super(),o(this,"header"),o(this,"contents"),o(this,"target_id"),this.header=Os.parseItem(t.header),this.contents=Os.parseArray(t.contents),Reflect.has(t,"targetId")&&(this.target_id=t.targetId)}};n(JS,"RichGrid"),o(JS,"type","RichGrid");var ZS=JS,tC=class extends ys{constructor(t){super(),o(this,"content"),this.content=Os.parseItem(t.content)}};n(tC,"RichItem"),o(tC,"type","RichItem");var eC=tC,iC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"subtitle"),o(this,"title_style"),o(this,"icon_type"),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle),Reflect.has(t,"titleStyle")&&(this.title_style=t.titleStyle.style),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}};n(iC,"RichListHeader"),o(iC,"type","RichListHeader");var sC=iC,nC=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"title"),o(this,"subtitle"),o(this,"call_to_action"),o(this,"icon_type"),o(this,"endpoint"),this.thumbnail=or.fromResponse(t.thumbnail),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle),this.call_to_action=new mr(t.callToAction),Reflect.has(t,"callToActionIcon")&&(this.icon_type=t.callToActionIcon.iconType),this.endpoint=new nr(t.endpoint)}};n(nC,"RichMetadata"),o(nC,"type","RichMetadata");var aC=nC,oC=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=Os.parseArray(t.contents)}};n(oC,"RichMetadataRow"),o(oC,"type","RichMetadataRow");var rC=oC,cC=class extends ys{constructor(t){super(),o(this,"content"),o(this,"full_bleed"),o(this,"target_id"),this.content=Os.parseItem(t.content),this.full_bleed=!!t.fullBleed,"targetId"in t&&(this.target_id=t.targetId)}};n(cC,"RichSection"),o(cC,"type","RichSection");var lC=cC,hC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"contents"),o(this,"endpoint"),o(this,"subtitle"),o(this,"is_expanded"),o(this,"is_bottom_divider_hidden"),o(this,"is_top_divider_hidden"),o(this,"layout_sizing"),o(this,"icon_type"),o(this,"menu"),o(this,"next_button"),o(this,"previous_button"),this.title=new mr(t.title),this.contents=Os.parseArray(t.contents),this.is_expanded=!!t.is_expanded,this.is_bottom_divider_hidden=!!t.isBottomDividerHidden,this.is_top_divider_hidden=!!t.isTopDividerHidden,"endpoint"in t&&(this.endpoint=new nr(t.endpoint)),"subtitle"in t&&(this.subtitle=new mr(t.subtitle)),"layoutSizing"in t&&(this.layout_sizing=t.layoutSizing),"icon"in t&&(this.icon_type=t.icon.iconType),this.menu=Os.parseItem(t.menu),this.next_button=Os.parseItem(t.nextButton),this.previous_button=Os.parseItem(t.previousButton)}};n(hC,"RichShelf"),o(hC,"type","RichShelf");var dC=hC,uC=class extends ys{constructor(t){super(),o(this,"label"),o(this,"endpoint"),o(this,"tooltip"),o(this,"status"),this.label=new mr(t.label),this.endpoint=new nr(t.endpoint||t.navigationEndpoint),this.tooltip=t.tooltip,Reflect.has(t,"status")&&(this.status=t.status)}get disabled(){return"FILTER_STATUS_DISABLED"===this.status}get selected(){return"FILTER_STATUS_SELECTED"===this.status}};n(uC,"SearchFilter"),o(uC,"type","SearchFilter");var pC=uC,mC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"filters"),this.title=new mr(t.title),this.filters=Os.parseArray(t.filters,pC)}};n(mC,"SearchFilterGroup"),o(mC,"type","SearchFilterGroup");var _C=mC,fC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"groups"),this.title=new mr(t.title),this.groups=Os.parseArray(t.groups,_C)}};n(fC,"SearchFilterOptionsDialog"),o(fC,"type","SearchFilterOptionsDialog");var yC=fC,bC=class extends ys{constructor(t){super(),o(this,"chip_bar"),o(this,"search_filter_button"),this.chip_bar=Os.parseItem(t.chipBar,Mu),this.search_filter_button=Os.parseItem(t.searchFilterButton,Yo)}};n(bC,"SearchHeader"),o(bC,"type","SearchHeader");var gC=bC,vC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"groups"),o(this,"button"),Reflect.has(t,"title")&&(this.title=new mr(t.title)),Reflect.has(t,"groups")&&(this.groups=Os.parseArray(t.groups,_C)),Reflect.has(t,"button")&&(this.button=Os.parseItem(t.button,Jc))}};n(vC,"SearchSubMenu"),o(vC,"type","SearchSubMenu");var wC=vC,xC=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=Os.parseArray(t.contents)}};n(xC,"SearchSuggestionsSection"),o(xC,"type","SearchSuggestionsSection");var kC=xC,SC=class extends ys{constructor(t){super(),o(this,"header"),o(this,"call_to_action"),o(this,"sections"),o(this,"collapsed_label"),this.header=Os.parseItem(t.header),this.call_to_action=Os.parseItem(t.callToAction),this.sections=Os.parseArray(t.sections),Reflect.has(t,"collapsedLabel")&&(this.collapsed_label=new mr(t.collapsedLabel))}};n(SC,"UniversalWatchCard"),o(SC,"type","UniversalWatchCard");var CC=SC,TC=class extends ys{constructor(t){super(),o(this,"target_id"),o(this,"contents"),this.contents=Os.parseArray(t.contents,[CC])}};n(TC,"SecondarySearchContainer"),o(TC,"type","SecondarySearchContainer");var IC=TC,EC=class extends ys{constructor(t){super(),o(this,"headline"),this.headline=mr.fromAttributed(t.headline)}};n(EC,"SectionHeaderView"),o(EC,"type","SectionHeaderView");var PC=EC,RC=class extends ys{constructor(t){super(),o(this,"like_button"),o(this,"dislike_button"),this.like_button=Os.parseItem(t.likeButton,[Jc,Yo]),this.dislike_button=Os.parseItem(t.dislikeButton,[Jc,Yo])}};n(RC,"SegmentedLikeDislikeButton"),o(RC,"type","SegmentedLikeDislikeButton");var AC=RC,MC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"summary"),o(this,"enable_endpoint"),o(this,"disable_endpoint"),o(this,"item_id"),Reflect.has(t,"title")&&(this.title=new mr(t.title)),Reflect.has(t,"summary")&&(this.summary=new mr(t.summary)),Reflect.has(t,"enableServiceEndpoint")&&(this.enable_endpoint=new nr(t.enableServiceEndpoint)),Reflect.has(t,"disableServiceEndpoint")&&(this.disable_endpoint=new nr(t.disableServiceEndpoint)),this.item_id=t.itemId}};n(MC,"SettingBoolean"),o(MC,"type","SettingBoolean");var LC=MC,DC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"help_text"),o(this,"enabled"),o(this,"disabled"),o(this,"id"),this.title=new mr(t.title),this.help_text=new mr(t.helpText),this.enabled=t.enabled,this.disabled=t.disabled,this.id=t.id}};n(DC,"SettingsCheckbox"),o(DC,"type","SettingsCheckbox");var NC=DC,BC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"subtitle"),o(this,"enabled"),o(this,"enable_endpoint"),o(this,"disable_endpoint"),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle),this.enabled=t.enabled,this.enable_endpoint=new nr(t.enableServiceEndpoint),this.disable_endpoint=new nr(t.disableServiceEndpoint)}};n(BC,"SettingsSwitch"),o(BC,"type","SettingsSwitch");var VC=BC,OC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"text"),o(this,"options"),this.title=new mr(t.title),Reflect.has(t,"text")&&(this.text=new mr(t.text).toString()),Reflect.has(t,"options")&&(this.options=Os.parseArray(t.options,[VC,Jo,Sm,NC,hu]))}};n(OC,"SettingsOptions"),o(OC,"type","SettingsOptions");var UC=OC,FC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"items"),this.title=new mr(t.title),this.items=Os.parseArray(t.items,Rr)}get contents(){return this.items}};n(FC,"SettingsSidebar"),o(FC,"type","SettingsSidebar");var HC=FC,WC=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"content"),o(this,"published"),o(this,"menu"),o(this,"original_post"),o(this,"id"),o(this,"endpoint"),o(this,"expand_button"),o(this,"author"),this.thumbnail=or.fromResponse(t.thumbnail),this.content=new mr(t.content),this.published=new mr(t.publishedTimeText),this.menu=Os.parseItem(t.actionMenu,Sl),this.original_post=Os.parseItem(t.originalPost,[Tl,kS]),this.id=t.postId,this.endpoint=new nr(t.navigationEndpoint),this.expand_button=Os.parseItem(t.expandButton,Yo),this.author=new qM(t.displayName,void 0)}};n(WC,"SharedPost"),o(WC,"type","SharedPost");var jC=WC,GC=class extends ys{constructor(t){super(),o(this,"title"),this.title=Os.parseItem(t.title)}};n(GC,"SharePanelHeader"),o(GC,"type","SharePanelHeader");var $C=GC,qC=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(qC,"SharePanelTitleV15"),o(qC,"type","SharePanelTitleV15");var KC=qC,YC=class extends ys{constructor(t){super(),o(this,"endpoint"),o(this,"service_name"),o(this,"target_id"),o(this,"title"),Reflect.has(t,"serviceEndpoint")?this.endpoint=new nr(t.serviceEndpoint):Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new nr(t.navigationEndpoint)),this.service_name=t.serviceName,this.target_id=t.targetId,this.title=new mr(t.title)}};n(YC,"ShareTarget"),o(YC,"type","ShareTarget");var zC=YC,QC=class extends ys{constructor(t){super(),o(this,"title"),o(this,"endpoint"),o(this,"content"),o(this,"icon_type"),o(this,"menu"),o(this,"play_all_button"),o(this,"subtitle"),this.title=new mr(t.title),Reflect.has(t,"endpoint")&&(this.endpoint=new nr(t.endpoint)),this.content=Os.parseItem(t.content),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"menu")&&(this.menu=Os.parseItem(t.menu)),Reflect.has(t,"playAllButton")&&(this.play_all_button=Os.parseItem(t.playAllButton,Yo)),Reflect.has(t,"subtitle")&&(this.subtitle=new mr(t.subtitle))}};n(QC,"Shelf"),o(QC,"type","Shelf");var XC=QC,JC=class extends ys{constructor(t){super(),o(this,"entity_id"),o(this,"accessibility_text"),o(this,"thumbnail"),o(this,"on_tap_endpoint"),o(this,"menu_on_tap"),o(this,"index_in_collection"),o(this,"menu_on_tap_a11y_label"),o(this,"overlay_metadata"),o(this,"inline_player_data"),o(this,"badge"),this.entity_id=t.entityId,this.accessibility_text=t.accessibilityText,this.thumbnail=or.fromResponse(t.thumbnail),this.on_tap_endpoint=new nr(t.onTap),this.menu_on_tap=new nr(t.menuOnTap),this.index_in_collection=t.indexInCollection,this.menu_on_tap_a11y_label=t.menuOnTapA11yLabel,this.overlay_metadata={primary_text:t.overlayMetadata.primaryText?mr.fromAttributed(t.overlayMetadata.primaryText):void 0,secondary_text:t.overlayMetadata.secondaryText?mr.fromAttributed(t.overlayMetadata.secondaryText):void 0},t.inlinePlayerData?.onVisible&&(this.inline_player_data=new nr(t.inlinePlayerData.onVisible)),t.badge&&(this.badge=Os.parseItem(t.badge,Rl))}};n(JC,"ShortsLockupView"),o(JC,"type","ShortsLockupView");var ZC=JC,tT=class extends ys{constructor(t){super(),o(this,"corrected_query"),o(this,"original_query"),o(this,"corrected_query_endpoint"),o(this,"original_query_endpoint"),o(this,"search_instead_for"),o(this,"showing_results_for"),this.corrected_query=new mr(t.correctedQuery),this.original_query=new mr(t.originalQuery),this.corrected_query_endpoint=new nr(t.correctedQueryEndpoint),this.original_query_endpoint=new nr(t.originalQueryEndpoint),this.search_instead_for=new mr(t.searchInsteadFor),this.showing_results_for=new mr(t.showingResultsFor)}};n(tT,"ShowingResultsFor"),o(tT,"type","ShowingResultsFor");var eT=tT,iT=class extends ys{constructor(t){super(),o(this,"image"),o(this,"title"),o(this,"display_domain"),o(this,"show_link_icon"),o(this,"call_to_action"),o(this,"endpoint"),this.image=or.fromResponse(t.image),this.title=new mr(t.title),this.display_domain=new mr(t.displayDomain),this.show_link_icon=t.showLinkIcon,this.call_to_action=new mr(t.callToAction),this.endpoint=new nr(t.command)}};n(iT,"SimpleCardContent"),o(iT,"type","SimpleCardContent");var sT=iT,nT=class extends ys{constructor(t){super(),o(this,"message"),o(this,"prominent"),this.message=new mr(t.message),this.prominent=t.prominent}};n(nT,"SimpleCardTeaser"),o(nT,"type","SimpleCardTeaser");var aT=nT,oT=class extends ys{constructor(t){super(),o(this,"lines"),o(this,"style"),this.lines=t.lines.map(t=>new mr(t)),this.style=t.layoutStyle}};n(oT,"SimpleTextSection"),o(oT,"type","SimpleTextSection");var rT=oT,cT=class extends ys{constructor(t){super(),o(this,"action_text"),o(this,"nav_text"),o(this,"details"),o(this,"icon_type"),o(this,"endpoint"),this.action_text=new mr(t.actionText),this.nav_text=new mr(t.navigationText),this.details=new mr(t.detailsText),this.icon_type=t.icon.iconType,this.endpoint=new nr(t.navigationEndpoint)}};n(cT,"SingleActionEmergencySupport"),o(cT,"type","SingleActionEmergencySupport");var lT=cT,hT=class extends ys{constructor(t){super(),o(this,"title"),o(this,"selected"),o(this,"endpoint"),o(this,"content"),this.title=t.title||"N/A",this.selected=!!t.selected,this.endpoint=new nr(t.endpoint),this.content=Os.parseItem(t.content,[vh,$x,ZS])}};n(hT,"Tab"),o(hT,"type","Tab");var dT=hT,uT=class extends ys{constructor(t){super(),o(this,"tabs"),this.tabs=Os.parseArray(t.tabs,dT)}};n(uT,"SingleColumnBrowseResults"),o(uT,"type","SingleColumnBrowseResults");var pT=uT,mT=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=Os.parse(t)}};n(mT,"SingleColumnMusicWatchNextResults"),o(mT,"type","SingleColumnMusicWatchNextResults");var _T=mT,fT=class extends ys{constructor(t){super(),o(this,"thumbnails"),o(this,"style"),this.thumbnails=or.fromResponse(t.thumbnail),this.style=t.style}};n(fT,"SingleHeroImage"),o(fT,"type","SingleHeroImage");var yT=fT,bT=class extends ys{constructor(t){super(),o(this,"thumbnail"),o(this,"title"),o(this,"endpoint"),o(this,"subscribe_button"),this.thumbnail=or.fromResponse(t.thumbnail),this.title=new mr(t.title),this.endpoint=new nr(t.navigationEndpoint),this.subscribe_button=Os.parseItem(t.subscribeButton,Md)}};n(bT,"SlimOwner"),o(bT,"type","SlimOwner");var gT=bT,vT=class extends ys{constructor(t){super(),o(this,"title"),o(this,"collapsed_subtitle"),o(this,"expanded_subtitle"),o(this,"owner"),o(this,"description"),o(this,"video_id"),o(this,"date"),this.title=new mr(t.title),this.collapsed_subtitle=new mr(t.collapsedSubtitle),this.expanded_subtitle=new mr(t.expandedSubtitle),this.owner=Os.parseItem(t.owner),this.description=new mr(t.description),this.video_id=t.videoId,this.date=new mr(t.dateText)}};n(vT,"SlimVideoMetadata"),o(vT,"type","SlimVideoMetadata");var wT=vT,xT=class extends ys{constructor(t){super(),o(this,"start_at_option_label"),this.start_at_option_label=new mr(t.startAtOptionLabel)}};n(xT,"StartAt"),o(xT,"type","StartAt");var kT=xT,ST=class extends ys{constructor(t){super(),o(this,"contents"),this.contents=Os.parse(t)}};n(ST,"Tabbed"),o(ST,"type","Tabbed");var CT=ST,TT=class extends ys{constructor(t){super(),o(this,"tabs"),this.tabs=Os.parseArray(t.tabs,dT)}};n(TT,"TabbedSearchResults"),o(TT,"type","TabbedSearchResults");var IT=TT,ET=class extends ys{constructor(t){super(),o(this,"title"),o(this,"style"),this.title=new mr(t.title),this.style=t.style}};n(ET,"TextHeader"),o(ET,"type","TextHeader");var PT=ET,RT=class extends ys{constructor(t){super(),o(this,"share_targets"),this.share_targets=Os.parseArray(t.shareTargets,zC)}};n(RT,"ThirdPartyShareTargetSection"),o(RT,"type","ThirdPartyShareTargetSection");var AT=RT,MT=class extends ys{constructor(t){super(),o(this,"landscape"),o(this,"portrait"),this.landscape=or.fromResponse(t.landscape),this.portrait=or.fromResponse(t.portrait)}};n(MT,"ThumbnailLandscapePortrait"),o(MT,"type","ThumbnailLandscapePortrait");var LT=MT,DT=class extends ys{constructor(t){super(),o(this,"text"),this.text=new mr(t.text).toString()}};n(DT,"ThumbnailOverlayEndorsement"),o(DT,"type","ThumbnailOverlayEndorsement");var NT=DT,BT=class extends ys{constructor(t){super(),o(this,"text"),o(this,"icon_type"),this.text=new mr(t.text),this.icon_type=t.icon.iconType}};n(BT,"ThumbnailOverlayHoverText"),o(BT,"type","ThumbnailOverlayHoverText");var VT=BT,OT=class extends ys{constructor(t){super(),o(this,"text"),o(this,"icon_type"),this.text=new mr(t.text).toString(),this.icon_type=t.icon.iconType}};n(OT,"ThumbnailOverlayInlineUnplayable"),o(OT,"type","ThumbnailOverlayInlineUnplayable");var UT=OT,FT=class extends ys{constructor(t){super(),o(this,"text"),this.text=new mr(t.text)}};n(FT,"ThumbnailOverlayLoadingPreview"),o(FT,"type","ThumbnailOverlayLoadingPreview");var HT=FT,WT=class extends ys{constructor(t){super(),o(this,"text"),this.text=new mr(t.text).toString()}};n(WT,"ThumbnailOverlayNowPlaying"),o(WT,"type","ThumbnailOverlayNowPlaying");var jT=WT,GT=class extends ys{constructor(t){super(),o(this,"hack"),this.hack=t.hack}};n(GT,"ThumbnailOverlayPinking"),o(GT,"type","ThumbnailOverlayPinking");var $T=GT,qT=class extends ys{constructor(t){super(),o(this,"texts"),this.texts=t.texts.map(t=>new mr(t))}};n(qT,"ThumbnailOverlayPlaybackStatus"),o(qT,"type","ThumbnailOverlayPlaybackStatus");var KT=qT,YT=class extends ys{constructor(t){super(),o(this,"percent_duration_watched"),this.percent_duration_watched=t.percentDurationWatched}};n(YT,"ThumbnailOverlayResumePlayback"),o(YT,"type","ThumbnailOverlayResumePlayback");var zT=YT,QT=class extends ys{constructor(t){super(),o(this,"text"),o(this,"icon_type"),this.text=new mr(t.text),this.icon_type=t.icon.iconType}};n(QT,"ThumbnailOverlaySidePanel"),o(QT,"type","ThumbnailOverlaySidePanel");var XT=QT,JT=class extends ys{constructor(t){super(),o(this,"is_toggled"),o(this,"icon_type"),o(this,"tooltip"),o(this,"toggled_endpoint"),o(this,"untoggled_endpoint"),Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled),this.icon_type={toggled:t.toggledIcon.iconType,untoggled:t.untoggledIcon.iconType},this.tooltip={toggled:t.toggledTooltip,untoggled:t.untoggledTooltip},t.toggledServiceEndpoint&&(this.toggled_endpoint=new nr(t.toggledServiceEndpoint)),t.untoggledServiceEndpoint&&(this.untoggled_endpoint=new nr(t.untoggledServiceEndpoint))}};n(JT,"ThumbnailOverlayToggleButton"),o(JT,"type","ThumbnailOverlayToggleButton");var ZT=JT,tI=class extends ys{constructor(t){super(),o(this,"title"),this.title=new mr(t.title)}};n(tI,"TitleAndButtonListHeader"),o(tI,"type","TitleAndButtonListHeader");var eI=tI,iI=class extends ys{constructor(t){super(),o(this,"label"),o(this,"toggled"),o(this,"toggle_on_action"),o(this,"toggle_off_action"),this.label=new Text(t.label),this.toggled=t.toggled,"toggleOnAction"in t&&(this.toggle_on_action=new nr(t.toggleOnAction)),"toggleOffAction"in t&&(this.toggle_off_action=new nr(t.toggleOffAction))}};n(iI,"ToggleFormField"),o(iI,"type","ToggleFormField");var sI=iI,nI=class extends ys{constructor(t){super(),o(this,"text"),o(this,"toggled_text"),o(this,"icon_type"),o(this,"toggled_icon_type"),o(this,"default_endpoint"),o(this,"toggled_endpoint"),this.text=new mr(t.defaultText),this.toggled_text=new mr(t.toggledText),this.icon_type=t.defaultIcon.iconType,this.toggled_icon_type=t.toggledIcon.iconType,this.default_endpoint=new nr(t.defaultServiceEndpoint),this.toggled_endpoint=new nr(t.toggledServiceEndpoint)}};n(nI,"ToggleMenuServiceItem"),o(nI,"type","ToggleMenuServiceItem");var aI=nI,oI=class extends ys{constructor(t){super(),o(this,"promo_config"),o(this,"target_id"),o(this,"details"),o(this,"suggested_position"),o(this,"dismiss_stratedy"),o(this,"dwell_time_ms"),this.promo_config={promo_id:t.promoConfig.promoId,impression_endpoints:t.promoConfig.impressionEndpoints.map(t=>new nr(t)),accept:new nr(t.promoConfig.acceptCommand),dismiss:new nr(t.promoConfig.dismissCommand)},this.target_id=t.targetId,this.details=new mr(t.detailsText),this.suggested_position=t.suggestedPosition.type,this.dismiss_stratedy=t.dismissStrategy.type,this.dwell_time_ms=parseInt(t.dwellTimeMs)}};n(oI,"Tooltip"),o(oI,"type","Tooltip");var rI=oI,cI=class extends ys{constructor(t){super(),o(this,"title"),o(this,"avatar"),o(this,"subtitle"),o(this,"subscribe_button"),o(this,"endpoint"),this.title=new mr(t.title),this.avatar=or.fromResponse(t.thumbnail??t.avatar),this.subtitle=new mr(t.subtitle),this.subscribe_button=Os.parseItem(t.subscribeButton,Md),this.endpoint=new nr(t.navigationEndpoint)}};n(cI,"TopicChannelDetails"),o(cI,"type","TopicChannelDetails");var lI=cI,hI=class extends ys{constructor(t){super(),o(this,"tabs"),o(this,"secondary_contents"),this.tabs=Os.parseArray(t.tabs,[dT,ny]),this.secondary_contents=Os.parseItem(t.secondaryContents,[vh,Fl,LS])}};n(hI,"TwoColumnBrowseResults"),o(hI,"type","TwoColumnBrowseResults");var dI=hI,uI=class extends ys{constructor(t){super(),o(this,"header"),o(this,"primary_contents"),o(this,"secondary_contents"),o(this,"target_id"),this.header=Os.parseItem(t.header),this.primary_contents=Os.parseItem(t.primaryContents,[ZS,vh]),this.secondary_contents=Os.parseItem(t.secondaryContents,[IC]),"targetId"in t&&(this.target_id=t.targetId)}};n(uI,"TwoColumnSearchResults"),o(uI,"type","TwoColumnSearchResults");var pI,mI,_I=uI,fI=class extends ys{constructor(t){super(),l(this,pI),o(this,"results"),o(this,"secondary_results"),o(this,"conversation_bar"),o(this,"playlist"),o(this,"autoplay"),this.results=Os.parseArray(t.results?.results.contents),this.secondary_results=Os.parseArray(t.secondaryResults?.secondaryResults.results),this.conversation_bar=Os.parseItem(t?.conversationBar);let e=t.playlist?.playlist;e&&(this.playlist={id:e.playlistId,title:e.title,author:e.shortBylineText?.simpleText?new mr(e.shortBylineText):new qM(e.longBylineText),contents:Os.parseArray(e.contents),current_index:e.currentIndex,is_infinite:!!e.isInfinite,menu:Os.parseItem(e.menu,Sl)});let i=t.autoplay?.autoplay;i&&(this.autoplay={sets:i.sets.map(t=>d(this,pI,mI).call(this,t))},i.modifiedSets&&(this.autoplay.modified_sets=i.modifiedSets.map(t=>d(this,pI,mI).call(this,t))),i.countDownSecs&&(this.autoplay.count_down_secs=i.countDownSecs))}};pI=new WeakSet,mI=n(function(t){let e={autoplay_video:new nr(t.autoplayVideo)};return t.nextButtonVideo&&(e.next_button_video=new nr(t.nextButtonVideo)),e},"#parseAutoplaySet"),n(fI,"TwoColumnWatchNextResults"),o(fI,"type","TwoColumnWatchNextResults");var yI=fI,bI=class extends ys{constructor(t){if(super(),o(this,"third_party_network_section"),o(this,"header"),o(this,"share_panel_version"),o(this,"show_loading_spinner"),t.contents){let e=t.contents.find(t=>t.thirdPartyNetworkSection);e&&(this.third_party_network_section={share_target_container:Os.parseItem(e.thirdPartyNetworkSection.shareTargetContainer,AT),copy_link_container:Os.parseItem(e.thirdPartyNetworkSection.copyLinkContainer,Sm),start_at_container:Os.parseItem(e.thirdPartyNetworkSection.startAtContainer,kT)})}this.header=Os.parseItem(t.header,$C),this.share_panel_version=t.sharePanelVersion,Reflect.has(t,"showLoadingSpinner")&&(this.show_loading_spinner=t.showLoadingSpinner)}};n(bI,"UnifiedSharePanel"),o(bI,"type","UnifiedSharePanel");var gI=bI,vI=class extends ys{constructor(t){super(),o(this,"message_title"),o(this,"message_text"),o(this,"action_button"),o(this,"dismiss_button"),o(this,"is_visible"),this.message_title=new mr(t.dialogMessageTitle),this.message_text=new mr(t.dialogMessageText),this.action_button=Os.parseItem(t.actionButton,Yo),this.dismiss_button=Os.parseItem(t.dismissButton,Yo),this.is_visible=t.isVisible}};n(vI,"UpsellDialog"),o(vI,"type","UpsellDialog");var wI=vI,xI=class extends ys{constructor(t){super(),o(this,"items"),o(this,"collapsed_item_count"),o(this,"collapsed_state_button_text"),this.items=Os.parseArray(t.items),this.collapsed_item_count=t.collapsedItemCount,this.collapsed_state_button_text=new mr(t.collapsedStateButtonText)}get contents(){return this.items}};n(xI,"VerticalList"),o(xI,"type","VerticalList");var kI=xI,SI=class extends ys{constructor(t){super(),o(this,"items"),o(this,"view_all_text"),o(this,"view_all_endpoint"),this.items=Os.parseArray(t.items),this.view_all_text=new mr(t.viewAllText),this.view_all_endpoint=new nr(t.viewAllEndpoint)}get contents(){return this.items}};n(SI,"VerticalWatchCardList"),o(SI,"type","VerticalWatchCardList");var CI=SI,TI=class extends ys{constructor(t){super(),o(this,"title"),o(this,"channel_name"),o(this,"view_count"),o(this,"video_thumbnails"),o(this,"duration"),o(this,"endpoint"),this.title=new mr(t.videoTitle),this.channel_name=new mr(t.channelName),this.view_count=new mr(t.viewCountText),this.video_thumbnails=or.fromResponse(t.videoThumbnail),this.duration=new mr(t.lengthString),this.endpoint=new nr(t.action)}};n(TI,"VideoInfoCardContent"),o(TI,"type","VideoInfoCardContent");var II=TI,EI=class extends ys{constructor(t){super(),o(this,"carousel_titles"),o(this,"carousel_items"),this.carousel_titles=Os.parse(t.carouselTitles,!0,Qd),this.carousel_items=Os.parse(t.carouselItems,!0,Yd)}};n(EI,"VideoMetadataCarouselView"),o(EI,"type","VideoMetadataCarouselView");var PI=EI,RI=class{constructor(t){o(this,"text"),o(this,"subscribed"),o(this,"subscription_type"),this.text=new mr(t.text),this.subscribed=t.isSubscribed,"subscriptionType"in t&&(this.subscription_type=t.subscriptionType)}};n(RI,"SubscriptionButton"),o(RI,"type","SubscriptionButton");var AI=RI,MI=class extends ys{constructor(t){super(),o(this,"subscription_button"),o(this,"subscriber_count"),o(this,"author"),"subscriptionButton"in t&&(this.subscription_button=new AI(t.subscriptionButton)),this.subscriber_count=new mr(t.subscriberCountText),this.author=new qM({...t.title,navigationEndpoint:t.navigationEndpoint},t.badges,t.thumbnail)}};n(MI,"VideoOwner"),o(MI,"type","VideoOwner");var LI=MI,DI=class extends ys{constructor(t){super(),o(this,"original_view_count"),o(this,"short_view_count"),o(this,"extra_short_view_count"),o(this,"view_count"),this.original_view_count=t.originalViewCount,this.short_view_count=new mr(t.shortViewCount),this.extra_short_view_count=new mr(t.extraShortViewCount),this.view_count=new mr(t.viewCount)}};n(DI,"VideoViewCount"),o(DI,"type","VideoViewCount");var NI=DI,BI=class extends ys{constructor(t){super(),o(this,"title"),o(this,"super_title_link"),o(this,"station_name"),o(this,"view_count"),o(this,"badges"),o(this,"published"),o(this,"relative_date"),o(this,"menu"),this.title=new mr(t.title),"superTitleLink"in t&&(this.super_title_link=new mr(t.superTitleLink)),"stationName"in t&&(this.station_name=new mr(t.stationName)),this.view_count=Os.parseItem(t.viewCount,NI),this.badges=Os.parseArray(t.badges,Mh),this.published=new mr(t.dateText),this.relative_date=new mr(t.relativeDateText),this.menu=Os.parseItem(t.videoActions,Sl)}};n(BI,"VideoPrimaryInfo"),o(BI,"type","VideoPrimaryInfo");var VI=BI,OI=class extends ys{constructor(t){super(),o(this,"owner"),o(this,"description"),o(this,"description_placeholder"),o(this,"subscribe_button"),o(this,"metadata"),o(this,"show_more_text"),o(this,"show_less_text"),o(this,"default_expanded"),o(this,"description_collapsed_lines"),this.owner=Os.parseItem(t.owner,LI),this.description=new mr(t.description),"attributedDescription"in t&&(this.description=mr.fromAttributed(t.attributedDescription)),"descriptionPlaceholder"in t&&(this.description_placeholder=new mr(t.descriptionPlaceholder)),this.subscribe_button=Os.parseItem(t.subscribeButton,[Md,Yo]),this.metadata=Os.parseItem(t.metadataRowContainer,mw),this.show_more_text=new mr(t.showMoreText),this.show_less_text=new mr(t.showLessText),this.default_expanded=t.defaultExpanded,this.description_collapsed_lines=t.descriptionCollapsedLines}};n(OI,"VideoSecondaryInfo"),o(OI,"type","VideoSecondaryInfo");var UI=OI,FI=class extends ys{constructor(t){super(),o(this,"title"),o(this,"subtitle"),o(this,"duration"),o(this,"style"),this.title=new mr(t.title),this.subtitle=new mr(t.subtitle),this.duration={text:new mr(t.lengthText).toString(),seconds:fL(t.lengthText.simpleText)},this.style=t.style}};n(FI,"WatchCardCompactVideo"),o(FI,"type","WatchCardCompactVideo");var HI=FI,WI=class extends ys{constructor(t){super(),o(this,"endpoint"),o(this,"call_to_action_button"),o(this,"hero_image"),o(this,"label"),this.endpoint=new nr(t.navigationEndpoint),this.call_to_action_button=Os.parseItem(t.callToActionButton),this.hero_image=Os.parseItem(t.heroImage),this.label=t.lengthText?.accessibility.accessibilityData.label||""}};n(WI,"WatchCardHeroVideo"),o(WI,"type","WatchCardHeroVideo");var jI=WI,GI=class extends ys{constructor(t){super(),o(this,"title"),o(this,"title_endpoint"),o(this,"subtitle"),o(this,"author"),o(this,"style"),this.title=new mr(t.title),this.title_endpoint=new nr(t.titleNavigationEndpoint),this.subtitle=new mr(t.subtitle),this.author=new qM(t,t.titleBadge?[t.titleBadge]:null,t.avatar),this.author.name=this.title.toString(),this.style=t.style}};n(GI,"WatchCardRichHeader"),o(GI,"type","WatchCardRichHeader");var $I=GI,qI=class extends ys{constructor(t){super(),o(this,"lists"),this.lists=Os.parseArray(t.lists)}};n(qI,"WatchCardSectionSequence"),o(qI,"type","WatchCardSectionSequence");var KI=qI,YI=class extends dI{constructor(t){super(t)}};n(YI,"WatchNextTabbedResults"),o(YI,"type","WatchNextTabbedResults");var zI=YI,QI=class extends ys{constructor(t){super(),o(this,"title"),o(this,"content"),o(this,"endpoint"),o(this,"category_assets"),o(this,"category_type"),this.title=t.title,this.content=Os.parseItem(t.content,vh),this.endpoint=new nr(t.navigationEndpoint),this.category_assets={asset_key:t.categoryAssets?.assetKey,background_color:t.categoryAssets?.backgroundColor},this.category_type=t.categoryType}};n(QI,"AnchoredSection"),o(QI,"type","AnchoredSection");var XI,JI=QI,ZI=class extends ys{constructor(t){super(),l(this,XI),o(this,"child_display_name"),o(this,"child_account_description"),o(this,"avatar"),o(this,"block_button"),o(this,"blocked_entity_key"),this.child_display_name=new mr(t.childDisplayName),this.child_account_description=new mr(t.childAccountDescription),this.avatar=or.fromResponse(t.avatar),this.block_button=Os.parseItem(t.blockButton,[Jc]),this.blocked_entity_key=t.blockedEntityKey}async blockChannel(){if(!c(this,XI))throw new XM("An active caller must be provide to perform this operation.");let t=this.block_button;if(!t)throw new XM("Block button was not found.",{child_display_name:this.child_display_name});if(t.is_toggled)throw new XM("This channel is already blocked.",{child_display_name:this.child_display_name});return await t.endpoint.call(c(this,XI),{parse:!1})}setActions(t){h(this,XI,t)}};XI=new WeakMap,n(ZI,"KidsBlocklistPickerItem"),o(ZI,"type","KidsBlocklistPickerItem");var tE=ZI,eE=class extends ys{constructor(t){super(),o(this,"title"),o(this,"child_rows"),o(this,"done_button"),o(this,"successful_toast_action_message"),this.title=new mr(t.title),this.child_rows=Os.parse(t.childRows,!0,[tE]),this.done_button=Os.parseItem(t.doneButton,[Yo]),this.successful_toast_action_message=new mr(t.successfulToastActionMessage)}};n(eE,"KidsBlocklistPicker"),o(eE,"type","KidsBlocklistPicker");var iE=eE,sE=class extends ys{constructor(t){super(),o(this,"title"),o(this,"category_assets"),o(this,"category_type"),o(this,"endpoint"),this.title=new mr(t.title),this.category_assets={asset_key:t.categoryAssets?.assetKey,background_color:t.categoryAssets?.backgroundColor},this.category_type=t.categoryType,this.endpoint=new nr(t.endpoint)}};n(sE,"KidsCategoryTab"),o(sE,"type","KidsCategoryTab");var nE=sE,aE=class extends ys{constructor(t){super(),o(this,"category_tabs"),o(this,"privacy_button"),this.category_tabs=Os.parseArray(t.categoryTabs,nE),this.privacy_button=Os.parseItem(t.privacyButtonRenderer,Yo)}};n(aE,"KidsCategoriesHeader"),o(aE,"type","kidsCategoriesHeader");var oE=aE,rE=class extends ys{constructor(t){super(),o(this,"anchors"),this.anchors=Os.parseArray(t.anchors,JI)}};n(rE,"KidsHomeScreen"),o(rE,"type","kidsHomeScreen");var cE=rE;a({},{camelToSnake:()=>dE,createRuntimeClass:()=>xE,generateRuntimeClass:()=>kE,generateTypescriptClass:()=>SE,inferType:()=>uE,introspect:()=>vE,isArrayType:()=>fE,isIgnoredKey:()=>wE,isMiscType:()=>mE,isRenderer:()=>_E,isRendererList:()=>pE,mergeKeyInfo:()=>DE,parse:()=>LE,toParser:()=>EE,toTypeDeclaration:()=>TE});var lE=new Set(["trackingParams","accessibility","accessibilityData"]),hE={};function dE(t){return t.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}function uE(t,e){let i=!1;if("object"==typeof e&&null!=e){if(i=_E(e))return hE[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=pE(e)){for(let[t,e]of Object.entries(i))hE[t]=e;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=mE(t,e))||(i=fE(e)))return i}let s=typeof e;return"object"===s?{type:"object",keys:Object.entries(e).map(([t,e])=>[t,uE(t,e)]),optional:!1}:{type:"primitive",typeof:[s],optional:!1}}function pE(t){let e=Array.isArray(t);return(!e||0!==t.length)&&(!(!e||!t.every(t=>_E(t)))&&Object.fromEntries(t.map(t=>{let e=Reflect.ownKeys(t)[0].toString();return[TP(e),t[e]]})))}function mE(t,e){if("object"==typeof e&&null!==e){if(t.endsWith("Endpoint")||t.endsWith("Command")||"endpoint"===t)return{type:"misc",endpoint:new nr(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let t=new mr(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:t.endpoint,text:t.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}function _E(t){if("object"!=typeof t)return!1;let e=Reflect.ownKeys(t);if(1===e.length){let t=e[0].toString();if(t.endsWith("Renderer")||t.endsWith("Model"))return TP(t)}return!1}function fE(t){if(!Array.isArray(t))return!1;if(0===t.length)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};let e=t.map(t=>typeof t);if(!e.every(t=>t===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};let i=e[0];if("object"!==i)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[i],optional:!1},optional:!1};let s=[];for(let e=0;e<t.length;e++){let i=Object.entries(t[e]).map(([t,e])=>[t,uE(t,e)]);0!==e?s=DE(s,i).resolved_key_info:s=i}return{type:"array",array_type:"object",items:{type:"object",keys:s,optional:!1},optional:!1}}function yE(t){if("object"!=typeof t||null===t)throw new XM("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(t=>!wE(t)).filter(t=>"string"==typeof t).map(e=>[e,uE(e,Reflect.get(t,e))])}function bE(t){let e,i=t.filter(([,t])=>"misc"===t.type&&("NavigationEndpoint"===t.misc_type||"Text"===t.misc_type)&&"WEB_PAGE_TYPE_CHANNEL"===t.endpoint?.metadata.page_type).sort(([,t],[,e])=>"misc"!==t.type||"misc"!==e.type||"Text"!==t.misc_type||"Text"!==e.misc_type?0:e.text.length-t.text.length),s=new Set,n=i[0];if(n){s.add(n[0]);let i=t.map(([t])=>t).filter(t=>t.endsWith("Badges")||"badges"===t),a=i.filter(t=>t.startsWith("owner")||t.startsWith("author"))[0]??i[0],o=t.find(([t])=>t===a),r=!!o&&("array"===o[1].type&&"renderer"===o[1].array_type&&Reflect.has(o[1].renderers,"MetadataBadge"));r&&a&&s.add(a),e={type:"misc",misc_type:"Author",optional:!1,params:[n[0],r?a:void 0]}}return e&&t.push(["author",e]),t.filter(([t])=>!s.has(t))}function gE(t){return bE(yE(t))}function vE(t){let e=gE(t),i=new Map;for(let[,t]of e)if("renderer"===t.type||"array"===t.type&&"renderer"===t.array_type)for(let e of t.renderers){let t=hE[e];t&&i.set(e,t)}return{key_info:e,unimplemented_dependencies:Array.from(i).filter(([t])=>!EP(t))}}function wE(t){return"string"==typeof t&&lE.has(t)}function xE(t,e,i){var s,a;i({error_type:"class_not_found",classname:t,key_info:e});let r=(s=class extends ys{static set key_info(t){h(this,a,new Map(t))}static get key_info(){return[...c(this,a).entries()]}constructor(e){super();let{key_info:s,unimplemented_dependencies:n}=vE(e),{resolved_key_info:a,changed_keys:o}=DE(r.key_info,s);o.length>0&&(r.key_info=a,i({error_type:"class_changed",classname:t,key_info:r.key_info,changed_keys:o}));for(let[t,e]of n)kE(t,e,i);for(let[t,i]of s){let s=dE(t);"misc"===i.type&&"NavigationEndpoint"===i.misc_type&&(s="endpoint"),Reflect.set(this,s,LE(t,i,e))}}},a=new WeakMap,n(s,"node"),o(s,"type",t),l(s,a,new Map),s);return r.key_info=e,Object.defineProperty(r,"name",{value:t,writable:!1}),r}function kE(t,e,i){let{key_info:s,unimplemented_dependencies:n}=vE(e),a=xE(t,s,i);PP(t,a);for(let[t,e]of n)kE(t,e,i);return a}function SE(t,e){let i=[],s=["super();"];for(let[t,n]of e){let e=dE(t);"misc"===n.type&&"NavigationEndpoint"===n.misc_type&&(e="endpoint"),i.push(`${e}${n.optional?"?":""}: ${TE(n)};`),s.push(`this.${e} = ${EE(t,n)};`)}return`class ${t} extends YTNode {\n  static type = '${t}';\n\n  ${i.join("\n  ")}\n\n  constructor(data: RawNode) {\n    ${s.join("\n    ")}\n  }\n}\n`}function CE(t,e){return`{\n${e.map(([e,i])=>`${" ".repeat(2*(t+2))}${dE(e)}${i.optional?"?":""}: ${TE(i,t+1)}`).join(",\n")}\n${" ".repeat(2*(t+1))}}`}function TE(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(t=>`YTNodes.${t}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(t=>`YTNodes.${t}`).join(" | ")}> | null`;case"primitive":{let e=t.items.typeof;return t.items.optional&&!e.includes("undefined")&&e.push("undefined"),(1===e.length?`${e[0]}`:`(${e.join(" | ")})`)+"[]"}case"object":return`${CE(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return CE(e,t.keys);case"misc":return"Thumbnail"===t.misc_type?"Thumbnail[]":t.misc_type;case"primitive":return t.typeof.join(" | ")}}function IE(t,e,i,s){let n=[...i,s];return`{\n${e.map(([e,i])=>`${" ".repeat(2*(t+2))}${dE(e)}: ${EE(e,i,n,t+1)}`).join(",\n")}\n${" ".repeat(2*(t+1))}}`}function EE(t,e,i=["data"],s=1){let n="undefined";switch(e.type){case"renderer":n=`Parser.parseItem(${i.join(".")}.${t}, ${PE(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":n=`Parser.parse(${i.join(".")}.${t}, true, ${PE(e.renderers)})`;break;case"object":n=`${i.join(".")}.${t}.map((item: any) => (${IE(s,e.items.keys,[],"item")}))`;break;case"primitive":n=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":n=IE(s,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":n=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let t=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${t} : undefined`:t}default:n=`new ${e.misc_type}(${i.join(".")}.${t})`}if("undefined"===n)throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":n=`${i.join(".")}.${t}`}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${n} : undefined`:n}function PE(t){return 1===t.length?`YTNodes.${t[0]}`:`[ ${t.map(t=>`YTNodes.${t}`).join(", ")} ]`}function RE(t,e){let i=t;for(let t of e)i=i[t];return i}function AE(t,e){let i=t;for(let t of e){if(!Reflect.has(i,t))return!1;i=i[t]}return!0}function ME(t,e,i,s,n){let a={},o=[...i,t];for(let[t,i]of s)a[t]=n?LE(t,i,e,o):void 0;return a}function LE(t,e,i,s=["data"]){let n=!e.optional||AE({data:i},[...s,t]);switch(e.type){case"renderer":return n?MP(RE({data:i},[...s,t]),e.renderers.map(t=>IP(t))):void 0;case"array":switch(e.array_type){case"renderer":return n?DP(RE({data:i},[...s,t]),!0,e.renderers.map(t=>IP(t))):void 0;case"object":return n?RE({data:i},[...s,t]).map((a,o)=>ME(`${o}`,i,[...s,t],e.items.keys,n)):void 0;case"primitive":return n?RE({data:i},[...s,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return ME(t,i,s,e.keys,n);case"misc":switch(e.misc_type){case"NavigationEndpoint":return n?new nr(RE({data:i},[...s,t])):void 0;case"Text":return n?new mr(RE({data:i},[...s,t])):void 0;case"Thumbnail":return n?or.fromResponse(RE({data:i},[...s,t])):void 0;case"Author":return!e.optional||AE({data:i},[...s,e.params[0]])?new qM(RE({data:i},[...s,e.params[0]]),e.params[1]?RE({data:i},[...s,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return RE({data:i},[...s,t])}}function DE(t,e){let i=new Map,s=new Set(t.map(([t])=>t)),n=new Set(e.map(([t])=>t)),a=e.filter(([t])=>!s.has(t)),o=t.filter(([t])=>!n.has(t)),r=t.filter(([t])=>n.has(t)),c=new Map(e);for(let[t,e]of r){let s=c.get(t);if(s){if(e.type!==s.type){i.set(t,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(e.type){case"object":{if("object"!==s.type)continue;let{resolved_key_info:n}=DE(e.keys,s.keys),a={type:"object",keys:n,optional:e.optional||s.optional};JSON.stringify(a)!==JSON.stringify(e)&&i.set(t,a)}break;case"renderer":{if("renderer"!==s.type)continue;let n={type:"renderer",renderers:{...e.renderers,...s.renderers},optional:e.optional||s.optional};JSON.stringify({...n,renderers:Object.keys(n.renderers)})!==JSON.stringify({...e,renderers:Object.keys(e.renderers)})&&i.set(t,n)}break;case"array":if("array"!==s.type)continue;switch(e.array_type){case"renderer":{if("renderer"!==s.array_type){i.set(t,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let n={type:"array",array_type:"renderer",renderers:{...e.renderers,...s.renderers},optional:e.optional||s.optional};JSON.stringify({...n,renderers:Object.keys(n.renderers)})!==JSON.stringify({...e,renderers:Object.keys(e.renderers)})&&i.set(t,n)}break;case"object":{if("primitive"===s.array_type&&1==s.items.typeof.length&&"never"===s.items.typeof[0])continue;if("object"!==s.array_type){i.set(t,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:n}=DE(e.items.keys,s.items.keys),a={type:"array",array_type:"object",items:{type:"object",keys:n,optional:e.items.optional||s.items.optional},optional:e.optional||s.optional};JSON.stringify(a)!==JSON.stringify(e)&&i.set(t,a)}break;case"primitive":{if(e.items.typeof.includes("never")&&"object"===s.array_type){i.set(t,s);continue}if("primitive"!==s.array_type){i.set(t,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let n=new Set([...s.items.typeof,...e.items.typeof]);n.size>1&&n.has("never")&&n.delete("never");let a={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(n),optional:e.items.optional||s.items.optional},optional:e.optional||s.optional};JSON.stringify(a)!==JSON.stringify(e)&&i.set(t,a)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"misc":if("misc"!==s.type)continue;switch(e.misc_type!==s.misc_type&&i.set(t,{type:"primitive",typeof:["unknown"],optional:!0}),e.misc_type){case"Author":{if("Author"!==s.misc_type)break;let n=e.params[1]||s.params[1],a={type:"misc",misc_type:"Author",optional:e.optional||s.optional,params:[s.params[0],n]};JSON.stringify(a)!==JSON.stringify(e)&&i.set(t,a)}}break;case"primitive":{if("primitive"!==s.type)continue;let n={type:"primitive",typeof:Array.from(new Set([...s.typeof,...e.typeof])),optional:e.optional||s.optional};JSON.stringify(n)!==JSON.stringify(e)&&i.set(t,n)}}}}for(let[t,e]of a)i.set(t,{...e,optional:!0});for(let[t,e]of o)i.set(t,{...e,optional:!0});let l=t.filter(([t])=>!i.has(t));return{resolved_key_info:[...new Map([...l,...i]).entries()],changed_keys:[...i.entries()]}}n(dE,"camelToSnake"),n(uE,"inferType"),n(pE,"isRendererList"),n(mE,"isMiscType"),n(_E,"isRenderer"),n(fE,"isArrayType"),n(yE,"introspectKeysFirstPass"),n(bE,"introspectKeysSecondPass"),n(gE,"introspect2"),n(vE,"introspect"),n(wE,"isIgnoredKey"),n(xE,"createRuntimeClass"),n(kE,"generateRuntimeClass"),n(SE,"generateTypescriptClass"),n(CE,"toTypeDeclarationObject"),n(TE,"toTypeDeclaration"),n(IE,"toParserObject"),n(EE,"toParser"),n(PE,"toParserValidTypes"),n(RE,"accessDataFromKeyPath"),n(AE,"hasDataFromKeyPath"),n(ME,"parseObject"),n(LE,"parse"),n(DE,"mergeKeyInfo");var NE=class extends ys{constructor(t){super(),o(this,"contents"),o(this,"continuation"),this.contents=LP(t.contents),Array.isArray(t.continuations)&&(this.continuation=t.continuations?.at(0)?.nextContinuationData?.continuation)}};n(NE,"ItemSectionContinuation"),o(NE,"type","itemSectionContinuation");var BE=NE,VE=class extends ys{constructor(t){super(),o(this,"endpoint"),this.endpoint=new nr(t.endpoint)}};n(VE,"NavigateAction"),o(VE,"type","navigateAction");var OE=VE,UE=class extends ys{constructor(t){super(),o(this,"miniplayer_command"),o(this,"show_premium_branding"),this.miniplayer_command=new nr(t.miniplayerCommand),this.show_premium_branding=t.showPremiumBranding}};n(UE,"ShowMiniplayerCommand"),o(UE,"type","showMiniplayerCommand");var FE=UE,HE=class extends ys{constructor(t){super(),o(this,"target_id"),o(this,"contents"),o(this,"slot"),this.target_id=t.targetId,this.contents=DP(t.continuationItems,!0),this.slot=t?.slot}};n(HE,"ReloadContinuationItemsCommand"),o(HE,"type","reloadContinuationItemsCommand");var WE=HE,jE=class extends ys{constructor(t){super(),o(this,"continuation"),o(this,"contents"),this.contents=DP(t.contents,!0),this.continuation=t.continuations?.[0]?.nextContinuationData?.continuation||t.continuations?.[0]?.reloadContinuationData?.continuation||null}};n(jE,"SectionListContinuation"),o(jE,"type","sectionListContinuation");var GE=jE,$E=class extends ys{constructor(t){super(),o(this,"continuation"),o(this,"contents"),this.contents=DP(t.contents,!0),this.continuation=t.continuations?.[0].nextContinuationData.continuation||null}};n($E,"MusicPlaylistShelfContinuation"),o($E,"type","musicPlaylistShelfContinuation");var qE=$E,KE=class extends ys{constructor(t){super(),o(this,"continuation"),o(this,"contents"),this.contents=LP(t.contents),this.continuation=t.continuations?.[0].nextContinuationData?.continuation||t.continuations?.[0].reloadContinuationData?.continuation||null}};n(KE,"MusicShelfContinuation"),o(KE,"type","musicShelfContinuation");var YE=KE,zE=class extends ys{constructor(t){super(),o(this,"continuation"),o(this,"items"),this.items=DP(t.items,!0),this.continuation=t.continuations?.[0].nextContinuationData.continuation||null}get contents(){return this.items}};n(zE,"GridContinuation"),o(zE,"type","gridContinuation");var QE=zE,XE=class extends ys{constructor(t){super(),o(this,"continuation"),o(this,"contents"),this.contents=LP(t.contents),this.continuation=t.continuations?.[0]?.nextContinuationData?.continuation||t.continuations?.[0]?.nextRadioContinuationData?.continuation||null}};n(XE,"PlaylistPanelContinuation"),o(XE,"type","playlistPanelContinuation");var JE=XE,ZE=class extends ys{constructor(t){super(),o(this,"continuation_type"),o(this,"timeout_ms"),o(this,"time_until_last_message_ms"),o(this,"token"),this.continuation_type=t.type,this.timeout_ms=t.continuation?.timeoutMs,this.time_until_last_message_ms=t.continuation?.timeUntilLastMessageMsec,this.token=t.continuation?.continuation}};n(ZE,"Continuation"),o(ZE,"type","continuation");var tP=ZE,eP=class extends ys{constructor(t){let e,i;super(),o(this,"actions"),o(this,"action_panel"),o(this,"item_list"),o(this,"header"),o(this,"participants_list"),o(this,"popout_message"),o(this,"emojis"),o(this,"continuation"),o(this,"viewer_name"),this.actions=DP(t.actions?.map(t=>(delete t.clickTrackingParams,t)),!0)||ks([]),this.action_panel=MP(t.actionPanel),this.item_list=MP(t.itemList,Mv),this.header=MP(t.header,Rv),this.participants_list=MP(t.participantsList,Ov),this.popout_message=MP(t.popoutMessage,vm),this.emojis=t.emojis?.map(t=>({emoji_id:t.emojiId,shortcuts:t.shortcuts,search_terms:t.searchTerms,image:or.fromResponse(t.image),is_custom_emoji:t.isCustomEmoji}))||[],t.continuations?.[0].timedContinuationData?(i="timed",e=t.continuations?.[0].timedContinuationData):t.continuations?.[0].invalidationContinuationData?(i="invalidation",e=t.continuations?.[0].invalidationContinuationData):t.continuations?.[0].liveChatReplayContinuationData&&(i="replay",e=t.continuations?.[0].liveChatReplayContinuationData),this.continuation=new tP({continuation:e,type:i}),this.viewer_name=t.viewerName}};n(eP,"LiveChatContinuation"),o(eP,"type","liveChatContinuation");var iP=eP,sP=class extends ys{constructor(t){super(),o(this,"request"),o(this,"token"),this.request=t.request,this.token=t.token}};n(sP,"ContinuationCommand"),o(sP,"type","ContinuationCommand");var nP=sP;function aP(){return{key:void 0,value:void 0}}n(aP,"createBaseKeyValuePair");var oP={encode:(t,e=new ba)=>(void 0!==t.key&&e.uint32(10).string(t.key),void 0!==t.value&&e.uint32(18).string(t.value),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={key:void 0,value:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.key=i.string();continue;case 2:if(18!==t)break;n.value=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function rP(){return{xtags:[]}}n(rP,"createBaseFormatXTags");var cP,lP={encode(t,e=new ba){for(let i of t.xtags)oP.encode(i,e.uint32(10).fork()).join();return e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={xtags:[]};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.xtags.push(oP.decode(i,i.uint32()));continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}},hP=class{constructor(t,e){if(l(this,cP),o(this,"itag"),o(this,"url"),o(this,"width"),o(this,"height"),o(this,"last_modified"),o(this,"last_modified_ms"),o(this,"content_length"),o(this,"quality"),o(this,"xtags"),o(this,"drm_families"),o(this,"fps"),o(this,"quality_label"),o(this,"projection_type"),o(this,"average_bitrate"),o(this,"bitrate"),o(this,"spatial_audio_type"),o(this,"target_duration_dec"),o(this,"fair_play_key_uri"),o(this,"stereo_layout"),o(this,"max_dvr_duration_sec"),o(this,"high_replication"),o(this,"audio_quality"),o(this,"approx_duration_ms"),o(this,"audio_sample_rate"),o(this,"audio_channels"),o(this,"loudness_db"),o(this,"signature_cipher"),o(this,"is_drc"),o(this,"drm_track_type"),o(this,"distinct_params"),o(this,"track_absolute_loudness_lkfs"),o(this,"mime_type"),o(this,"is_type_otf"),o(this,"init_range"),o(this,"index_range"),o(this,"cipher"),o(this,"audio_track"),o(this,"has_audio"),o(this,"has_video"),o(this,"has_text"),o(this,"language"),o(this,"is_dubbed"),o(this,"is_auto_dubbed"),o(this,"is_descriptive"),o(this,"is_secondary"),o(this,"is_original"),o(this,"color_info"),o(this,"caption_track"),e&&h(this,cP,e),this.itag=t.itag,this.mime_type=t.mimeType,this.is_type_otf="FORMAT_STREAM_TYPE_OTF"===t.type,this.bitrate=t.bitrate,this.average_bitrate=t.averageBitrate,Reflect.has(t,"width")&&Reflect.has(t,"height")&&(this.width=parseInt(t.width),this.height=parseInt(t.height)),Reflect.has(t,"projectionType")&&(this.projection_type=t.projectionType),Reflect.has(t,"stereoLayout")&&(this.stereo_layout=t.stereoLayout?.replace("STEREO_LAYOUT_","")),Reflect.has(t,"initRange")&&(this.init_range={start:parseInt(t.initRange.start),end:parseInt(t.initRange.end)}),Reflect.has(t,"indexRange")&&(this.index_range={start:parseInt(t.indexRange.start),end:parseInt(t.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(t.lastModified)/1e3)),this.last_modified_ms=t.lastModified,Reflect.has(t,"contentLength")&&(this.content_length=parseInt(t.contentLength)),Reflect.has(t,"quality")&&(this.quality=t.quality),Reflect.has(t,"qualityLabel")&&(this.quality_label=t.qualityLabel),Reflect.has(t,"fps")&&(this.fps=t.fps),Reflect.has(t,"url")&&(this.url=t.url),Reflect.has(t,"cipher")&&(this.cipher=t.cipher),Reflect.has(t,"signatureCipher")&&(this.signature_cipher=t.signatureCipher),Reflect.has(t,"audioQuality")&&(this.audio_quality=t.audioQuality),this.approx_duration_ms=parseInt(t.approxDurationMs),Reflect.has(t,"audioSampleRate")&&(this.audio_sample_rate=parseInt(t.audioSampleRate)),Reflect.has(t,"audioChannels")&&(this.audio_channels=t.audioChannels),Reflect.has(t,"loudnessDb")&&(this.loudness_db=t.loudnessDb),Reflect.has(t,"spatialAudioType")&&(this.spatial_audio_type=t.spatialAudioType?.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(t,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=t.maxDvrDurationSec),Reflect.has(t,"targetDurationSec")&&(this.target_duration_dec=t.targetDurationSec),this.has_audio=!!t.audioBitrate||!!t.audioQuality,this.has_video=!!t.qualityLabel,this.has_text=!!t.captionTrack,Reflect.has(t,"xtags")&&(this.xtags=t.xtags),Reflect.has(t,"fairPlayKeyUri")&&(this.fair_play_key_uri=t.fairPlayKeyUri),Reflect.has(t,"drmFamilies")&&(this.drm_families=t.drmFamilies),Reflect.has(t,"drmTrackType")&&(this.drm_track_type=t.drmTrackType),Reflect.has(t,"distinctParams")&&(this.distinct_params=t.distinctParams),Reflect.has(t,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=t.trackAbsoluteLoudnessLkfs),Reflect.has(t,"highReplication")&&(this.high_replication=t.highReplication),Reflect.has(t,"colorInfo")&&(this.color_info={primaries:t.colorInfo.primaries?.replace("COLOR_PRIMARIES_",""),transfer_characteristics:t.colorInfo.transferCharacteristics?.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:t.colorInfo.matrixCoefficients?.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(t,"audioTrack")&&(this.audio_track={audio_is_default:t.audioTrack.audioIsDefault,display_name:t.audioTrack.displayName,id:t.audioTrack.id}),Reflect.has(t,"captionTrack")&&(this.caption_track={display_name:t.captionTrack.displayName,vss_id:t.captionTrack.vssId,language_code:t.captionTrack.languageCode,kind:t.captionTrack.kind,id:t.captionTrack.id}),this.has_audio||this.has_text){let e=this.xtags?lP.decode(kL(decodeURIComponent(this.xtags).replace(/-/g,"+").replace(/_/g,"/"))).xtags:[];if(this.language=e.find(t=>"lang"===t.key)?.value||null,this.has_audio){this.is_drc=!!t.isDrc||e.some(t=>"drc"===t.key&&"1"===t.value);let i=e.find(t=>"acont"===t.key)?.value;this.is_dubbed="dubbed"===i,this.is_descriptive="descriptive"===i,this.is_secondary="secondary"===i,this.is_auto_dubbed="dubbed-auto"===i,this.is_original="original"===i||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(t){return t?t.decipher(this.url,this.signature_cipher,this.cipher,c(this,cP)):this.url||""}};cP=new WeakMap,n(hP,"Format");var dP=hP,uP=class{constructor(t){o(this,"id"),o(this,"channel_id"),o(this,"title"),o(this,"duration"),o(this,"keywords"),o(this,"is_owner_viewing"),o(this,"short_description"),o(this,"thumbnail"),o(this,"allow_ratings"),o(this,"view_count"),o(this,"author"),o(this,"is_private"),o(this,"is_live"),o(this,"is_live_content"),o(this,"is_live_dvr_enabled"),o(this,"is_upcoming"),o(this,"is_crawlable"),o(this,"is_post_live_dvr"),o(this,"is_low_latency_live_stream"),o(this,"live_chunk_readahead"),this.id=t.videoId,this.channel_id=t.channelId,this.title=t.title,this.duration=parseInt(t.lengthSeconds),this.keywords=t.keywords,this.is_owner_viewing=!!t.isOwnerViewing,this.short_description=t.shortDescription,this.thumbnail=or.fromResponse(t.thumbnail),this.allow_ratings=!!t.allowRatings,this.view_count=parseInt(t.viewCount),this.author=t.author,this.is_private=!!t.isPrivate,this.is_live=!!t.isLive,this.is_live_content=!!t.isLiveContent,this.is_live_dvr_enabled=!!t.isLiveDvrEnabled,this.is_low_latency_live_stream=!!t.isLowLatencyLiveStream,this.is_upcoming=!!t.isUpcoming,this.is_post_live_dvr=!!t.isPostLiveDvr,this.is_crawlable=!!t.isCrawlable,this.live_chunk_readahead=t.liveChunkReadahead}};n(uP,"VideoDetails");var pP=uP,mP="Parser",_P=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),fP=new Map(Object.entries(Us)),yP=new Map,bP=null,gP=n(({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&Zi.warn(mP,new XM(`Something went wrong at ${t}!\nThis is a bug, please report it at ${tn.bugs.url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":Zi.warn(mP,new ZM(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":Zi.warn(mP,new XM(`Mutation data required for processing ${t}, but none found.\nThis is a bug, please report it at ${tn.bugs.url}`));break;case"mutation_data_invalid":Zi.warn(mP,new XM(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.\nThis is a bug, please report it at ${tn.bugs.url}`));break;case"class_not_found":Zi.warn(mP,new XM(`${t} not found!\nThis is a bug, want to help us fix it? Follow the instructions at ${tn.homepage.split("#",1)[0]}/blob/main/docs/updating-the-parser.md or report it at ${tn.bugs.url}!\nIntrospected and JIT generated this class in the meantime:\n${SE(t,e.key_info)}`));break;case"class_changed":Zi.warn(mP,`${t} changed!\nThe following keys where altered: ${e.changed_keys.map(([t])=>dE(t)).join(", ")}\nThe class has changed to:\n${SE(t,e.key_info)}`);break;default:Zi.warn(mP,"Unreachable code reached at ParserErrorHandler")}},"ERROR_HANDLER");function vP(t){gP=t}function wP(){bP=null}function xP(){bP=new Cs}function kP(t,e){if(!bP)return;let i=bP.get(t);if(!i)return bP.set(t,[e]);i.push(e)}function SP(){if(!bP)throw new Error("Parser#getMemo() called before Parser#createMemo()");return bP}function CP(t){return _P.has(t)}function TP(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}function IP(t){let e=fP.get(t);if(!e){let e=new Error(`Module not found: ${t}`);throw e.code="MODULE_NOT_FOUND",e}return e}function EP(t){return fP.has(t)}function PP(t,e){fP.set(t,e),yP.set(t,e)}function RP(){return Object.fromEntries(yP)}function AP(t){let e={};xP();let i=DP(t.contents),s=SP();i&&(e.contents=i,e.contents_memo=s),wP(),xP();let n=t.onResponseReceivedActions?WP(t.onResponseReceivedActions):null,a=SP();n&&(e.on_response_received_actions=n,e.on_response_received_actions_memo=a),wP(),xP();let o=t.onResponseReceivedEndpoints?WP(t.onResponseReceivedEndpoints):null,r=SP();o&&(e.on_response_received_endpoints=o,e.on_response_received_endpoints_memo=r),wP(),xP();let c=t.onResponseReceivedCommands?WP(t.onResponseReceivedCommands):null,l=SP();c&&(e.on_response_received_commands=c,e.on_response_received_commands_memo=l),wP(),xP();let h=t.continuationContents?HP(t.continuationContents):null,d=SP();h&&(e.continuation_contents=h,e.continuation_contents_memo=d),wP(),xP();let u=t.actions?jP(t.actions):null,p=SP();u&&(e.actions=u,e.actions_memo=p),wP(),xP();let m=t.liveChatItemContextMenuSupportedRenderers?MP(t.liveChatItemContextMenuSupportedRenderers):null,_=SP();m&&(e.live_chat_item_context_menu_supported_renderers=m,e.live_chat_item_context_menu_supported_renderers_memo=_),wP(),xP();let f=t.header?DP(t.header):null,y=SP();f&&(e.header=f,e.header_memo=y),wP(),xP();let b=t.sidebar?MP(t.sidebar):null,g=SP();b&&(e.sidebar=b,e.sidebar_memo=g),wP(),xP();let v=DP(t.items);v&&(e.items=v,e.items_memo=SP()),wP(),$P(s,t.frameworkUpdates?.entityBatchUpdate?.mutations),r&&qP(r,t.frameworkUpdates?.entityBatchUpdate?.mutations);let w=t.continuation?FP(t.continuation):null;w&&(e.continuation=w);let x=t.continuationEndpoint?HP(t.continuationEndpoint):null;x&&(e.continuation_endpoint=x);let k=DP(t.metadata);k&&(e.metadata=k);let S=MP(t.microformat);S&&(e.microformat=S);let C=MP(t.overlay);C&&(e.overlay=C);let T=LP(t.alerts,[Tc,Ec]);T.length&&(e.alerts=T);let I=t.refinements;I&&(e.refinements=I);let E=t.estimatedResults?parseInt(t.estimatedResults):null;E&&(e.estimated_results=E);let P=DP(t.playerOverlays);P&&(e.player_overlays=P);let R=MP(t.background,Ow);R&&(e.background=R);let A=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;A&&(e.playback_tracking=A);let M=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playability:MP(t.playabilityStatus.audioOnlyPlayability,Dc),error_screen:MP(t.playabilityStatus.errorScreen)}:null;if(M&&(e.playability_status=M),t.streamingData){let i=new Map;e.streaming_data={expires:new Date(Date.now()+1e3*parseInt(t.streamingData.expiresInSeconds)),formats:GP(t.streamingData.formats,i),adaptive_formats:GP(t.streamingData.adaptiveFormats,i),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl}}t.playerConfig&&(e.player_config={audio_config:{loudness_db:t.playerConfig.audioConfig?.loudnessDb,perceptual_loudness_db:t.playerConfig.audioConfig?.perceptualLoudnessDb,enable_per_format_loudness:t.playerConfig.audioConfig?.enablePerFormatLoudness},stream_selection_config:{max_bitrate:t.playerConfig.streamSelectionConfig?.maxBitrate||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:t.playerConfig.mediaCommonConfig?.dynamicReadaheadConfig?.maxReadAheadMediaTimeMs||0,min_read_ahead_media_time_ms:t.playerConfig.mediaCommonConfig?.dynamicReadaheadConfig?.minReadAheadMediaTimeMs||0,read_ahead_growth_rate_ms:t.playerConfig.mediaCommonConfig?.dynamicReadaheadConfig?.readAheadGrowthRateMs||0},media_ustreamer_request_config:{video_playback_ustreamer_config:t.playerConfig.mediaCommonConfig?.mediaUstreamerRequestConfig?.videoPlaybackUstreamerConfig}}});let L=t.currentVideoEndpoint?new nr(t.currentVideoEndpoint):null;L&&(e.current_video_endpoint=L);let D=t.endpoint?new nr(t.endpoint):null;D&&(e.endpoint=D);let N=MP(t.captions,Ak);N&&(e.captions=N);let B=t.videoDetails?new pP(t.videoDetails):null;B&&(e.video_details=B);let V=LP(t.annotations,Pk);V.length&&(e.annotations=V);let O=MP(t.storyboards,[Zs,$k]);O&&(e.storyboards=O);let U=MP(t.endscreen,Qf);U&&(e.endscreen=U);let F=MP(t.cards,Fd);F&&(e.cards=F);let H=LP(t.engagementPanels,Td);if(H.length&&(e.engagement_panels=H),t.bgChallenge){let i={private_do_not_access_or_else_trusted_resource_url_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue,private_do_not_access_or_else_safe_script_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseSafeScriptWrappedValue};e.bg_challenge={interpreter_url:i,interpreter_hash:t.bgChallenge.interpreterHash,program:t.bgChallenge.program,global_name:t.bgChallenge.globalName,client_experiments_state_blob:t.bgChallenge.clientExperimentsStateBlob}}return t.challenge&&(e.challenge=t.challenge),t.playerResponse&&(e.player_response=AP(t.playerResponse)),t.watchNextResponse&&(e.watch_next_response=AP(t.watchNextResponse)),t.cpnInfo&&(e.cpn_info={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource}),t.entries&&(e.entries=t.entries.map(t=>new nr(t))),t.targetId&&(e.target_id=t.targetId),e}function MP(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let s=TP(i[0]);if(!CP(s))try{let n=EP(s)?IP(s):kE(s,t[i[0]],gP);if(e)if(Array.isArray(e)){if(!e.some(t=>t.type===n.type))return gP({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.map(t=>t.type)}),null}else if(n.type!==e.type)return gP({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.type}),null;let a=new n(t[i[0]]);return kP(s,a),a}catch(e){return gP({classname:s,classdata:t[i[0]],error:e,error_type:"parse"}),null}return null}function LP(t,e){if(Array.isArray(t)){let i=[];for(let s of t){let t=MP(s,e);t&&i.push(t)}return ks(i)}if(!t)return ks([]);throw new ZM("Expected array but got a single item")}function DP(t,e,i){if(!t)return null;if(Array.isArray(t)){let s=[];for(let e of t){let t=MP(e,i);t&&s.push(t)}let n=ks(s);return e?n:new xs(n)}if(e)throw new ZM("Expected array but got a single item");return new xs(MP(t,i))}n(vP,"setParserErrorHandler"),n(wP,"_clearMemo"),n(xP,"_createMemo"),n(kP,"_addToMemo"),n(SP,"_getMemo"),n(CP,"shouldIgnore"),n(TP,"sanitizeClassName"),n(IP,"getParserByName"),n(EP,"hasParser"),n(PP,"addRuntimeParser"),n(RP,"getDynamicParsers"),n(AP,"parseResponse"),n(MP,"parseItem"),n(LP,"parseArray"),n(DP,"parse");var NP=/Command$/,BP=/Endpoint$/,VP=/Action$/;function OP(t){let e=[];try{e=Object.keys(t)}catch{}for(let i of e){let e=t[i];if(NP.test(i)||BP.test(i)||VP.test(i)){let t=TP(i);if(CP(t))return;try{if(EP(t))return new(IP(t))(e)}catch(i){gP({error:i,classname:t,classdata:e,error_type:"parse"})}}}}function UP(t){if(Array.isArray(t)){let e=[];for(let i of t){let t=OP(i);t&&e.push(t)}return ks(e)}if(!t)return ks([]);throw new ZM("Expected array but got a single item")}function FP(t){return t.timedContinuationData?new tP({continuation:t.timedContinuationData,type:"timed"}):null}function HP(t){return t.itemSectionContinuation?new BE(t.itemSectionContinuation):t.sectionListContinuation?new GE(t.sectionListContinuation):t.liveChatContinuation?new iP(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new qE(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new YE(t.musicShelfContinuation):t.gridContinuation?new QE(t.gridContinuation):t.playlistPanelContinuation?new JE(t.playlistPanelContinuation):t.continuationCommand?new nP(t.continuationCommand):null}function WP(t){return ks(t.map(t=>t.navigateAction?new OE(t.navigateAction):t.showMiniplayerCommand?new FE(t.showMiniplayerCommand):t.reloadContinuationItemsCommand?new WE(t.reloadContinuationItemsCommand):t.appendContinuationItemsAction?new Br(t.appendContinuationItemsAction):t.openPopupAction?new qo(t.openPopupAction):void 0).filter(t=>t))}function jP(t){return Array.isArray(t)?DP(t.map(t=>(delete t.clickTrackingParams,t))):new xs(MP(t))}function GP(t,e){return t?.map(t=>new dP(t,e))||[]}function $P(t,e){let i=t.getType(iw);if(i.length>0&&!e)gP({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let t=[];for(let s of i){let i=e.find(t=>t.payload?.musicFormBooleanChoice?.id===s.form_item_entity_key)?.payload.musicFormBooleanChoice;void 0!==i?.selected&&i?.opaqueToken?s.selected=i.selected:t.push(`'${s.title}'`)}t.length>0&&gP({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:t.length,titles:t})}if(e){let i=e.filter(t=>t.payload?.macroMarkersListEntity&&"MARKER_TYPE_HEATMAP"===t.payload.macroMarkersListEntity.markersList?.markerType);for(let e of i){let i=new Gv(e.payload.macroMarkersListEntity),s=t.get("MacroMarkersListEntity");s?s.push(i):t.set("MacroMarkersListEntity",[i])}}}function qP(t,e){let i=t.getType(Gp);if(i.length>0){e||gP({error_type:"mutation_data_missing",classname:"CommentView"});for(let t of i){let i=e.find(e=>e.payload?.commentEntityPayload?.key===t.keys.comment)?.payload?.commentEntityPayload,s=e.find(e=>e.payload?.engagementToolbarStateEntityPayload?.key===t.keys.toolbar_state)?.payload?.engagementToolbarStateEntityPayload,n=e.find(e=>e.entityKey===t.keys.toolbar_surface)?.payload?.engagementToolbarSurfaceEntityPayload,a=e.find(e=>e.payload?.commentSurfaceEntityPayload?.key===t.keys.comment_surface)?.payload?.commentSurfaceEntityPayload;t.applyMutations(i,s,n,a)}}}n(OP,"parseCommand"),n(UP,"parseCommands"),n(FP,"parseC"),n(HP,"parseLC"),n(WP,"parseRR"),n(jP,"parseActions"),n(GP,"parseFormats"),n($P,"applyMutations"),n(qP,"applyCommentsMutations");a({},{AccountInfo:()=>iR,Channel:()=>gR,ChannelListContinuation:()=>wR,Comments:()=>PR,FilteredChannelList:()=>TR,Guide:()=>AR,HashtagFeed:()=>FR,History:()=>LR,HomeFeed:()=>NR,ItemMenu:()=>GR,Library:()=>QR,LiveChat:()=>xA,NotificationsMenu:()=>SA,Playlist:()=>YR,Search:()=>EA,Settings:()=>AA,SmoothedQueue:()=>bA,TranscriptInfo:()=>VA,VideoInfo:()=>NA});var KP,YP=class{constructor(t){if(l(this,KP),o(this,"contents"),h(this,KP,Os.parseResponse(t.data)),!c(this,KP).contents)throw new XM("Page contents not found");let e=c(this,KP).contents.array().as(Dr)[0];if(!e)throw new XM("Account section list not found");this.contents=e.contents[0]}get page(){return c(this,KP)}};KP=new WeakMap,n(YP,"AccountInfo");var zP,QP,XP,JP,ZP,tR,eR,iR=YP,sR=class t{constructor(t,e,i=!1){l(this,ZP),l(this,zP),l(this,QP),l(this,XP),l(this,JP),d(this,ZP,tR).call(this,e)||i?h(this,zP,e):h(this,zP,Os.parseResponse(e.data));let s=yL(c(this,zP).contents_memo,c(this,zP).continuation_contents_memo,c(this,zP).on_response_received_commands_memo,c(this,zP).on_response_received_endpoints_memo,c(this,zP).on_response_received_actions_memo,c(this,zP).sidebar_memo,c(this,zP).header_memo);if(!s)throw new XM("No memo found in feed");h(this,XP,s),h(this,QP,t)}static getVideosFromMemo(t){return t.getType(Bh,Oy,$S,ZC,od,yS,Ux,HI)}static getPlaylistsFromMemo(t){let e=t.getType(nm,Ey),i=t.getType(Wv).filter(t=>["PLAYLIST","ALBUM","PODCAST"].includes(t.content_type));return i.length>0&&e.push(...i),e}get videos(){return t.getVideosFromMemo(c(this,XP))}get posts(){return c(this,XP).getType(Tl,kS,jC)}get channels(){return c(this,XP).getType(Jd,vy)}get playlists(){return t.getPlaylistsFromMemo(c(this,XP))}get memo(){return c(this,XP)}get page_contents(){let t=c(this,XP).getType(dT)?.[0].content,e=c(this,XP).getType(WE)[0],i=c(this,XP).getType(Br)[0];return t||e||i}get shelves(){return c(this,XP).getType(XC,dC,xd)}getShelf(t){return this.shelves.find(e=>e.title.toString()===t)}get secondary_contents(){if(!c(this,zP).contents?.is_node)return null;let t=c(this,zP).contents?.item();return t.is(dI,_I)?t.secondary_contents:null}get actions(){return c(this,QP)}get page(){return c(this,zP)}get has_continuation(){return d(this,ZP,eR).call(this).length>0}async getContinuationData(){if(c(this,JP)){if(0===c(this,JP).length)throw new XM("There are no continuations.");return await c(this,JP)[0].endpoint.call(c(this,QP),{parse:!0})}if(h(this,JP,d(this,ZP,eR).call(this)),c(this,JP))return this.getContinuationData()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new XM("Could not get continuation data");return new t(this.actions,e,!0)}};zP=new WeakMap,QP=new WeakMap,XP=new WeakMap,JP=new WeakMap,ZP=new WeakSet,tR=n(function(t){return!("data"in t)},"#isParsed"),eR=n(function(){if(c(this,zP).header_memo){let t=c(this,zP).header_memo.getType(ch);return c(this,XP).getType(ch).filter(e=>!t.includes(e))}return c(this,XP).getType(ch)},"#getBodyContinuations"),n(sR,"Feed");var nR,aR=sR,oR=class extends aR{constructor(t,e,i=!1){super(t,e,i),l(this,nR)}get filter_chips(){if(c(this,nR))return c(this,nR)||[];if(this.memo.getType(hy)?.length>1)throw new XM("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(0===this.memo.getType(hy)?.length)throw new XM("There are no feed filter chipbars");return h(this,nR,this.memo.getType(Ru)),c(this,nR)||[]}get filters(){return this.filter_chips.map(t=>t.text.toString())||[]}async getFilteredFeed(t){let e;if("string"==typeof t){if(!this.filters.includes(t))throw new XM("Filter not found",{available_filters:this.filters});e=this.filter_chips.find(e=>e.text.toString()===t)}else{if("ChipCloudChip"!==t.type)throw new XM("Invalid filter");e=t}if(!e)throw new XM("Filter not found");if(e.is_selected)return this;let i=await(e.endpoint?.call(this.actions,{parse:!0}));if(!i)throw new XM("Failed to get filtered feed");return new aR(this.actions,i,!0)}};nR=new WeakMap,n(oR,"FilterableFeed");var rR=oR;a({},{Feed:()=>aR,FilterableFeed:()=>rR,MediaInfo:()=>_R,TabbedFeed:()=>yR});var cR,lR,hR,dR,uR=class{constructor(t,e,i){l(this,cR),l(this,lR),l(this,hR),l(this,dR),o(this,"basic_info"),o(this,"annotations"),o(this,"storyboards"),o(this,"endscreen"),o(this,"captions"),o(this,"cards"),o(this,"streaming_data"),o(this,"playability_status"),o(this,"player_config"),h(this,lR,e);let s=Os.parseResponse(t[0].data.playerResponse?t[0].data.playerResponse:t[0].data),n=t[1]?.data?Os.parseResponse(t[1].data):void 0;if(h(this,cR,[s,n]),h(this,hR,i),"ERROR"===s.playability_status?.status)throw new XM("This video is unavailable",s.playability_status);if(s.microformat&&!s.microformat?.is(Kk,vw))throw new XM("Unsupported microformat",s.microformat);this.basic_info={...s.video_details,embed:s.microformat?.is(Kk)?s.microformat?.embed:null,channel:s.microformat?.is(Kk)?s.microformat?.channel:null,is_unlisted:s.microformat?.is_unlisted,is_family_safe:s.microformat?.is_family_safe,category:s.microformat?.is(Kk)?s.microformat?.category:null,has_ypc_metadata:s.microformat?.is(Kk)?s.microformat?.has_ypc_metadata:null,start_timestamp:s.microformat?.is(Kk)?s.microformat.start_timestamp:null,end_timestamp:s.microformat?.is(Kk)?s.microformat.end_timestamp:null,view_count:s.microformat?.is(Kk)&&isNaN(s.video_details?.view_count)?s.microformat.view_count:s.video_details?.view_count,url_canonical:s.microformat?.is(vw)?s.microformat?.url_canonical:null,tags:s.microformat?.is(vw)?s.microformat?.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=s.annotations,this.storyboards=s.storyboards,this.endscreen=s.endscreen,this.captions=s.captions,this.cards=s.cards,this.streaming_data=s.streaming_data,this.playability_status=s.playability_status,this.player_config=s.player_config,h(this,dR,s.playback_tracking)}async toDash(t={}){let e,i,s=c(this,cR)[0],n=t.manifest_options||{};if(s.video_details&&s.video_details.is_live)throw new XM("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");return n.include_thumbnails&&s.storyboards&&(e=s.storyboards),"string"==typeof n.captions_format&&s.captions?.caption_tracks&&(i=s.captions.caption_tracks),Gs.toDash(this.streaming_data,this.page[0].video_details?.is_post_live_dvr,t.url_transformer,t.format_filter,c(this,hR),c(this,lR).session.player,c(this,lR),e,i,n)}getStreamingInfo(t,e){return Tn(this.streaming_data,this.page[0].video_details?.is_post_live_dvr,t,e,this.cpn,c(this,lR).session.player,c(this,lR),c(this,cR)[0].storyboards?c(this,cR)[0].storyboards:void 0)}chooseFormat(t){return Gs.chooseFormat(t,this.streaming_data)}async download(t={}){let e=c(this,cR)[0];if(e.video_details&&(e.video_details.is_live||e.video_details.is_post_live_dvr))throw new XM("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Gs.download(t,c(this,lR),this.playability_status,this.streaming_data,c(this,lR).session.player,this.cpn)}async getTranscript(){let t=this.page[1];if(!t)throw new XM("Cannot get transcript from basic video info.");if(!t.engagement_panels)throw new XM("Engagement panels not found. Video likely has no transcript.");let e=t.engagement_panels.find(t=>"engagement-panel-searchable-transcript"===t.panel_identifier);if(!e)throw new XM("Transcript panel not found. Video likely has no transcript.");let i=e.content?.as(ch);if(!i)throw new XM("Transcript continuation not found.");let s=await i.endpoint.call(this.actions);return new VA(this.actions,s)}async addToWatchHistory(t,e,i="https://www."){if(!c(this,dR))throw new XM("Playback tracking not available");let s={cpn:c(this,hR),fmt:251,rtn:0,rt:0},n=c(this,dR).videostats_playback_url.replace("https://s.",i);return await c(this,lR).stats(n,{client_name:t||Rs.CLIENTS.WEB.NAME,client_version:e||Rs.CLIENTS.WEB.VERSION},s)}async updateWatchTime(t,e=Rs.CLIENTS.WEB.NAME,i=Rs.CLIENTS.WEB.VERSION,s="https://www."){if(!c(this,dR))throw new XM("Playback tracking not available");let n={cpn:c(this,hR),st:t.toFixed(3),et:t.toFixed(3),cmt:t.toFixed(3),final:"1"},a=c(this,dR).videostats_watchtime_url.replace("https://s.",s);return await c(this,lR).stats(a,{client_name:e,client_version:i},n)}get actions(){return c(this,lR)}get cpn(){return c(this,hR)}get page(){return c(this,cR)}};cR=new WeakMap,lR=new WeakMap,hR=new WeakMap,dR=new WeakMap,n(uR,"MediaInfo");var pR,mR,_R=uR,fR=class t extends aR{constructor(t,e,i=!1){super(t,e,i),l(this,pR),l(this,mR),h(this,pR,t),h(this,mR,this.page.contents_memo?.getType(dT))}get tabs(){return c(this,mR)?.map(t=>t.title.toString())??[]}async getTabByName(e){let i=c(this,mR)?.find(t=>t.title.toLowerCase()===e.toLowerCase());if(!i)throw new XM(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(c(this,pR));return new t(c(this,pR),s,!1)}async getTabByURL(e){let i=c(this,mR)?.find(t=>t.endpoint.metadata.url?.split("/").pop()===e);if(!i)throw new XM(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(c(this,pR));return new t(c(this,pR),s,!1)}hasTabWithURL(t){return c(this,mR)?.some(e=>e.endpoint.metadata.url?.split("/").pop()===t)??!1}get title(){return this.page.contents_memo?.getType(dT)?.find(t=>t.selected)?.title.toString()}};pR=new WeakMap,mR=new WeakMap,n(fR,"TabbedFeed");var yR=fR,bR=class t extends yR{constructor(t,e,i=!1){super(t,e,i),o(this,"header"),o(this,"metadata"),o(this,"subscribe_button"),o(this,"current_tab"),this.header=this.page.header?.item()?.as(Dd,Wd,Sb,kk);let s=this.page.metadata?.item().as(ou),n=this.page.microformat?.as(vw);if(this.page.alerts){let t=this.page.alerts[0];if("ERROR"===t?.alert_type)throw new lL(t.text.toString())}if(!s&&!this.page.contents)throw new XM("Invalid channel",this);this.metadata={...s,...n||{}},this.subscribe_button=this.page.header_memo?.getType(Md)[0],this.page.contents&&(this.current_tab=this.page.contents.item().as(dI).tabs.find(t=>t.selected))}async applyFilter(t){let e,i=this.memo.getType(hy)[0];if("string"==typeof t){if(e=i?.contents.find(e=>e.text===t),!e)throw new XM(`Filter ${t} not found`,{available_filters:this.filters})}else e=t;if(!e.endpoint)throw new XM("Invalid filter",t);let s=await e.endpoint.call(this.actions,{parse:!0});if(!s)throw new XM("No page returned",{filter:e});return new TR(this.actions,s,!0)}async applySort(e){let i=this.memo.getType(Jr)[0];if(!i||!i.sub_menu_items)throw new XM("No sort filter sub menu found");let s=i.sub_menu_items.find(t=>t.title===e);if(!s)throw new XM(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let n=await s.endpoint.call(this.actions,{parse:!0});return new t(this.actions,n,!0)}async applyContentTypeFilter(e){let i=this.current_tab?.content?.as(vh).sub_menu?.as(mu);if(!i)throw new XM("Sub menu not found");let s=i.content_type_sub_menu_items.find(t=>t.title===e);if(!s)throw new XM(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(s.selected)return this;let n=await s.endpoint.call(this.actions,{parse:!0});return new t(this.actions,n,!0)}get filters(){return this.memo.getType(hy)?.[0]?.contents.filterType(Ru).map(t=>t.text)||[]}get sort_filters(){return this.memo.getType(Jr)[0]?.sub_menu_items?.map(t=>t.title)||[]}get content_type_filters(){return this.current_tab?.content?.as(vh).sub_menu?.as(mu)?.content_type_sub_menu_items.map(t=>t.title)||[]}async getHome(){let e=await this.getTabByURL("featured");return new t(this.actions,e.page,!0)}async getVideos(){let e=await this.getTabByURL("videos");return new t(this.actions,e.page,!0)}async getShorts(){let e=await this.getTabByURL("shorts");return new t(this.actions,e.page,!0)}async getLiveStreams(){let e=await this.getTabByURL("streams");return new t(this.actions,e.page,!0)}async getReleases(){let e=await this.getTabByURL("releases");return new t(this.actions,e.page,!0)}async getPodcasts(){let e=await this.getTabByURL("podcasts");return new t(this.actions,e.page,!0)}async getCourses(){let e=await this.getTabByURL("courses");return new t(this.actions,e.page,!0)}async getPlaylists(){let e=await this.getTabByURL("playlists");return new t(this.actions,e.page,!0)}async getCommunity(){let e=await this.getTabByURL("posts");return new t(this.actions,e.page,!0)}async getAbout(){if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(tu)[0];let t=this.header?.is(Dd)&&this.header.tagline;if(t||this.header?.is(kk)&&this.header.content?.description){if(t&&t.more_endpoint instanceof nr){let e=await t.more_endpoint.call(this.actions);return new yR(this.actions,e,!1).memo.getType(tu)[0]}let e=this.page.header_memo?.getType(ch)[0]?.endpoint;if(!e)throw new XM("Failed to extract continuation to get channel about");let i=await e.call(this.actions,{parse:!0});if(!i.on_response_received_endpoints_memo)throw new XM("Unexpected response while fetching channel about",{response:i});return i.on_response_received_endpoints_memo.getType(xr)[0]}throw new XM("About not found")}async search(e){let i=this.memo.getType(ny)?.[0];if(!i)throw new XM("Search tab not found",this);let s=await i.endpoint.call(this.actions,{query:e,parse:!0});return new t(this.actions,s,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_courses(){return this.hasTabWithURL("courses")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("posts")}get has_about(){return this.hasTabWithURL("about")||!(!this.header?.is(Dd)||!this.header.tagline?.more_endpoint)||!(!this.header?.is(kk)||!this.header.content?.description?.more_endpoint)}get has_search(){return this.memo.getType(ny)?.length>0}async getContinuation(){let t=await super.getContinuationData();if(!t)throw new XM("Could not get continuation data");return new wR(this.actions,t,!0)}};n(bR,"Channel");var gR=bR,vR=class t extends aR{constructor(t,e,i=!1){super(t,e,i),o(this,"contents"),this.contents=this.page.on_response_received_actions?.[0]||this.page.on_response_received_endpoints?.[0]}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new XM("Could not get continuation data");return new t(this.actions,e,!0)}};n(vR,"ChannelListContinuation");var wR=vR,xR=class t extends rR{constructor(t,e,i=!1){super(t,e,i),o(this,"applied_filter"),o(this,"contents"),this.applied_filter=this.memo.getType(Ru).find(t=>t.is_selected),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions?.[0]}async applyFilter(e){let i=await super.getFilteredFeed(e);return new t(this.actions,i.page,!0)}async getContinuation(){let e=await super.getContinuationData();if(!e?.on_response_received_actions_memo)throw new XM("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(hy)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Ru)),new t(this.actions,e,!0)}};n(xR,"FilteredChannelList");var kR,SR,CR,TR=xR,IR=class t{constructor(t,e,i=!1){l(this,kR),l(this,SR),l(this,CR),o(this,"header"),o(this,"contents"),h(this,kR,i?e:Os.parseResponse(e)),h(this,SR,t);let s=c(this,kR).on_response_received_endpoints;if(!s)throw new XM("Comments page did not have any content.");let n=s.at(0)?.as(Br,WE),a=s.at(1)?.as(Br,WE);this.header=n?.contents?.firstOfType(Lp);let r=a?.contents?.filterType(qp)||[];this.contents=ks(r.map(t=>(t.comment&&t.comment.setActions(c(this,SR)),t.setActions(c(this,SR)),t))),h(this,CR,a?.contents?.firstOfType(ch))}async applySort(e){if(!this.header)throw new XM("Page header is missing. Cannot apply sort option.");let i;if("TOP_COMMENTS"===e?i=this.header.sort_menu?.sub_menu_items?.at(0):"NEWEST_FIRST"===e&&(i=this.header.sort_menu?.sub_menu_items?.at(1)),!i)throw new XM("Could not find target button.");if(i.selected)return this;let s=await i.endpoint.call(c(this,SR),{parse:!0});return new t(c(this,SR),s,!0)}async createComment(t){if(!this.header)throw new XM("Page header is missing. Cannot create comment.");let e=this.header.create_renderer?.as(Np).submit_button;if(!e)throw new XM("Could not find target button. You are probably not logged in.");if(!e.endpoint)throw new XM("Button does not have an endpoint.");return await e.endpoint.call(c(this,SR),{commentText:t})}async getContinuation(){if(!c(this,CR))throw new XM("Continuation not found");let e=await c(this,CR).endpoint.call(c(this,SR),{parse:!0}),i=Object.assign({},c(this,kR));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new XM("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new t(c(this,SR),i,!0)}get has_continuation(){return!!c(this,CR)}get page(){return c(this,kR)}};kR=new WeakMap,SR=new WeakMap,CR=new WeakMap,n(IR,"Comments");var ER,PR=IR,RR=class{constructor(t){l(this,ER),o(this,"contents"),h(this,ER,Os.parseResponse(t)),c(this,ER).items&&(this.contents=c(this,ER).items.array().as(Yy,Qy))}get page(){return c(this,ER)}};ER=new WeakMap,n(RR,"Guide");var AR=RR,MR=class t extends aR{constructor(t,e,i=!1){super(t,e,i),o(this,"sections"),o(this,"feed_actions"),this.sections=this.memo.getType(Db),this.feed_actions=this.memo.getType(Fl)[0]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new t(this.actions,e,!0)}async removeVideo(t){let e;for(let i of this.sections)for(let s of i.contents){let i=s;if(i.video_id===t&&i.menu){e=i.menu.top_level_buttons[0].as(Yo).endpoint.payload.feedbackToken;break}}if(!e)throw new Error("Failed to get feedback token");let i={feedbackTokens:[e]};if(!(await this.actions.execute("/feedback",i)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}};n(MR,"History");var LR=MR,DR=class t extends rR{constructor(t,e,i=!1){super(t,e,i),o(this,"contents"),o(this,"header"),this.header=this.memo.getType(my)[0],this.contents=this.memo.getType(ZS)[0]||this.page.on_response_received_actions?.[0]}async applyFilter(e){let i=await super.getFilteredFeed(e);return new t(this.actions,i.page,!0)}async getContinuation(){let e=await super.getContinuation();return e.page.header=this.page.header,this.header&&e.page.header_memo?.set(this.header.type,[this.header]),new t(this.actions,e.page,!0)}};n(DR,"HomeFeed");var NR=DR,BR=class t extends rR{constructor(t,e){if(super(t,e),o(this,"header"),o(this,"contents"),!this.page.contents_memo)throw new XM("Unexpected response",this.page);let i=this.page.contents_memo.getType(dT)[0];if(!i.content)throw new XM("Content tab has no content",i);this.page.header&&(this.header=this.page.header.item().as(Jy,kk)),this.contents=i.content.as(ZS)}async applyFilter(e){let i=await super.getFilteredFeed(e);return new t(this.actions,i.page)}};n(BR,"HashtagFeed");var VR,OR,UR,FR=BR,HR=class{constructor(t,e){l(this,VR),l(this,OR),l(this,UR),h(this,VR,t),h(this,OR,e);let i=t?.live_chat_item_context_menu_supported_renderers;if(!i||!i.is(Sl))throw new XM('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');h(this,UR,i.as(Sl).items)}async selectItem(t){let e;if(t instanceof Yo){if(!t.endpoint)throw new XM("Item does not have an endpoint.");e=t.endpoint}else{let i=c(this,UR).find(e=>!!e.is(ul)&&e.as(ul).icon_type===t);if(!i||!i.is(ul))throw new XM(`Button "${t}" not found.`);e=i.endpoint}if(!e)throw new XM("Target button does not have an endpoint.");return await e.call(c(this,OR),{parse:!0})}items(){return c(this,UR)}page(){return c(this,VR)}};VR=new WeakMap,OR=new WeakMap,UR=new WeakMap,n(HR,"ItemMenu");var WR,jR,GR=HR,$R=class t extends aR{constructor(t,e,i=!1){super(t,e,i),l(this,WR),o(this,"info"),o(this,"menu"),o(this,"endpoint"),o(this,"messages");let s=this.memo.getType(sS)[0],n=this.memo.getType(dS)[0],a=this.memo.getType(pS)[0],r=this.memo.getType(gS)[0],c=this.page.alerts?.firstOfType(Tc);if(c&&"ERROR"===c.alert_type)throw new XM(c.text.toString(),c);if(!n&&!a&&0===Object.keys(this.page).length)throw new XM("Got empty continuation response. This is likely the end of the playlist.");this.info={...this.page.metadata?.item().as(rS),subtitle:s?s.subtitle:null,author:a?.owner?.as(LI).author??s?.author,thumbnails:n?.thumbnail_renderer?.as(im,tm).thumbnail,total_items:d(this,WR,jR).call(this,0,n),views:d(this,WR,jR).call(this,1,n),last_updated:d(this,WR,jR).call(this,2,n),can_share:s?.can_share,can_delete:s?.can_delete,can_reorder:r?.can_reorder,is_editable:r?.is_editable,privacy:s?.privacy},this.menu=n?.menu,this.endpoint=n?.endpoint,this.messages=this.memo.getType(vm)}get items(){return ks(this.videos.as(yS,$S,ZC).filter(t=>"PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"!==t.style))}get has_continuation(){let t=this.memo.getType(vh)[0];return t?!!this.memo.getType(ch).find(e=>!t.contents.includes(e)):super.has_continuation}async getContinuationData(){let t=this.memo.getType(vh)[0];if(!t)return await super.getContinuationData();let e=this.memo.getType(ch).find(e=>!t.contents.includes(e));if(!e)throw new XM("There are no continuations.");return await e.endpoint.call(this.actions,{parse:!0})}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new XM("Could not get continuation data");return new t(this.actions,e,!0)}};WR=new WeakSet,jR=n(function(t,e){return e&&e.stats&&e.stats[t]?.toString()||"N/A"},"#getStat"),n($R,"Playlist");var qR,KR,YR=$R,zR=class extends aR{constructor(t,e){if(super(t,e),l(this,qR),o(this,"header"),o(this,"sections"),!this.page.contents_memo)throw new XM("Page contents not found");this.header=this.memo.getType(kk)[0];let i=this.page.contents_memo.getType(XC);this.sections=i.map(t=>({type:t.icon_type,title:t.title,contents:t.content?.key("items").array()||[],getAll:n(()=>d(this,qR,KR).call(this,t),"getAll")}))}get history(){return this.sections.find(t=>"WATCH_HISTORY"===t.type)}get watch_later(){return this.sections.find(t=>"WATCH_LATER"===t.type)}get liked_videos(){return this.sections.find(t=>"LIKE"===t.type)}get playlists_section(){return this.sections.find(t=>"PLAYLISTS"===t.type)}get clips(){return this.sections.find(t=>"CONTENT_CUT"===t.type)}};qR=new WeakSet,KR=n(async function(t){if(!t.menu?.as(Sl).top_level_buttons)throw new XM(`The ${t.title.text} shelf doesn't have more items`);let e=t.menu.as(Sl).top_level_buttons.firstOfType(Yo);if(!e)throw new XM("Did not find target button.");let i=await e.as(Yo).endpoint.call(this.actions,{parse:!0});switch(t.icon_type){case"LIKE":case"WATCH_LATER":return new YR(this.actions,i,!0);case"WATCH_HISTORY":return new LR(this.actions,i,!0);case"CONTENT_CUT":return new aR(this.actions,i,!0);default:throw new XM("Target shelf not implemented.")}},"#getAll"),n(zR,"Library");var QR=zR;function XR(t){let e=[];for(let i of t)if(Array.isArray(i))for(let t of i)e.push(t);else e.push(i);return e}n(XR,"flattenQueue");var JR=class{constructor(){o(this,"front"),o(this,"back"),this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(JR,"DelayQueue");var ZR,tA,eA,iA,sA,nA,aA=JR,oA=class{constructor(){l(this,ZR),l(this,tA),l(this,eA),l(this,iA),l(this,sA),l(this,nA),h(this,ZR,null),h(this,tA,null),h(this,eA,null),h(this,iA,[]),h(this,sA,null),h(this,nA,new aA)}enqueueActionGroup(t){if(null!==c(this,ZR)){let t=Date.now()-c(this,ZR);c(this,nA).back.push(t),5<c(this,nA).front.length+c(this,nA).back.length&&(c(this,nA).front.length||(c(this,nA).front=c(this,nA).back,c(this,nA).front.reverse(),c(this,nA).back=[]),c(this,nA).front.pop()),h(this,tA,Math.max(...c(this,nA).getValues()))}h(this,ZR,Date.now()),c(this,iA).push(t),null===c(this,sA)&&h(this,sA,setTimeout(this.emitSmoothedActions.bind(this)))}emitSmoothedActions(){if(h(this,sA,null),c(this,iA).length){let t=1e4;null!==c(this,tA)&&null!==c(this,ZR)&&(t=c(this,tA)-Date.now()+c(this,ZR)),t=c(this,iA).length<t/80?1:Math.ceil(c(this,iA).length/(t/80));let e=XR(c(this,iA).splice(0,t));c(this,eA)&&c(this,eA).call(this,e),null!==c(this,iA)&&(1==t?(t=c(this,tA)/c(this,iA).length,t*=Math.random()+.5,t=Math.min(1e3,t),t=Math.max(80,t)):t=80,h(this,sA,setTimeout(this.emitSmoothedActions.bind(this),t)))}}clear(){null!==c(this,sA)&&(clearTimeout(c(this,sA)),h(this,sA,null)),h(this,iA,[])}set callback(t){h(this,eA,t)}get callback(){return c(this,eA)}get action_queue(){return c(this,iA)}get estimated_update_interval(){return c(this,tA)}get last_update_time(){return c(this,ZR)}get next_update_id(){return c(this,sA)}get poll_response_delay_queue(){return c(this,nA)}};ZR=new WeakMap,tA=new WeakMap,eA=new WeakMap,iA=new WeakMap,sA=new WeakMap,nA=new WeakMap,n(oA,"SmoothedQueue");var rA,cA,lA,hA,dA,uA,pA,mA,_A,fA,yA,bA=oA,gA=class extends js{constructor(t){super(),l(this,pA),l(this,rA),l(this,cA),l(this,lA),l(this,hA),l(this,dA),l(this,uA,0),o(this,"smoothed_queue"),o(this,"initial_info"),o(this,"metadata"),o(this,"running",!1),o(this,"is_replay",!1),h(this,cA,t.basic_info.id),h(this,lA,t.basic_info.channel_id),h(this,rA,t.actions),h(this,hA,t.livechat?.continuation),this.is_replay=t.livechat?.is_replay||!1,this.smoothed_queue=new bA,this.smoothed_queue.callback=async t=>{t.length?t.length<10?await d(this,pA,_A).call(this,t):this.is_replay?(d(this,pA,_A).call(this,t),await d(this,pA,yA).call(this,2e3)):d(this,pA,_A).call(this,t):await d(this,pA,yA).call(this,2e3),this.running&&d(this,pA,mA).call(this)}}on(t,e){super.on(t,e)}once(t,e){super.once(t,e)}start(){this.running||(this.running=!0,d(this,pA,mA).call(this),d(this,pA,fA).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(t){let e=Ha.encode({params:{ids:{videoId:c(this,cA),channelId:c(this,lA)}},number0:1,number1:4}),i=btoa(encodeURIComponent(xL(e.finish()))),s=await c(this,rA).execute("/live_chat/send_message",{richMessage:{textSegments:[{text:t}]},clientMessageId:zM.shim.uuidv4(),client:"WEB",parse:!0,params:i});if(!s.actions)throw new XM("Unexpected response from send_message",s);return s.actions.array().as(Gb,hp)}applyFilter(t){if(!this.initial_info)throw new XM("Cannot apply filter before initial info is retrieved.");let e=this.initial_info?.header?.view_selector?.sub_menu_items;if("TOP_CHAT"===t){if(e?.at(0)?.selected)return;h(this,hA,e?.at(0)?.continuation)}else{if(e?.at(1)?.selected)return;h(this,hA,e?.at(1)?.continuation)}}async getItemMenu(t){if(!t.hasKey("menu_endpoint")||!t.key("menu_endpoint").isInstanceof(nr))throw new XM("This item does not have a menu.",t);let e=await t.key("menu_endpoint").instanceof(nr).call(c(this,rA),{parse:!0});if(!e)throw new XM("Could not retrieve item menu.",t);return new GR(e,c(this,rA))}async selectButton(t){return await t.endpoint.call(c(this,rA),{parse:!0})}};rA=new WeakMap,cA=new WeakMap,lA=new WeakMap,hA=new WeakMap,dA=new WeakMap,uA=new WeakMap,pA=new WeakSet,mA=n(function(){(async()=>{try{let t=await c(this,rA).execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:c(this,hA),parse:!0}),e=t.continuation_contents;if(e||(this.emit("error",new XM("Unexpected live chat incremental continuation response",t)),this.emit("end"),this.stop()),!(e instanceof iP))return this.stop(),void this.emit("end");h(this,hA,e.continuation.token),e.header?(this.initial_info=e,this.emit("start",e),this.running&&d(this,pA,mA).call(this)):this.smoothed_queue.enqueueActionGroup(e.actions),h(this,uA,0)}catch(t){this.emit("error",t),((t,e,i,s)=>({set _(i){h(t,e,i)},get _(){return c(t,e,s)}}))(this,uA)._++<10?(await d(this,pA,yA).call(this,2e3),d(this,pA,mA).call(this)):(this.emit("error",new XM("Reached retry limit for incremental continuation requests",t)),this.emit("end"),this.stop())}})()},"#pollLivechat"),_A=n(async function(t){let e=t.length<125?1:Math.ceil(t.length/125),i=1==e?(e=1e4/t.length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80;for(let e of t)await d(this,pA,yA).call(this,i),this.emit("chat-update",e)},"#emitSmoothedActions"),fA=n(function(){(async()=>{try{let t={videoId:c(this,cA)};c(this,dA)&&(t.continuation=c(this,dA));let e=await c(this,rA).execute("/updated_metadata",t),i=Os.parseResponse(e.data);h(this,dA,i.continuation?.token),this.metadata={title:i.actions?.array().firstOfType(xv)||this.metadata?.title,description:i.actions?.array().firstOfType(bv)||this.metadata?.description,views:i.actions?.array().firstOfType(Tv)||this.metadata?.views,likes:i.actions?.array().firstOfType(Sv)||this.metadata?.likes,date:i.actions?.array().firstOfType(fv)||this.metadata?.date},this.emit("metadata-update",this.metadata),await d(this,pA,yA).call(this,5e3),this.running&&d(this,pA,fA).call(this)}catch{await d(this,pA,yA).call(this,2e3),this.running&&d(this,pA,fA).call(this)}})()},"#pollMetadata"),yA=n(async function(t){return new Promise(e=>setTimeout(()=>e(),t))},"#wait"),n(gA,"LiveChat");var vA,wA,xA=gA,kA=class t{constructor(t,e){if(l(this,vA),l(this,wA),o(this,"header"),o(this,"contents"),h(this,wA,t),h(this,vA,Os.parseResponse(e.data)),!c(this,vA).actions_memo)throw new XM("Page actions not found");this.header=c(this,vA).actions_memo.getType(ow)[0],this.contents=c(this,vA).actions_memo.getType(Qv)}async getContinuation(){let e=c(this,vA).actions_memo?.getType(ch)[0];if(!e)throw new XM("Continuation not found");let i=await e.endpoint.call(c(this,wA),{parse:!1});return new t(c(this,wA),i)}get page(){return c(this,vA)}};vA=new WeakMap,wA=new WeakMap,n(kA,"NotificationsMenu");var SA=kA,CA=class t extends aR{constructor(t,e,i=!1){super(t,e,i),o(this,"header"),o(this,"results"),o(this,"refinements"),o(this,"estimated_results"),o(this,"sub_menu"),o(this,"watch_card"),o(this,"refinement_cards");let s=this.page.contents_memo?.getType(vh)[0].contents||this.page.on_response_received_commands?.[0].as(Br,WE).contents;if(!s)throw new XM("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(gC)),this.results=ks(s.filterType(Db).flatMap(t=>t.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(wC)[0],this.watch_card=this.page.contents_memo.getType(CC)[0]),this.refinement_cards=this.results?.firstOfType(Gh)}async selectRefinementCard(e){let i;if("string"==typeof e){if(!this.refinement_cards)throw new XM("No refinement cards found.");if(i=this.refinement_cards?.cards.find(t=>t.is(Sh)&&t.query===e),!i)throw new XM(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else{if("SearchRefinementCard"!==e.type)throw new XM("Invalid refinement card!");i=e}let s=await i.endpoint.call(this.actions,{parse:!0});return new t(this.actions,s,!0)}get refinement_card_queries(){return this.refinement_cards?.cards.as(Sh).map(t=>t.query)||[]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new XM("Could not get continuation data");return new t(this.actions,e,!0)}};n(CA,"Search");var TA,IA,EA=CA,PA=class t{constructor(t,e){if(l(this,TA),l(this,IA),o(this,"sidebar"),o(this,"introduction"),o(this,"sections"),h(this,IA,t),h(this,TA,Os.parseResponse(e.data)),this.sidebar=c(this,TA).sidebar?.as(HC),!c(this,TA).contents)throw new XM("Page contents not found");let i=c(this,TA).contents.item().as(dI).tabs.find(t=>t.selected);if(!i)throw new XM("Target tab not found");let s=i.content?.as(vh).contents.as(Db);this.introduction=s?.shift()?.contents?.firstOfType(Ck),this.sections=s?.map(t=>({title:t.header?.is(Lp,Tb,Rb)?t.header.title.toString():null,contents:t.contents}))}async selectSidebarItem(e){if(!this.sidebar)throw new XM("Sidebar not available");let i;if("string"==typeof e){if(i=this.sidebar.items.find(t=>t.title===e),!i)throw new XM(`Item "${e}" not found`,{available_items:this.sidebar_items})}else{if(!e?.is(Rr))throw new XM("Invalid item",{target_item:e});i=e}let s=await i.endpoint.call(c(this,IA),{parse:!1});return new t(c(this,IA),s)}getSettingOption(t){if(!this.sections)throw new XM("Sections not available");for(let e of this.sections)if(e.contents)for(let i of e.contents){let e=i.as(UC).options;if(e)for(let i of e)if(i.is(VC)&&i.title?.toString()===t)return i}throw new XM(`Option "${t}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new XM("Sections not available");let t=[];for(let e of this.sections)if(e.contents)for(let i of e.contents)i.as(UC).options&&(t=t.concat(i.as(UC).options));return t.map(t=>t.title?.toString()).filter(t=>t)}get sidebar_items(){if(!this.sidebar)throw new XM("Sidebar not available");return this.sidebar.items.map(t=>t.title.toString())}get page(){return c(this,TA)}};TA=new WeakMap,IA=new WeakMap,n(PA,"Settings");var RA,AA=PA,MA=class t extends _R{constructor(t,e,i){super(t,e,i),o(this,"primary_info"),o(this,"secondary_info"),o(this,"playlist"),o(this,"game_info"),o(this,"merchandise"),o(this,"related_chip_cloud"),o(this,"watch_next_feed"),o(this,"player_overlays"),o(this,"comments_entry_point_header"),o(this,"livechat"),o(this,"autoplay"),o(this,"heat_map"),l(this,RA);let[s,n]=this.page;if(this.streaming_data){let t=this.streaming_data.adaptive_formats.find(t=>t.audio_track?.audio_is_default);if(t)this.streaming_data.formats.forEach(e=>e.language=t.language);else if(this.captions?.caption_tracks&&this.captions?.caption_tracks.length>0){let t=this.captions.caption_tracks.find(t=>"asr"===t.kind)?.language_code;this.streaming_data.adaptive_formats.forEach(e=>{e.has_audio&&(e.language=t)}),this.streaming_data.formats.forEach(e=>e.language=t)}}let a=n?.contents?.item().as(yI),r=a?.results,c=a?.secondary_results;if(r&&c){if(s.microformat?.is(Kk)&&"Gaming"===s.microformat?.category){let t=r.firstOfType(UI)?.metadata?.rows?.firstOfType(rC);t?.is(rC)&&(this.game_info={title:t?.contents?.firstOfType(aC)?.title,release_year:t?.contents?.firstOfType(aC)?.subtitle})}this.primary_info=r.firstOfType(VI),this.secondary_info=r.firstOfType(UI),this.merchandise=r.firstOfType(hw),this.related_chip_cloud=c.firstOfType(XS)?.content.as(Mu),a?.playlist&&(this.playlist=a.playlist),this.watch_next_feed=c.firstOfType(Db)?.contents||c,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&this.watch_next_feed.at(-1)?.is(ch)&&h(this,RA,this.watch_next_feed.pop()?.as(ch)),this.player_overlays=n?.player_overlays?.item().as(eS),a?.autoplay&&(this.autoplay=a.autoplay);let t=this.primary_info?.menu?.top_level_buttons.firstOfType(AC);t?.like_button?.is(Jc)&&t?.dislike_button?.is(Jc)&&(this.basic_info.like_count=t?.like_button?.like_count,this.basic_info.is_liked=t?.like_button?.is_toggled,this.basic_info.is_disliked=t?.dislike_button?.is_toggled);let e=this.primary_info?.menu?.top_level_buttons.firstOfType(hl);if(e&&(this.basic_info.like_count=e.like_count,e.like_button)){let t=e.like_button.like_status_entity.like_status;this.basic_info.is_liked="LIKE"===t,this.basic_info.is_disliked="DISLIKE"===t}let i=r.find(t=>t.is(Db)&&"comments-entry-point"===t.target_id);this.comments_entry_point_header=i?.contents?.firstOfType(Ap),this.livechat=n?.contents_memo?.getType(Bb)[0];let o=this.page[1]?.contents_memo?.getType(Gv),l=null;if(o){let t=o.find(t=>t.isHeatmap());if(t)try{l=t.toHeatmap()}catch{}}this.heat_map=l}}async selectFilter(t){if(!this.related_chip_cloud)throw new XM("Chip cloud not found, cannot apply filter");let e;if("string"==typeof t){let i=this.related_chip_cloud?.chips?.find(e=>e.text===t);if(!i)throw new XM("Invalid filter",{available_filters:this.filters});e=i}else{if(!t?.is(Ru))throw new XM("Invalid cloud chip",t);e=t}if(e.is_selected)return this;let i=(await(e.endpoint?.call(this.actions,{parse:!0})))?.on_response_received_endpoints?.find(t=>t.is(WE)&&"watch-next-feed"===t.target_id);return this.watch_next_feed=i?.contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async updateWatchTime(t){return super.updateWatchTime(t)}async getWatchNextContinuation(){if(!c(this,RA))throw new XM("Watch next feed continuation not found");let t=(await(c(this,RA)?.endpoint.call(this.actions,{parse:!0})))?.on_response_received_endpoints?.firstOfType(Br);if(!t)throw new XM("AppendContinuationItemsAction not found");return this.watch_next_feed=t?.contents,this.watch_next_feed?.at(-1)?.is(ch)?h(this,RA,this.watch_next_feed.pop()?.as(ch)):h(this,RA,void 0),this}async like(){let t=this.primary_info?.menu?.top_level_buttons.firstOfType(hl);if(t){let e=t?.like_button?.toggle_button;if(!e||!e.default_button||!t.like_button)throw new XM("Like button not found",{video_id:this.basic_info.id});if("LIKE"===t.like_button.like_status_entity.like_status)throw new XM("This video is already liked",{video_id:this.basic_info.id});if(!e.default_button.on_tap)throw new XM("onTap command not found",{video_id:this.basic_info.id});return await new nr(e.default_button.on_tap.payload.commands.find(t=>t.innertubeCommand)).call(this.actions)}let e=this.primary_info?.menu?.top_level_buttons.firstOfType(AC)?.like_button;if(!e)throw new XM("Like button not found",{video_id:this.basic_info.id});if(!e.is(Jc))throw new XM("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(e.is_toggled)throw new XM("This video is already liked",{video_id:this.basic_info.id});return await e.endpoint.call(this.actions)}async dislike(){let t=this.primary_info?.menu?.top_level_buttons.firstOfType(hl);if(t){let e=t?.dislike_button?.toggle_button;if(!(e&&e.default_button&&t.dislike_button&&t.like_button))throw new XM("Dislike button not found",{video_id:this.basic_info.id});if("DISLIKE"===t.like_button.like_status_entity.like_status)throw new XM("This video is already disliked",{video_id:this.basic_info.id});if(!e.default_button.on_tap)throw new XM("onTap command not found",{video_id:this.basic_info.id});return await new nr(e.default_button.on_tap.payload.commands.find(t=>t.innertubeCommand)).call(this.actions)}let e=this.primary_info?.menu?.top_level_buttons.firstOfType(AC)?.dislike_button;if(!e)throw new XM("Dislike button not found",{video_id:this.basic_info.id});if(!e.is(Jc))throw new XM("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(e.is_toggled)throw new XM("This video is already disliked",{video_id:this.basic_info.id});return await e.endpoint.call(this.actions)}async removeRating(){let t,e=this.primary_info?.menu?.top_level_buttons.firstOfType(hl);if(e){let i=e?.like_button?.toggle_button;if(!i||!i.default_button||!e.like_button)throw new XM("Like button not found",{video_id:this.basic_info.id});let s=e.like_button.like_status_entity.like_status;if("LIKE"===s)t=e?.like_button?.toggle_button;else{if("DISLIKE"!==s)throw new XM("This video is not liked/disliked",{video_id:this.basic_info.id});t=e?.dislike_button?.toggle_button}if(!t||!t.toggled_button)throw new XM("Like/Dislike button not found",{video_id:this.basic_info.id});if(!t.toggled_button.on_tap)throw new XM("onTap command not found",{video_id:this.basic_info.id});return await new nr(t.toggled_button.on_tap.payload.commands.find(t=>t.innertubeCommand)).call(this.actions)}let i=this.primary_info?.menu?.top_level_buttons.firstOfType(AC),s=i?.like_button,n=i?.dislike_button;if(!s?.is(Jc)||!n?.is(Jc))throw new XM("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s?.is_toggled?t=s:n?.is_toggled&&(t=n),!t)throw new XM("This video is not liked/disliked",{video_id:this.basic_info.id});return await t.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new XM("Live Chat is not available",{video_id:this.basic_info.id});return new xA(this)}getTrailerInfo(){if(this.has_trailer&&this.playability_status?.error_screen){let e;if(this.playability_status.error_screen.is(jk)?e=this.playability_status.error_screen.trailer?.player_response:this.playability_status.error_screen.is(Hk)&&(e=this.playability_status.error_screen.player_response),e)return new t([{data:e}],this.actions,this.cpn)}return null}get filters(){return this.related_chip_cloud?.chips?.map(t=>t.text?.toString())||[]}get wn_has_continuation(){return!!c(this,RA)}get autoplay_video_endpoint(){return this.autoplay?.sets?.[0]?.autoplay_video||null}get has_trailer(){return!!this.playability_status?.error_screen?.is(jk,Hk)}get music_tracks(){let t=this.page[1]?.engagement_panels?.filter(t=>t.content?.is(Sd));if(void 0!==t&&t.length>0){let e=t[0].content?.as(Sd)?.items?.filterType(hd);if(void 0!==e&&e.length>0)return e[0].carousel_lockups?.map(t=>{let e,i,s,n,a,o;e=t.video_lockup?.title?.toString(),a=t.video_lockup?.endpoint?.payload.videoId;for(let r=0;r<t.info_rows.length;r++){let c=t.info_rows[r];void 0===c.info_row_expand_status_key?void 0===e?(e=c.default_metadata?.toString()||c.expanded_metadata?.toString(),void 0===a&&(a=(c.default_metadata?.endpoint||c.expanded_metadata?.endpoint)?.payload?.videoId)):s=c.default_metadata?.toString()||c.expanded_metadata?.toString():(-1!==c.info_row_expand_status_key?.indexOf("structured-description-music-section-artists-row-state-id")&&(i=c.default_metadata?.toString()||c.expanded_metadata?.toString(),void 0===o&&(o=(c.default_metadata?.endpoint||c.expanded_metadata?.endpoint)?.payload?.browseId)),-1!==c.info_row_expand_status_key?.indexOf("structured-description-music-section-licenses-row-state-id")&&(n=c.default_metadata?.toString()||c.expanded_metadata?.toString()))}return{song:e,artist:i,album:s,license:n,videoId:a,channelId:o}})}return[]}};RA=new WeakMap,n(MA,"VideoInfo");var LA,DA,NA=MA,BA=class t{constructor(t,e){if(l(this,LA),l(this,DA),o(this,"transcript"),h(this,LA,Os.parseResponse(e.data)),h(this,DA,t),!c(this,LA).actions_memo)throw new Error("Page actions not found");this.transcript=c(this,LA).actions_memo.getType(uc)[0]}async selectLanguage(e){let i=this.transcript.content?.footer?.language_menu?.sub_menu_items?.find(t=>t.title.toString()===e);if(!i)throw new Error(`Language not found: ${e}`);if(i.selected)return this;let s=await c(this,DA).execute("/get_transcript",{params:i.continuation});return new t(c(this,DA),s)}get languages(){return this.transcript.content?.footer?.language_menu?.sub_menu_items?.map(t=>t.title.toString())||[]}get selectedLanguage(){return this.transcript.content?.footer?.language_menu?.sub_menu_items?.find(t=>t.selected)?.title.toString()||""}get page(){return c(this,LA)}};LA=new WeakMap,DA=new WeakMap,n(BA,"TranscriptInfo");var VA=BA;a({},{Album:()=>WA,Artist:()=>$A,Explore:()=>QA,HomeFeed:()=>eM,Library:()=>oM,LibraryContinuation:()=>_M,Playlist:()=>gM,Recap:()=>SM,Search:()=>EM,TrackInfo:()=>MM});var OA,UA=class{constructor(t){if(l(this,OA),o(this,"header"),o(this,"contents"),o(this,"sections"),o(this,"background"),o(this,"url"),h(this,OA,Os.parseResponse(t.data)),!c(this,OA).contents_memo)throw new Error("No contents found in the response");this.header=c(this,OA).contents_memo.getType(yx,Kx)?.[0],this.contents=c(this,OA).contents_memo.getType(zx)?.[0].contents||ks([]),this.sections=c(this,OA).contents_memo.getType(px)||ks([]),this.background=c(this,OA).background,this.url=c(this,OA).microformat?.as(vw).url_canonical}get page(){return c(this,OA)}};OA=new WeakMap,n(UA,"Album");var FA,HA,WA=UA,jA=class{constructor(t,e){l(this,FA),l(this,HA),o(this,"header"),o(this,"sections"),h(this,FA,Os.parseResponse(t.data)),h(this,HA,e),this.header=this.page.header?.item().as(Ix,ak,Cx);let i=c(this,FA).contents_memo?.getType(zx)||[],s=c(this,FA).contents_memo?.getType(px)||[];this.sections=ks([...i,...s])}async getAllSongs(){let t=this.sections.filter(t=>"MusicShelf"===t.type);if(!t.length)throw new XM("Could not find any node of type MusicShelf.");let e=t.find(t=>"Top songs"===t.title?.text);if(!e)throw new XM("Could not find target shelf (Top songs).");if(!e.endpoint)throw new XM("Target shelf (Top songs) did not have an endpoint.");return(await e.endpoint.call(c(this,HA),{client:"YTMUSIC",parse:!0})).contents_memo?.getType(Vx)?.[0]}get page(){return c(this,FA)}};FA=new WeakMap,HA=new WeakMap,n(jA,"Artist");var GA,$A=jA,qA=class{constructor(t){l(this,GA),o(this,"top_buttons"),o(this,"sections"),h(this,GA,Os.parseResponse(t.data));let e=c(this,GA).contents?.item().as(pT).tabs.find(t=>t.selected);if(!e)throw new XM("Could not find target tab.");let i=e.content?.as(vh);if(!i)throw new XM("Target tab did not have any content.");this.top_buttons=i.contents.firstOfType(by)?.items.as(qw)||[],this.sections=i.contents.filterType(px)}get page(){return c(this,GA)}};GA=new WeakMap,n(qA,"Explore");var KA,YA,zA,QA=qA,XA=class t{constructor(t,e){l(this,KA),l(this,YA),l(this,zA),o(this,"sections"),o(this,"header"),h(this,YA,e),h(this,KA,Os.parseResponse(t.data));let i=c(this,KA).contents?.item().as(pT).tabs.find(t=>t.selected);if(!i)throw new XM("Could not find Home tab.");if(null===i.content){if(!c(this,KA).continuation_contents)throw new XM("Continuation did not have any content.");return h(this,zA,c(this,KA).continuation_contents.as(GE).continuation),void(this.sections=c(this,KA).continuation_contents.as(GE).contents?.as(px))}this.header=i.content?.as(vh).header?.as(Mu),h(this,zA,i.content?.as(vh).continuation),this.sections=i.content?.as(vh).contents.as(px,sk)}async getContinuation(){if(!c(this,zA))throw new XM("Continuation not found.");let e=await c(this,YA).execute("/browse",{client:"YTMUSIC",continuation:c(this,zA)});return new t(e,c(this,YA))}async applyFilter(e){let i;if("string"==typeof e){if(i=this.header?.chips?.as(Ru).find(t=>t.text===e),!i)throw new XM("Could not find filter with given name.",{available_filters:this.filters})}else e?.is(Ru)&&(i=e);if(!i)throw new XM("Invalid filter",{available_filters:this.filters});if(i?.is_selected)return this;if(!i.endpoint)throw new XM("Selected filter does not have an endpoint.");let s=await i.endpoint.call(c(this,YA),{client:"YTMUSIC"});return new t(s,c(this,YA))}get filters(){return this.header?.chips?.as(Ru).map(t=>t.text)||[]}get has_continuation(){return!!c(this,zA)}get page(){return c(this,KA)}};KA=new WeakMap,YA=new WeakMap,zA=new WeakMap,n(XA,"HomeFeed");var JA,ZA,tM,eM=XA,iM=class t{constructor(t,e){l(this,JA),l(this,ZA),l(this,tM),o(this,"header"),o(this,"contents"),h(this,JA,Os.parseResponse(t.data)),h(this,ZA,e);let i=c(this,JA).contents_memo?.getType(vh)[0];this.header=i?.header?.as(Xx),this.contents=i?.contents?.as(by,zx),h(this,tM,this.contents?.find(t=>t.continuation)?.continuation)}async applySort(t){let e;if("string"==typeof t){let i=c(this,JA).contents_memo?.getType(Zx)[0]?.menu?.options.filter(t=>t instanceof iw);if(e=i?.find(e=>e.title===t),!e)throw new XM(`Sort option "${t}" not found`,{available_filters:i.map(t=>t.title)})}else e=t;if(!e.endpoint)throw new XM("Invalid sort option");if(e.selected)return this;let i=e.endpoint.payload?.commands?.find(t=>t.browseSectionListReloadEndpoint)?.browseSectionListReloadEndpoint;if(!i)throw new XM("Failed to find sort option command");let s=await c(this,ZA).execute("/browse",{client:"YTMUSIC",continuation:i.continuation.reloadContinuationData.continuation,parse:!0}),n=c(this,JA).contents_memo?.getType(iw)?.find(t=>t.selected);return n&&(n.selected=!1),e.selected=!0,this.contents=s.continuation_contents?.as(GE).contents?.as(by,zx),this}async applyFilter(e){let i,s=c(this,JA).contents_memo?.getType(Mu)[0];if("string"==typeof e){if(i=s?.chips.find(t=>t.text===e),!i)throw new XM(`Filter "${e}" not found`,{available_filters:this.filters})}else i=e;if(!i.endpoint)throw new XM("Invalid filter",e);let n=await new nr(i.endpoint.payload?.commands?.[0]).call(c(this,ZA),{client:"YTMUSIC"});return new t(n,c(this,ZA))}async getContinuation(){if(!c(this,tM))throw new XM("No continuation available");let t=await c(this,ZA).execute("/browse",{client:"YTMUSIC",continuation:c(this,tM)});return new _M(t,c(this,ZA))}get has_continuation(){return!!c(this,tM)}get sort_options(){return(c(this,JA).contents_memo?.getType(Zx)[0]?.menu?.options.filter(t=>t instanceof iw)).map(t=>t.title)}get filters(){return c(this,JA).contents_memo?.getType(Mu)?.[0].chips.map(t=>t.text)||[]}get page(){return c(this,JA)}};JA=new WeakMap,ZA=new WeakMap,tM=new WeakMap,n(iM,"Library");var sM,nM,aM,oM=iM,rM=class t{constructor(t,e){if(l(this,sM),l(this,nM),l(this,aM),o(this,"contents"),h(this,sM,Os.parseResponse(t.data)),h(this,nM,e),!c(this,sM).continuation_contents)throw new XM("No continuation contents found");this.contents=c(this,sM).continuation_contents.as(YE,QE),h(this,aM,this.contents.continuation||null)}async getContinuation(){if(!c(this,aM))throw new XM("No continuation available");let e=await c(this,nM).execute("/browse",{client:"YTMUSIC",continuation:c(this,aM)});return new t(e,c(this,nM))}get has_continuation(){return!!c(this,aM)}get page(){return c(this,sM)}};sM=new WeakMap,nM=new WeakMap,aM=new WeakMap,n(rM,"LibraryContinuation");var cM,lM,hM,dM,uM,pM,mM,_M=rM,fM=class t{constructor(t,e){if(l(this,pM),l(this,cM),l(this,lM),l(this,hM),o(this,"header"),o(this,"contents"),o(this,"background"),l(this,dM),l(this,uM),h(this,lM,e),h(this,cM,Os.parseResponse(t.data)),h(this,dM,null),h(this,uM,null),c(this,cM).continuation_contents){let t=c(this,cM).continuation_contents?.as(qE);if(!t.contents)throw new XM("No contents found in the response");this.contents=t.contents.as(lx,ch);let e=this.contents.firstOfType(ch);h(this,hM,t.continuation||e)}else if(c(this,cM).contents_memo){this.header=c(this,cM).contents_memo.getType(Kx,wx,yx)?.[0],this.contents=c(this,cM).contents_memo.getType(Vx)?.[0]?.contents.as(lx,ch)||ks([]),this.background=c(this,cM).background;let t=this.contents.firstOfType(ch);h(this,hM,c(this,cM).contents_memo.getType(Vx)?.[0]?.continuation||t)}else if(c(this,cM).on_response_received_actions){let t=c(this,cM).on_response_received_actions.firstOfType(Br);this.contents=t?.contents?.as(lx,ch),h(this,hM,this.contents?.firstOfType(ch))}}async getContinuation(){if(!c(this,hM))throw new XM("Continuation not found.");let e;return e="string"==typeof c(this,hM)?await c(this,lM).execute("/browse",{client:"YTMUSIC",continuation:c(this,hM)}):await c(this,hM).endpoint.call(c(this,lM),{client:"YTMUSIC"}),new t(e,c(this,lM))}async getRelated(){let t=c(this,cM).contents_memo?.getType(vh).find(t=>t.continuation);if(!t)throw new XM('Could not find "Related" section.');let e=t.continuation;for(;e;){let t=(await c(this,lM).execute("/browse",{client:"YTMUSIC",continuation:e,parse:!0})).continuation_contents?.as(GE),i=t?.contents?.as(px,zx)?.find(t=>t.is(px))?.as(px);if(i)return i;e=t?.continuation}throw new XM("Could not fetch related playlists.")}async getSuggestions(t=!0){let e=await(t||!c(this,dM)?d(this,pM,mM).call(this):Promise.resolve(null));return e&&(h(this,dM,e.items),h(this,uM,e.continuation)),e?.items||c(this,dM)||ks([])}get page(){return c(this,cM)}get items(){return this.contents||ks([])}get has_continuation(){return!!c(this,hM)}};cM=new WeakMap,lM=new WeakMap,hM=new WeakMap,dM=new WeakMap,uM=new WeakMap,pM=new WeakSet,mM=n(async function(){let t=c(this,cM).contents_memo?.getType(vh).find(t=>t.continuation),e=c(this,uM)||t?.continuation;if(e){let t=(await c(this,lM).execute("/browse",{client:"YTMUSIC",continuation:e,parse:!0})).continuation_contents?.as(GE)?.contents?.as(px,zx)?.find(t=>t.is(zx))?.as(zx);return{items:t?.contents||ks([]),continuation:t?.continuation||null}}return{items:ks([]),continuation:null}},"#fetchSuggestions"),n(fM,"Playlist");var yM,bM,gM=fM,vM=class{constructor(t,e){l(this,yM),l(this,bM),o(this,"header"),o(this,"sections"),h(this,yM,Os.parseResponse(t.data)),h(this,bM,e);let i=c(this,yM).header?.item();this.header=i?.is(kx)?c(this,yM).header?.item().as(kx).element?.model?.as(ob):c(this,yM).header?.item().as(Cx);let s=c(this,yM).contents?.item().as(pT).tabs.firstOfType(dT);if(!s)throw new XM("Target tab not found");this.sections=s.content?.as(vh).contents.as(Db,px,vm)}async getPlaylist(){if(!this.header)throw new XM("Header not found");if(!this.header.is(ob))throw new XM("Recap playlist not available, check back later.");let t=await this.header.panels[0].text_on_tap_endpoint.call(c(this,bM),{client:"YTMUSIC"});return new gM(t,c(this,bM))}get page(){return c(this,yM)}};yM=new WeakMap,bM=new WeakMap,n(vM,"Recap");var wM,xM,kM,SM=vM,CM=class t{constructor(t,e,i){if(l(this,wM),l(this,xM),l(this,kM),o(this,"header"),o(this,"contents"),h(this,xM,e),h(this,wM,Os.parseResponse(t.data)),!c(this,wM).contents||!c(this,wM).contents_memo)throw new XM("Response did not contain any contents.");let s=c(this,wM).contents.item().as(IT).tabs.find(t=>t.selected);if(!s)throw new XM("Could not find target tab.");let n=s.content?.as(vh);if(!n)throw new XM("Target tab did not have any content.");this.header=n.header?.as(Mu),this.contents=n.contents.as(zx,Fw,Db),i&&h(this,kM,this.contents.firstOfType(zx)?.continuation)}async getMore(e){if(!e||!e.endpoint)throw new XM("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=await e.endpoint.call(c(this,xM),{client:"YTMUSIC"});if(!i)throw new XM("Endpoint did not return any data");return new t(i,c(this,xM),!0)}async getContinuation(){if(!c(this,kM))throw new XM("Continuation not found.");let t=await c(this,xM).execute("/search",{continuation:c(this,kM),client:"YTMUSIC"});return new RM(c(this,xM),t)}async applyFilter(e){let i;if("string"==typeof e){if(i=this.header?.chips?.as(Ru).find(t=>t.text===e),!i)throw new XM("Could not find filter with given name.",{available_filters:this.filters})}else e?.is(Ru)&&(i=e);if(!i)throw new XM("Invalid filter",{available_filters:this.filters});if(i?.is_selected)return this;if(!i.endpoint)throw new XM("Selected filter does not have an endpoint.");let s=await i.endpoint.call(c(this,xM),{client:"YTMUSIC"});return new t(s,c(this,xM),!0)}get filters(){return this.header?.chips?.as(Ru).map(t=>t.text)||[]}get has_continuation(){return!!c(this,kM)}get did_you_mean(){return c(this,wM).contents_memo?.getType(u_)[0]}get showing_results_for(){return c(this,wM).contents_memo?.getType(eT)[0]}get message(){return c(this,wM).contents_memo?.getType(vm)[0]}get songs(){return this.contents?.filterType(zx).find(t=>"Songs"===t.title.toString())}get videos(){return this.contents?.filterType(zx).find(t=>"Videos"===t.title.toString())}get albums(){return this.contents?.filterType(zx).find(t=>"Albums"===t.title.toString())}get artists(){return this.contents?.filterType(zx).find(t=>"Artists"===t.title.toString())}get playlists(){return this.contents?.filterType(zx).find(t=>"Community playlists"===t.title.toString())}get page(){return c(this,wM)}};wM=new WeakMap,xM=new WeakMap,kM=new WeakMap,n(CM,"Search");var TM,IM,EM=CM,PM=class t{constructor(t,e){l(this,TM),l(this,IM),o(this,"header"),o(this,"contents"),h(this,TM,t),h(this,IM,Os.parseResponse(e.data)),this.header=c(this,IM).header?.item().as(Cx),this.contents=c(this,IM).continuation_contents?.as(YE)}async getContinuation(){if(!this.contents?.continuation)throw new XM("Continuation not found.");let e=await c(this,TM).execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new t(c(this,TM),e)}get has_continuation(){return!!this.contents?.continuation}get page(){return c(this,IM)}};TM=new WeakMap,IM=new WeakMap,n(PM,"SearchContinuation");var RM=PM,AM=class extends _R{constructor(t,e,i){super(t,e,i),o(this,"tabs"),o(this,"current_video_endpoint"),o(this,"player_overlays");let s=this.page[1];if(s){let t=s.contents_memo?.getType(zI)?.[0];this.tabs=t?.tabs.as(dT),this.current_video_endpoint=s.current_video_endpoint,this.player_overlays=s.player_overlays?.item().as(eS)}}async getTab(t){if(!this.tabs)throw new XM("Could not find any tab");let e=this.tabs.find(e=>e.title===t)||this.tabs.find(e=>e.endpoint.payload.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType===t)||this.tabs?.[0];if(!e)throw new XM(`Tab "${t}" not found`,{available_tabs:this.available_tabs});if(e.content)return e.content;let i=await e.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if("Message"===i.contents?.item().type)return i.contents.item().as(vm);if(!i.contents)throw new XM("Page contents was empty",i);return i.contents.item().as(vh).contents}async getUpNext(t=!0){let e=await this.getTab("Up next");if(!e||!e.content)throw new XM("Music queue was empty, the video id is probably invalid.",e);let i=e.content.as(jx);if(!i.playlist_id&&t){let t=i.contents.firstOfType(Bc);if(!t)throw new XM("Automix item not found");let e=await(t.playlist_video?.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0}));if(!e||!e.contents_memo)throw new XM("Could not fetch automix");return e.contents_memo.getType(jx)?.[0]}return i}async getUpNextContinuation(t){if(!this.current_video_endpoint)throw new XM("Current Video Endpoint was not defined.",this.current_video_endpoint);if(t instanceof jx&&t.playlist_id!==this.current_video_endpoint.payload.playlistId)throw new XM("PlaylistId from TrackInfo does not match with PlaylistPanel");let e=await new nr({watchNextEndpoint:{...this.current_video_endpoint.payload,continuation:t.continuation}}).call(this.actions,{...this.current_video_endpoint.payload,continuation:t.continuation,client:"YTMUSIC",parse:!0}),i=e.continuation_contents?.as(JE);if(!i)throw new XM("No PlaylistPanel Continuation available.",e);return i}async getRelated(){return await this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")}async getLyrics(){return(await this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(_x)}async addToWatchHistory(){return super.addToWatchHistory(Rs.CLIENTS.YTMUSIC.NAME,Rs.CLIENTS.YTMUSIC.VERSION,"https://music.")}async updateWatchTime(t){return super.updateWatchTime(t,Rs.CLIENTS.YTMUSIC.NAME,Rs.CLIENTS.YTMUSIC.VERSION,"https://music.")}get available_tabs(){return this.tabs?this.tabs.map(t=>t.title):[]}};n(AM,"TrackInfo");var MM=AM;a({},{Channel:()=>DM,HomeFeed:()=>BM,Search:()=>OM,VideoInfo:()=>FM});var LM=class t extends aR{constructor(t,e,i=!1){super(t,e,i),o(this,"header"),o(this,"contents"),this.header=this.page.header?.item().as(Dd),this.contents=this.memo.getType(Db)[0]||this.page.continuation_contents?.as(BE)}async getContinuation(){if(!this.contents)throw new Error("No continuation available.");let e=await new nr({continuationCommand:{token:this.contents.continuation,request:"CONTINUATION_REQUEST_TYPE_BROWSE"}}).call(this.actions,{client:"YTKIDS"});return new t(this.actions,e)}get has_continuation(){return!!this.contents?.continuation}};n(LM,"Channel");var DM=LM,NM=class t extends aR{constructor(t,e,i=!1){super(t,e,i),o(this,"header"),o(this,"contents"),this.header=this.page.header?.item().as(oE),this.contents=this.page.contents?.item().as(cE)}async selectCategoryTab(e){let i;if("string"==typeof e?i=this.header?.category_tabs.find(t=>t.title.toString()===e):e?.is(nE)&&(i=e),!i)throw new XM(`Tab "${e}" not found`);let s=await i.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new t(this.actions,s,!0)}get categories(){return this.header?.category_tabs.map(t=>t.title.toString())||[]}};n(NM,"HomeFeed");var BM=NM,VM=class extends aR{constructor(t,e){super(t,e),o(this,"estimated_results"),o(this,"contents"),this.estimated_results=this.page.estimated_results;let i=this.memo.getType(Db)[0];if(!i)throw new XM("No item section found in search response.");this.contents=i.contents}};n(VM,"Search");var OM=VM,UM=class extends _R{constructor(t,e,i){super(t,e,i),o(this,"slim_video_metadata"),o(this,"watch_next_feed"),o(this,"current_video_endpoint"),o(this,"player_overlays");let s=this.page[1],n=s?.contents?.item().as(yI),a=n?.results,r=n?.secondary_results;a&&r&&(this.slim_video_metadata=a.firstOfType(Db)?.contents?.firstOfType(wT),this.watch_next_feed=r.firstOfType(Db)?.contents||r,this.current_video_endpoint=s?.current_video_endpoint,this.player_overlays=s?.player_overlays?.item().as(eS))}};n(UM,"VideoInfo");var FM=UM;a({},{ShortFormVideoInfo:()=>jM});var HM,WM=class extends _R{constructor(t,e,i,s){if(super(t,e,i),l(this,HM),o(this,"watch_next_feed"),o(this,"current_video_endpoint"),o(this,"player_overlays"),s){let t=Os.parseResponse(s.data);t.entries&&(this.watch_next_feed=t.entries),t.continuation_endpoint&&h(this,HM,t.continuation_endpoint?.as(nP))}}async getWatchNextContinuation(){if(!c(this,HM))throw new XM("Continuation not found");let t=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:c(this,HM).token,parse:!0});return t.entries&&(this.watch_next_feed=t.entries),h(this,HM,t.continuation_endpoint?.as(nP)),this}get wn_has_continuation(){return!!c(this,HM)}};HM=new WeakMap,n(WM,"ShortFormVideoInfo");var jM=WM,GM=class{constructor(t,e,i,s){o(this,"id"),o(this,"name"),o(this,"thumbnails"),o(this,"endpoint"),o(this,"badges"),o(this,"is_moderator"),o(this,"is_verified"),o(this,"is_verified_artist"),o(this,"url");let n=new mr(t);this.id=s||n?.runs?.[0]?.endpoint?.payload?.browseId||n?.endpoint?.payload?.browseId||"N/A",this.name=n?.text||"N/A",this.thumbnails=i?or.fromResponse(i):[],this.endpoint=n?.runs?.[0]?.endpoint||n?.endpoint,e?Array.isArray(e)?(this.badges=Os.parseArray(e),this.is_moderator=this.badges?.some(t=>"MODERATOR"==t.icon_type),this.is_verified=this.badges?.some(t=>"BADGE_STYLE_TYPE_VERIFIED"==t.style),this.is_verified_artist=this.badges?.some(t=>"BADGE_STYLE_TYPE_VERIFIED_ARTIST"==t.style)):(this.badges=ks([]),this.is_verified=!!e.isVerified,this.is_verified_artist=!!e.isArtist):this.badges=ks([]),this.url="/browse"===n?.runs?.[0]?.endpoint?.metadata?.api_url&&`${As.YT_BASE}${n?.runs?.[0]?.endpoint?.payload?.canonicalBaseUrl||`/u/${n?.runs?.[0]?.endpoint?.payload?.browseId}`}`||`${As.YT_BASE}${n?.endpoint?.payload?.canonicalBaseUrl||`/u/${n?.endpoint?.payload?.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(GM,"Author");var $M,qM=GM,KM={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]},YM=class{static load(t){$M=t}static get shim(){if(!$M)throw new Error("Platform is not loaded");return $M}};n(YM,"Platform");var zM=YM,QM=class extends Error{constructor(t,e){super(t),o(this,"date"),o(this,"version"),o(this,"info"),e&&(this.info=e),this.date=new Date,this.version=tn.version}};n(QM,"InnertubeError");var XM=QM,JM=class extends XM{};n(JM,"ParsingError");var ZM=JM,tL=class extends XM{};n(tL,"MissingParamError");var eL=tL,iL=class extends XM{};n(iL,"OAuth2Error");var sL=iL,nL=class extends Error{};n(nL,"PlayerError");var aL=nL,oL=class extends Error{};n(oL,"SessionError");var rL=oL,cL=class extends Error{};n(cL,"ChannelError");var lL=cL;function hL(t,e){return Reflect.ownKeys(t).some(i=>{let s=e[i]instanceof mr;return s||"object"!=typeof e[i]?t[i]===(s?e[i].toString():e[i]):JSON.stringify(t[i])===JSON.stringify(e[i])})}function dL(t,e,i){let s=new RegExp(`${uL(e)}(.*?)${uL(i)}`,"s"),n=t.match(s);return n?n[1]:void 0}function uL(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function pL(t){let e=KM[t];return e[Math.floor(Math.random()*e.length)]}async function mL(t){let e=Math.floor((new Date).getTime()/1e3),i=[e,t,"https://www.youtube.com"].join(" ");return["SAPISIDHASH",[e,await zM.shim.sha1Hash(i)].join("_")].join(" ")}function _L(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let s=0;s<t;s++)e.push(i.charAt(Math.floor(64*Math.random())));return e.join("")}function fL(t){let e=t.split(":").map(t=>parseInt(t.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return 60*e[0]+e[1];case 3:return 3600*e[0]+60*e[1]+e[2];default:throw new Error("Invalid time string")}}function yL(...t){let e=new Cs;for(let i of t)if(i)for(let t of i){let i=e.get(t[0]);i?e.set(t[0],[...i,...t[1]]):e.set(...t)}return e}function bL(t){for(let[e,i]of Object.entries(t))if(!i)throw new eL(`${e} is missing`)}function gL(t,...e){for(let i of e)if(!Reflect.has(t,i)||void 0===t[i])return!1;return!0}async function*vL(t){let e=t.getReader();try{for(;;){let{done:t,value:i}=await e.read();if(t)return;yield i}}finally{e.releaseLock()}}n(hL,"deepCompare"),n(dL,"getStringBetweenStrings"),n(uL,"escapeStringRegexp"),n(pL,"getRandomUserAgent"),n(mL,"generateSidAuth"),n(_L,"generateRandomString"),n(fL,"timeToSeconds"),n(yL,"concatMemos"),n(bL,"throwIfMissing"),n(gL,"hasKeys"),n(vL,"streamToIterable");var wL=n((t,e)=>{let i="string"==typeof t?new URL(t):t instanceof URL?t:new URL(t.url),s=e?.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,n=[...s],a=e?.body?"string"==typeof e.body?"application/json"===s.get("content-type")?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",o=n.length>0?`${n.map(([t,e])=>`    ${t}: ${e}`).join("\n")}`:"    (none)";return os("Utils",`Fetch:\n  url: ${i.toString()}\n  method: ${e?.method||"GET"}\n  headers:\n${o}\n' + \n    '  body:\n${a}`),zM.shim.fetch(t,e)},"debugFetch");function xL(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}function kL(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),i=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(i).split("").map(t=>t.charCodeAt(0)))}function SL(t){return!("emoji"in t)}function CL(t,e,i=!1){let s=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,n=t.match(new RegExp(s));return n?n[2]:void 0}function TL(t,e){let{name:i,includes:s,regexp:n,ast:a}=e,o=[a||Ji.parseScript(t)];for(let e=0;e<o.length;e++){let a=o[e];if("ExpressionStatement"===a.type&&"AssignmentExpression"===a.expression.type&&"Identifier"===a.expression.left.type&&"FunctionExpression"===a.expression.right.type){let e=t.substring(a.start,a.end);if(i&&a.expression.left.name===i||s&&e.includes(s)||n&&n.test(e))return{start:a.start,end:a.end,name:a.expression.left.name,node:a,result:e}}for(let t in a){let e=a[t];Array.isArray(e)?o.push(...e):"object"==typeof e&&null!==e&&o.push(e)}}}function IL(t,e){let i,s=e.ast?e.ast:Ji.parseScript(t,{ecmaVersion:"latest",ranges:!0});function a(s){if(!i){if("VariableDeclarator"===s.type){let[n,a]=s.range,o=t.slice(n,a);if("Identifier"===s.id.type){let t=s.id.name;if(e.name&&t===e.name)return void(i={start:n,end:a,name:t,node:s,result:o})}if(e.includes&&o.includes(e.includes)||e.regexp&&e.regexp.test(o))return void(i={start:n,end:a,name:s?.id?.name,node:s,result:o})}for(let t in s)if(Object.prototype.hasOwnProperty.call(s,t)){let e=s[t];if(Array.isArray(e)){for(let t of e)if(t&&"string"==typeof t.type&&(a(t),i))return}else if(e&&"string"==typeof e.type&&(a(e),i))return}}}return n(a,"walk"),a(s),i}async function EL(t){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(t){let i=new Uint8Array(t),s=[];for(let t=0;t<i.length;++t)s.push(e[i[t]]);return s.join("")}return n(i,"hex"),i(await crypto.subtle.digest("SHA-1",(new TextEncoder).encode(t)))}n(xL,"u8ToBase64"),n(kL,"base64ToU8"),n(SL,"isTextRun"),n(CL,"getCookie"),n(TL,"findFunction"),n(IL,"findVariable"),n(EL,"sha1Hash");var PL,RL,AL,ML=class{constructor(t){l(this,PL),o(this,"session"),this.session=t}async stats(t,e,i){let s=new URL(t);s.searchParams.set("ver","2"),s.searchParams.set("c",e.client_name.toLowerCase()),s.searchParams.set("cbrver",e.client_version),s.searchParams.set("cver",e.client_version);for(let t of Object.keys(i))s.searchParams.set(t,i[t]);return await this.session.http.fetch(s)}async execute(t,e){let i;if(e&&!e.protobuf){if(i={...e},Reflect.has(i,"browseId")&&!e.skip_auth_check&&d(this,PL,AL).call(this,i.browseId)&&!this.session.logged_in)throw new XM("You must be signed in to perform this operation.");Reflect.has(i,"skip_auth_check")&&delete i.skip_auth_check,Reflect.has(i,"override_endpoint")&&delete i.override_endpoint,Reflect.has(i,"parse")&&delete i.parse,Reflect.has(i,"request")&&delete i.request,Reflect.has(i,"clientActions")&&delete i.clientActions,Reflect.has(i,"settingItemIdForClient")&&delete i.settingItemIdForClient,Reflect.has(i,"action")&&(i.actions=[i.action],delete i.action),Reflect.has(i,"boolValue")&&(i.newValue={boolValue:i.boolValue},delete i.boolValue),Reflect.has(i,"token")&&(i.continuation=i.token,delete i.token),"YTMUSIC"===i?.client&&(i.isAudioOnly=!0)}else e&&(i=e.serialized_data);let s=Reflect.has(e||{},"override_endpoint")?e?.override_endpoint:t,n=await this.session.http.fetch(s,{method:"POST",body:e?.protobuf?i:JSON.stringify(i||{}),headers:{"Content-Type":e?.protobuf?"application/x-protobuf":"application/json"}});if(e?.parse){let t=Os.parseResponse(await n.json());if(d(this,PL,RL).call(this,t)&&"navigateAction"===t.on_response_received_actions?.[0]?.type){let e=t.on_response_received_actions.firstOfType(OE);e&&(t=await e.endpoint.call(this,{parse:!0}))}return t}return{success:n.ok,status_code:n.status,data:await n.json()}}};PL=new WeakSet,RL=n(function(t){return"on_response_received_actions"in t},"#isBrowse"),AL=n(function(t){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(t)},"#needsLogin"),n(ML,"Actions");var LL,DL,NL,BL,VL=ML,OL="OAuth2",UL=class{constructor(t){l(this,DL),l(this,LL),o(this,"YTTV_URL"),o(this,"AUTH_SERVER_CODE_URL"),o(this,"AUTH_SERVER_TOKEN_URL"),o(this,"AUTH_SERVER_REVOKE_TOKEN_URL"),o(this,"client_id"),o(this,"oauth2_tokens"),h(this,LL,t),this.YTTV_URL=new URL("/tv",Rs.URLS.YT_BASE),this.AUTH_SERVER_CODE_URL=new URL("/o/oauth2/device/code",Rs.URLS.YT_BASE),this.AUTH_SERVER_TOKEN_URL=new URL("/o/oauth2/token",Rs.URLS.YT_BASE),this.AUTH_SERVER_REVOKE_TOKEN_URL=new URL("/o/oauth2/revoke",Rs.URLS.YT_BASE)}async init(t){if(t)return this.setTokens(t),this.shouldRefreshToken()&&await this.refreshAccessToken(),void c(this,LL).emit("auth",{credentials:this.oauth2_tokens});if(await d(this,DL,NL).call(this))return void Zi.info(OL,"Loaded OAuth2 tokens from cache.",this.oauth2_tokens);this.client_id||(this.client_id=await this.getClientID());let e=await this.getDeviceAndUserCode();c(this,LL).emit("auth-pending",e),this.pollForAccessToken(e)}setTokens(t){let e=t;if(e.expires_in&&(e.expiry_date=new Date(Date.now()+1e3*e.expires_in).toISOString(),delete e.expires_in),!this.validateTokens(e))throw new sL("Invalid tokens provided.");this.oauth2_tokens=e,e.client&&(Zi.info(OL,"Using provided client id and secret."),this.client_id=e.client)}async cacheCredentials(){let t=(new TextEncoder).encode(JSON.stringify(this.oauth2_tokens));await(c(this,LL).cache?.set("youtubei_oauth_credentials",t.buffer))}async removeCache(){await(c(this,LL).cache?.remove("youtubei_oauth_credentials"))}pollForAccessToken(t){if(!this.client_id)throw new sL("Client ID is missing.");let{device_code:e,interval:i}=t,{client_id:s,client_secret:n}=this.client_id,a={client_id:s,client_secret:n,code:e,grant_type:"http://oauth.net/grant_type/device/1.0"},o=setInterval(async()=>{let t=await(await c(this,DL,BL).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(a),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(t.error)switch(t.error){case"access_denied":c(this,LL).emit("auth-error",new sL("Access was denied.",t)),clearInterval(o);break;case"expired_token":c(this,LL).emit("auth-error",new sL("The device code has expired.",t)),clearInterval(o);break;case"authorization_pending":case"slow_down":Zi.info(OL,"Polling for access token...");break;default:c(this,LL).emit("auth-error",new sL("Server returned an unexpected error.",t)),clearInterval(o)}else this.setTokens(t),c(this,LL).emit("auth",{credentials:this.oauth2_tokens}),clearInterval(o)},1e3*i)}async revokeCredentials(){if(!this.oauth2_tokens)throw new sL("Access token not found");await this.removeCache();let t=this.AUTH_SERVER_REVOKE_TOKEN_URL;return t.searchParams.set("token",this.oauth2_tokens.access_token),c(this,LL).http.fetch_function(t,{method:"POST"})}async refreshAccessToken(){if(this.client_id||(this.client_id=await this.getClientID()),!this.oauth2_tokens)throw new sL("No tokens available to refresh.");let{client_id:t,client_secret:e}=this.client_id,{refresh_token:i}=this.oauth2_tokens,s={client_id:t,client_secret:e,refresh_token:i,grant_type:"refresh_token"},n=await c(this,DL,BL).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new sL(`Failed to refresh access token: ${n.status}`);let a=await n.json();if(a.error_code)throw new sL("Authorization server returned an error",a);this.oauth2_tokens.access_token=a.access_token,this.oauth2_tokens.expiry_date=new Date(Date.now()+1e3*a.expires_in).toISOString(),c(this,LL).emit("update-credentials",{credentials:this.oauth2_tokens})}async getDeviceAndUserCode(){if(!this.client_id)throw new sL("Client ID is missing.");let{client_id:t}=this.client_id,e={client_id:t,scope:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",device_id:zM.shim.uuidv4(),device_model:"ytlr::"},i=await c(this,DL,BL).fetch_function(this.AUTH_SERVER_CODE_URL,{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new sL(`Failed to get device/user code: ${i.status}`);let s=await i.json();if(s.error_code)throw new sL("Authorization server returned an error",s);return s}async getClientID(){let t=await c(this,DL,BL).fetch_function(this.YTTV_URL,{headers:{"User-Agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",Referer:"https://www.youtube.com/tv","Accept-Language":"en-US"}});if(!t.ok)throw new sL(`Failed to get client ID: ${t.status}`);let e,i=await t.text();if(null!==(e=Rs.OAUTH.REGEX.TV_SCRIPT.exec(i))){Zi.info(OL,`Got YouTubeTV script URL (${e[1]})`);let t=await c(this,DL,BL).fetch(e[1],{baseURL:Rs.URLS.YT_BASE});if(!t.ok)throw new sL(`TV script request failed with status code ${t.status}`);let i=(await t.text()).match(Rs.OAUTH.REGEX.CLIENT_IDENTITY);if(!i||!i.groups)throw new sL("Could not obtain client ID.");let{client_id:s,client_secret:n}=i.groups;return Zi.info(OL,`Client identity retrieved (clientId=${s}, clientSecret=${n}).`),{client_id:s,client_secret:n}}throw new sL("Could not obtain script URL.")}shouldRefreshToken(){return!!this.oauth2_tokens&&Date.now()>new Date(this.oauth2_tokens.expiry_date).getTime()}validateTokens(t){return!(!t.access_token||!t.refresh_token||!t.expiry_date)}};LL=new WeakMap,DL=new WeakSet,NL=n(async function(){let t=await(c(this,LL).cache?.get("youtubei_oauth_credentials"));if(!t)return!1;let e=new TextDecoder,i=JSON.parse(e.decode(t));return this.setTokens(i),c(this,LL).emit("auth",{credentials:i}),!0},"#loadFromCache"),BL=n(function(){return c(this,LL).http},"#http"),n(UL,"OAuth2");var FL=UL,HL="Player",WL=class t{constructor(t,e,i,s){o(this,"player_id"),o(this,"sts"),o(this,"nsig_sc"),o(this,"sig_sc"),o(this,"po_token"),this.player_id=t,this.sts=e,this.nsig_sc=s,this.sig_sc=i}static async create(e,i=zM.shim.fetch,s,n){if(!n){let t=new URL("/iframe_api",Rs.URLS.YT_BASE),e=await i(t);if(!e.ok)throw new aL(`Failed to get player id: ${e.status} (${e.statusText})`);n=dL(await e.text(),"player\\/","\\/")}if(Zi.info(HL,`Using player id (${n}). Checking for cached players..`),!n)throw new aL("Failed to get player id");if(e){let i=await t.fromCache(e,n);if(i)return Zi.info(HL,"Found up-to-date player data in cache."),i.po_token=s,i}let a=new URL(`/s/player/${n}/player_ias.vflset/en_US/base.js`,Rs.URLS.YT_BASE);Zi.info(HL,`Could not find any cached player. Will download a new player from ${a}.`);let o=await i(a,{headers:{"user-agent":pL("desktop")}});if(!o.ok)throw new aL(`Failed to get player data: ${o.status}`);let r=await o.text(),c=Ji.parseScript(r,{ecmaVersion:"latest",ranges:!0}),l=this.extractSigTimestamp(r),h=this.extractGlobalVariable(r,c),d=this.extractSigSourceCode(r,h),u=this.extractNSigSourceCode(r,c,h);Zi.info(HL,`Got signature timestamp (${l}) and algorithms needed to decipher signatures.`);let p=await t.fromSource(n,l,e,d,u);return p.po_token=s,p}decipher(t,e,i,s){if(!(t=t||e||i))throw new aL("No valid URL to decipher");let n=new URLSearchParams(t),a=new URL(n.get("url")||t);if(this.sig_sc&&(e||i)){let t=zM.shim.eval(this.sig_sc,{sig:n.get("s")});if(Zi.info(HL,`Transformed signature from ${n.get("s")} to ${t}.`),"string"!=typeof t)throw new aL("Failed to decipher signature");let e=n.get("sp");e?a.searchParams.set(e,t):a.searchParams.set("signature",t)}let o=a.searchParams.get("n");if(this.nsig_sc&&o){let t;if(s&&s.has(o))t=s.get(o);else{if(t=zM.shim.eval(this.nsig_sc,{nsig:o}),Zi.info(HL,`Transformed n signature from ${o} to ${t}.`),"string"!=typeof t)throw new aL("Failed to decipher nsig");t.startsWith("enhanced_except_")?Zi.warn(HL,"Something went wrong while deciphering nsig."):s&&s.set(o,t)}a.searchParams.set("n",t)}switch("1"!==a.searchParams.get("sabr")&&this.po_token&&a.searchParams.set("pot",this.po_token),a.searchParams.get("c")){case"WEB":a.searchParams.set("cver",Rs.CLIENTS.WEB.VERSION);break;case"MWEB":a.searchParams.set("cver",Rs.CLIENTS.MWEB.VERSION);break;case"WEB_REMIX":a.searchParams.set("cver",Rs.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":a.searchParams.set("cver",Rs.CLIENTS.WEB_KIDS.VERSION);break;case"TVHTML5":a.searchParams.set("cver",Rs.CLIENTS.TV.VERSION);break;case"TVHTML5_SIMPLY":a.searchParams.set("cver",Rs.CLIENTS.TV_SIMPLY.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":a.searchParams.set("cver",Rs.CLIENTS.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":a.searchParams.set("cver",Rs.CLIENTS.WEB_EMBEDDED.VERSION)}let r=a.toString();return Zi.info(HL,`Deciphered URL: ${r}`),a.toString()}static async fromCache(e,i){let s=await e.get(i);if(!s)return null;try{let e=$n.deserialize(new Uint8Array(s));return e.library_version!==tn.version?(Zi.warn(HL,`Cached player data is from a different library version (${e.library_version}). Ignoring it.`),null):new t(e.player_id,e.sts,e.sig_sc,e.nsig_sc)}catch(t){return Zi.error(HL,"Failed to deserialize player data from cache:",t),null}}static async fromSource(e,i,s,n,a){let o=new t(e,i,n,a);return await o.cache(s),o}async cache(t){if(!t||!this.sig_sc||!this.nsig_sc)return;let e=$n.serialize({player_id:this.player_id,sts:this.sts,sig_sc:this.sig_sc,nsig_sc:this.nsig_sc,library_version:tn.version});await t.set(this.player_id,e)}static extractSigTimestamp(t){return parseInt(dL(t,"signatureTimestamp:",",")||"0")}static extractGlobalVariable(t,e){let i=IL(t,{includes:"-_w8_",ast:e});return i||(i=IL(t,{includes:"Untrusted URL{",ast:e})),i||(i=IL(t,{includes:"1969",ast:e})),i||(i=IL(t,{includes:"1970",ast:e})),i||(i=IL(t,{includes:"playerfallback",ast:e})),i}static extractSigSourceCode(t,e){let i=e?.name?.replace(/[$^\\.*+?()[\]{}|]/g,"\\$&"),s=i?new RegExp(`function\\(([A-Za-z_0-9]+)\\)\\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\\[${i}\\[\\d+\\]\\]\\([^)]*\\)([\\s\\S]+?)\\[${i}\\[\\d+\\]\\]\\([^)]*\\))\\}`):null,n=t.match(/function\(([A-Za-z_0-9]+)\)\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\.split\((?:[^)]+)\)(.+?)\.join\((?:[^)]+)\))\}/)||(s?t.match(s):null);if(!n)return void Zi.warn(HL,"Failed to extract signature decipher algorithm.");let a=n[1],o=n[3].split(/\.|\[/)[0]?.replace(";","").trim(),r=dL(t,`var ${o}={`,"};");return(!r||!a)&&Zi.warn(HL,"Failed to extract signature decipher algorithm."),`${e?.result?`var ${e.result};`:""} function descramble_sig(${a}) { let ${o}={${r}}; ${n[2]} } descramble_sig(sig);`}static extractNSigSourceCode(t,e,i){let s;return i&&(s=TL(t,{includes:`new Date(${i.name}`,ast:e}),s||(s=TL(t,{includes:".push(String.fromCharCode(",ast:e})),s||(s=TL(t,{includes:".reverse().forEach(function",ast:e})),s)?`var ${i.result}; var ${s.result} ${s.name}(nsig);`:(s=TL(t,{includes:"-_w8_",ast:e}),s||(s=TL(t,{includes:"1969",ast:e})),s||(s=TL(t,{includes:"enhanced_except",ast:e})),s?`let ${s.result} ${s.name}(nsig);`:void 0)}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,Rs.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 14}};n(WL,"Player");var jL,GL,$L,qL,KL,YL=WL,zL="WEB",QL="MWEB",XL="WEB_REMIX",JL="ANDROID",ZL="Session",tD=class t extends js{constructor(t,e,i,s,n,a,r,c,l,h){super(),o(this,"context"),o(this,"api_key"),o(this,"api_version"),o(this,"account_index"),o(this,"config_data"),o(this,"player"),o(this,"cookie"),o(this,"cache"),o(this,"po_token"),o(this,"oauth"),o(this,"http"),o(this,"logged_in"),o(this,"actions"),o(this,"user_agent"),this.context=t,this.api_key=e,this.api_version=i,this.account_index=s,this.config_data=n,this.player=a,this.cookie=r,this.cache=l,this.po_token=h,this.http=new Wn(this,r,c),this.actions=new VL(this),this.oauth=new FL(this),this.logged_in=!!r,this.user_agent=t.client.userAgent}on(t,e){super.on(t,e)}once(t,e){super.once(t,e)}static async create(e={}){let{context:i,api_key:s,api_version:n,account_index:a,config_data:o}=await t.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.user_agent,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token,e.retrieve_innertube_config);return new t(i,s,n,a,o,!1===e.retrieve_player?void 0:await YL.create(e.cache,e.fetch,e.po_token,e.player_id),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(t,e){let i=await t.get("innertube_session_data");if(!i)return null;try{let t=$n.deserialize(new Uint8Array(i));if(t.library_version!==parseInt(tn.version.split(".",1)[0]))return Zi.warn(ZL,`Cached session data is from a different library version (${t.library_version}). Regenerating session data.`),null;if(e.visitor_data&&(t.context.client.visitorData=e.visitor_data),e.lang&&(t.context.client.hl=e.lang),e.location&&(t.context.client.gl=e.location),e.on_behalf_of_user&&(t.context.user.onBehalfOfUser=e.on_behalf_of_user),e.user_agent&&(t.context.client.userAgent=e.user_agent),e.client_name){let i=Object.values(Ls).find(t=>t.NAME===e.client_name);i?(t.context.client.clientName=i.NAME,t.context.client.clientVersion=i.VERSION):Zi.warn(ZL,`Unknown client name: ${e.client_name}.`)}return t.context.client.timeZone=e.time_zone,t.context.client.platform=e.device_category.toUpperCase(),t.context.user.enableSafetyMode=e.enable_safety_mode,t}catch(t){return Zi.error(ZL,"Failed to deserialize session data from cache.",t),null}}static async getSessionData(t="",e="",i=0,s="",n=pL("desktop"),a=!1,o=!1,r="desktop",c=zL,l=Intl.DateTimeFormat().resolvedOptions().timeZone,h=zM.shim.fetch,u,p,m=!0,_,f=!0){let y,b={lang:t,location:e,time_zone:l,user_agent:n,device_category:r,client_name:c,enable_safety_mode:a,visitor_data:s,on_behalf_of_user:u,po_token:_};if(p&&m){let t=await this.fromCache(p,b);t&&(Zi.info(ZL,"Found session data in cache."),y=t)}if(!y){Zi.info(ZL,"Generating session data.");let i=Ls.WEB.API_KEY,_=Ls.WEB.API_VERSION,g={hl:t||"en",gl:e||"US",remote_host:"",user_agent:n,visitor_data:s||Qn.encodeVisitorData(_L(11),Math.floor(Date.now()/1e3)),client_name:c,client_version:Object.values(Ls).find(t=>t.NAME===c)?.VERSION??Ls.WEB.VERSION,device_category:r.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:l,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:a};if(!o)try{let t=await d(this,jL,$L).call(this,b,h);i=t.api_key,_=t.api_version,g=t.context_data}catch(t){Zi.error(ZL,"Failed to retrieve session data from server. Session data generated locally will be used instead.",t)}if(u&&(g.on_behalf_of_user=u),y={api_key:i,api_version:_,context:d(this,jL,qL).call(this,g)},f)try{Zi.info(ZL,"Retrieving InnerTube config data.");let e={"Accept-Language":t,Accept:"*/*",Referer:As.YT_BASE,"X-Goog-Visitor-Id":g.visitor_data,"X-Origin":As.YT_BASE,"X-Youtube-Client-Version":g.client_version};zM.shim.server&&(e["User-Agent"]=n,e.Origin=As.YT_BASE);let i=await(await h(`${As.API.PRODUCTION_1}v1/config?prettyPrint=false`,{headers:e,method:"POST",body:JSON.stringify({context:y.context})})).json(),s=i.responseContext?.globalConfigGroup?.rawColdConfigGroup?.configData,a=i.responseContext?.globalConfigGroup?.coldHashData,o=i.responseContext?.globalConfigGroup?.hotHashData;y.config_data=i.configData,y.context.client.configInfo={...y.context.client.configInfo,coldConfigData:s,coldHashData:a,hotHashData:o}}catch(t){Zi.error(ZL,"Failed to retrieve config data.",t)}m&&await d(this,jL,GL).call(this,y,p)}return Zi.debug(ZL,"Session data:",y),{...y,account_index:i}}async signIn(t){return new Promise(async(e,i)=>{let s=n(t=>i(t),"error_handler");this.once("auth-error",s),this.once("auth",()=>{this.off("auth-error",s),this.logged_in=!0,e()});try{await this.oauth.init(t)}catch(t){i(t)}})}async signOut(){if(!this.logged_in)throw new XM("You must be signed in to perform this operation.");let t=await this.oauth.revokeCredentials();return this.logged_in=!1,t}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};jL=new WeakSet,GL=n(async function(t,e){if(!e)return;Zi.info(ZL,"Compressing and caching session data.");let i=$n.serialize({...t,library_version:parseInt(tn.version)});await e.set("innertube_session_data",i)},"#storeSession"),$L=n(async function(t,e=zM.shim.fetch){let i=_L(11);t.visitor_data&&(i=d(this,jL,KL).call(this,t.visitor_data));let s=new URL("/sw.js_data",As.YT_BASE),n=await e(s,{headers:{"Accept-Language":t.lang||"en-US","User-Agent":t.user_agent,Accept:"*/*",Referer:`${As.YT_BASE}/sw.js`,Cookie:`PREF=tz=${t.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${i};`}});if(!n.ok)throw new rL(`Failed to retrieve session data: ${n.status}`);let a=await n.text();if(!a.startsWith(")]}'"))throw new rL("Invalid JSPB response");let o=JSON.parse(a.replace(/^\)\]\}'/,""))[0][2],r=Ls.WEB.API_VERSION,[[c],l]=o,h=c[61],u=h[h.length-1];return{context_data:{hl:t.lang||c[0],gl:t.location||c[1],remote_host:c[3],visitor_data:t.visitor_data||c[13],user_agent:t.user_agent,client_name:t.client_name,client_version:"WEB"===t.client_name?c[16]:Object.values(Ls).find(e=>e.NAME===t.client_name)?.VERSION||c[16],os_name:c[17],os_version:c[18],time_zone:c[79]||t.time_zone,device_category:t.device_category,browser_name:c[86],browser_version:c[87],device_make:c[11],device_model:c[12],app_install_data:u,device_experiment_id:c[103],rollout_token:c[107],enable_safety_mode:t.enable_safety_mode},api_key:l,api_version:r}},"#getSessionData"),qL=n(function(t){let e={client:{hl:t.hl||"en",gl:t.gl||"US",remoteHost:t.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:t.visitor_data,clientName:t.client_name,clientVersion:t.client_version,osName:t.os_name,osVersion:t.os_version,userAgent:t.user_agent,platform:t.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:t.time_zone,originalUrl:As.YT_BASE,deviceMake:t.device_make,deviceModel:t.device_model,browserName:t.browser_name,browserVersion:t.browser_version,utcOffsetMinutes:-Math.floor((new Date).getTimezoneOffset()),memoryTotalKbytes:"8000000",rolloutToken:t.rollout_token,deviceExperimentId:t.device_experiment_id,mainAppWebInfo:{graftUrl:As.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:t.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return t.app_install_data&&(e.client.configInfo={appInstallData:t.app_install_data}),t.on_behalf_of_user&&(e.user.onBehalfOfUser=t.on_behalf_of_user),e},"#buildContext"),KL=n(function(t){return Qn.decodeVisitorData(t).id},"#getVisitorID"),l(tD,jL),n(tD,"Session");var eD=tD;a({},{Kids:()=>lD,Music:()=>dD,Studio:()=>gB});var iD,sD=class{constructor(t){l(this,iD),h(this,iD,t)}async search(t){let e=await new nr({searchEndpoint:{query:t}}).call(c(this,iD).actions,{client:"YTKIDS"});return new OM(c(this,iD).actions,e)}async getInfo(t,e){let i={videoId:t},s=new nr({watchEndpoint:i}),n=new nr({watchNextEndpoint:i}),a=c(this,iD),o={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:a.player?.sts}},client:"YTKIDS"};e?.po_token?o.serviceIntegrityDimensions={poToken:e.po_token}:a.po_token&&(o.serviceIntegrityDimensions={poToken:a.po_token});let r=s.call(a.actions,o),l=n.call(a.actions,{client:"YTKIDS"}),h=await Promise.all([r,l]),d=_L(16);return new FM(h,a.actions,d)}async getChannel(t){let e=await new nr({browseEndpoint:{browseId:t}}).call(c(this,iD).actions,{client:"YTKIDS"});return new DM(c(this,iD).actions,e)}async getHomeFeed(){let t=await new nr({browseEndpoint:{browseId:"FEkids_home"}}).call(c(this,iD).actions,{client:"YTKIDS"});return new BM(c(this,iD).actions,t)}async blockChannel(t){let e=c(this,iD);if(!e.logged_in)throw new XM("You must be signed in to perform this operation.");let i={contents:(await new nr({getKidsBlocklistPickerCommand:{blockedForKidsContent:{external_channel_id:t}}}).call(e.actions,{client:"YTKIDS"})).data.command.confirmDialogEndpoint.content,engagementPanels:[]},s=Os.parseResponse(i).contents_memo?.getType(tE);if(!s)throw new XM("Could not find any kids profiles or supervised accounts.");let n=[];for(let t of s)t.block_button?.is_toggled||(t.setActions(e.actions),n.push(await t.blockChannel()));return n}};iD=new WeakMap,n(sD,"Kids");var nD,aD,oD,rD,cD,lD=sD,hD=class{constructor(t){l(this,oD),l(this,nD),l(this,aD),h(this,nD,t),h(this,aD,t.actions)}getInfo(t,e){return t instanceof dx?d(this,oD,cD).call(this,t.endpoint,e):t instanceof lx?d(this,oD,cD).call(this,t.overlay?.content?.endpoint??t.endpoint,e):t instanceof nr?d(this,oD,cD).call(this,t,e):d(this,oD,rD).call(this,t,e)}async search(t,e={}){let i;if(bL({query:t}),e.type&&"all"!==e.type){let t=Aa.encode({filters:{musicSearchType:{[e.type]:!0}}});i=encodeURIComponent(xL(t.finish()))}let s=await new nr({searchEndpoint:{query:t,params:i}}).call(c(this,aD),{client:"YTMUSIC"});return new EM(s,c(this,aD),Reflect.has(e,"type")&&"all"!==e.type)}async getHomeFeed(){let t=await new nr({browseEndpoint:{browseId:"FEmusic_home"}}).call(c(this,aD),{client:"YTMUSIC"});return new eM(t,c(this,aD))}async getExplore(){let t=await new nr({browseEndpoint:{browseId:"FEmusic_explore"}}).call(c(this,aD),{client:"YTMUSIC"});return new QA(t)}async getLibrary(){let t=await new nr({browseEndpoint:{browseId:"FEmusic_library_landing"}}).call(c(this,aD),{client:"YTMUSIC"});return new oM(t,c(this,aD))}async getArtist(t){if(!t||!t.startsWith("UC")&&!t.startsWith("FEmusic_library_privately_owned_artist"))throw new XM("Invalid artist id",t);let e=await new nr({browseEndpoint:{browseId:t}}).call(c(this,aD),{client:"YTMUSIC"});return new $A(e,c(this,aD))}async getAlbum(t){if(!t||!t.startsWith("MPR")&&!t.startsWith("FEmusic_library_privately_owned_release"))throw new XM("Invalid album id",t);let e=await new nr({browseEndpoint:{browseId:t}}).call(c(this,aD),{client:"YTMUSIC"});return new WA(e)}async getPlaylist(t){t.startsWith("VL")||(t=`VL${t}`);let e=await new nr({browseEndpoint:{browseId:t}}).call(c(this,aD),{client:"YTMUSIC"});return new gM(e,c(this,aD))}async getUpNext(t,e=!0){bL({video_id:t});let i=(await new nr({watchNextEndpoint:{videoId:t}}).call(c(this,aD),{client:"YTMUSIC",parse:!0})).contents_memo?.getType(dT)?.[0];if(!i)throw new XM("Could not find target tab.");let s=i.content?.as($x);if(!s||!s.content)throw new XM("Music queue was empty, the given id is probably invalid.",s);let n=s.content.as(jx);if(!n.playlist_id&&e){let e=n.contents.firstOfType(Bc);if(!e)throw new XM("Automix item not found");let i=await(e.playlist_video?.endpoint.call(c(this,aD),{videoId:t,client:"YTMUSIC",parse:!0}));if(!i||!i.contents_memo)throw new XM("Could not fetch automix");return i.contents_memo.getType(jx)[0]}return n}async getRelated(t){bL({video_id:t});let e=(await new nr({watchNextEndpoint:{videoId:t}}).call(c(this,aD),{client:"YTMUSIC",parse:!0})).contents_memo?.getType(dT)?.find(t=>"MUSIC_PAGE_TYPE_TRACK_RELATED"===t.endpoint.payload.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType);if(!e)throw new XM("Could not find target tab.");let i=await e.endpoint.call(c(this,aD),{client:"YTMUSIC",parse:!0});if(!i.contents)throw new XM("Unexpected response",i);return i.contents.item().as(vh,vm)}async getLyrics(t){bL({video_id:t});let e=(await new nr({watchNextEndpoint:{videoId:t}}).call(c(this,aD),{client:"YTMUSIC",parse:!0})).contents_memo?.getType(dT)?.find(t=>"MUSIC_PAGE_TYPE_TRACK_LYRICS"===t.endpoint.payload.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType);if(!e)throw new XM("Could not find target tab.");let i=await e.endpoint.call(c(this,aD),{client:"YTMUSIC",parse:!0});if(!i.contents)throw new XM("Unexpected response",i);if("Message"===i.contents.item().type)throw new XM(i.contents.item().as(vm).text.toString(),t);return i.contents.item().as(vh).contents.firstOfType(_x)}async getRecap(){let t=await new nr({browseEndpoint:{browseId:"FEmusic_listening_review"}}).call(c(this,aD),{client:"YTMUSIC"});return new SM(t,c(this,aD))}async getSearchSuggestions(t){let e=await c(this,aD).execute("/music/get_search_suggestions",{input:t,client:"YTMUSIC",parse:!0});return e.contents_memo?e.contents_memo.getType(kC):[]}};nD=new WeakMap,aD=new WeakMap,oD=new WeakSet,rD=n(async function(t,e){let i={videoId:t,racyCheckOk:!0,contentCheckOk:!0},s=new nr({watchEndpoint:i}),n=new nr({watchNextEndpoint:i}),a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:c(this,nD).player?.sts}},client:"YTMUSIC"};e?.po_token?a.serviceIntegrityDimensions={poToken:e.po_token}:c(this,nD).po_token&&(a.serviceIntegrityDimensions={poToken:c(this,nD).po_token});let o=s.call(c(this,aD),a),r=n.call(c(this,aD),{client:"YTMUSIC"}),l=await Promise.all([o,r]),h=_L(16);return new MM(l,c(this,aD),h)},"#fetchInfoFromVideoId"),cD=n(async function(t,e){if(!t)throw new Error("This item does not have an endpoint.");let i={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:c(this,nD).player?.sts}},client:"YTMUSIC"};e?.po_token?i.serviceIntegrityDimensions={poToken:e.po_token}:c(this,nD).po_token&&(i.serviceIntegrityDimensions={poToken:c(this,nD).po_token});let s=t.call(c(this,aD),i),n=t.call(c(this,aD),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),a=_L(16),o=await Promise.all([s,n]);return new MM(o,c(this,aD),a)},"#fetchInfoFromEndpoint"),n(hD,"Music");var dD=hD;function uD(){return{profile:void 0,supportedCapabilities:[],disabledCapabilities:[],snapshot:void 0}}n(uD,"createBaseCapabilityInfo");var pD={encode(t,e=new ba){void 0!==t.profile&&e.uint32(10).string(t.profile);for(let i of t.supportedCapabilities)_D.encode(i,e.uint32(18).fork()).join();for(let i of t.disabledCapabilities)_D.encode(i,e.uint32(26).fork()).join();return void 0!==t.snapshot&&e.uint32(42).string(t.snapshot),e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={profile:void 0,supportedCapabilities:[],disabledCapabilities:[],snapshot:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.profile=i.string();continue;case 2:if(18!==t)break;n.supportedCapabilities.push(_D.decode(i,i.uint32()));continue;case 3:if(26!==t)break;n.disabledCapabilities.push(_D.decode(i,i.uint32()));continue;case 5:if(42!==t)break;n.snapshot=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function mD(){return{capability:void 0,features:void 0,experimentFlags:void 0}}n(mD,"createBaseInnerTubeCapability");var _D={encode:(t,e=new ba)=>(void 0!==t.capability&&e.uint32(8).uint32(t.capability),void 0!==t.features&&e.uint32(16).uint32(t.features),void 0!==t.experimentFlags&&e.uint32(50).string(t.experimentFlags),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={capability:void 0,features:void 0,experimentFlags:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.capability=i.uint32();continue;case 2:if(16!==t)break;n.features=i.uint32();continue;case 6:if(50!==t)break;n.experimentFlags=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function fD(){return{hl:void 0,gl:void 0,remoteHost:void 0,deviceId:void 0,debugDeviceIdOverride:void 0,carrierGeo:void 0,crackedHl:void 0,deviceMake:void 0,deviceModel:void 0,visitorData:void 0,userAgent:void 0,clientName:void 0,clientVersion:void 0,osName:void 0,osVersion:void 0,projectId:void 0,acceptLanguage:void 0,acceptRegion:void 0,originalUrl:void 0,rawDeviceId:void 0,configData:void 0,spacecastToken:void 0,internalGeo:void 0,screenWidthPoints:void 0,screenHeightPoints:void 0,screenWidthInches:void 0,screenHeightInches:void 0,screenPixelDensity:void 0,platform:void 0,spacecastClientInfo:void 0,clientFormFactor:void 0,forwardedFor:void 0,mobileDataPlanInfo:void 0,gmscoreVersionCode:void 0,webpSupport:void 0,cameraType:void 0,experimentsToken:void 0,windowWidthPoints:void 0,windowHeightPoints:void 0,configInfo:void 0,unpluggedLocationInfo:void 0,androidSdkVersion:void 0,screenDensityFloat:void 0,firstTimeSignInExperimentIds:void 0,utcOffsetMinutes:void 0,animatedWebpSupport:void 0,kidsAppInfo:void 0,musicAppInfo:void 0,tvAppInfo:void 0,internalGeoIp:void 0,unpluggedAppInfo:void 0,locationInfo:void 0,contentSizeCategory:void 0,fontScale:void 0,userInterfaceTheme:void 0,timeZone:void 0,homeGroupInfo:void 0,emlTemplateContext:void 0,coldAppBundleConfigData:void 0,browserName:void 0,browserVersion:void 0,locationPlayabilityToken:void 0,chipset:void 0,firmwareVersion:void 0,memoryTotalKbytes:void 0,mainAppWebInfo:void 0,notificationPermissionInfo:void 0,deviceBrand:void 0,glDeviceInfo:void 0}}n(fD,"createBaseClientInfo");var yD={encode:(t,e=new ba)=>(void 0!==t.hl&&e.uint32(10).string(t.hl),void 0!==t.gl&&e.uint32(18).string(t.gl),void 0!==t.remoteHost&&e.uint32(34).string(t.remoteHost),void 0!==t.deviceId&&e.uint32(50).string(t.deviceId),void 0!==t.debugDeviceIdOverride&&e.uint32(66).string(t.debugDeviceIdOverride),void 0!==t.carrierGeo&&e.uint32(82).string(t.carrierGeo),void 0!==t.crackedHl&&e.uint32(88).bool(t.crackedHl),void 0!==t.deviceMake&&e.uint32(98).string(t.deviceMake),void 0!==t.deviceModel&&e.uint32(106).string(t.deviceModel),void 0!==t.visitorData&&e.uint32(114).string(t.visitorData),void 0!==t.userAgent&&e.uint32(122).string(t.userAgent),void 0!==t.clientName&&e.uint32(128).int32(t.clientName),void 0!==t.clientVersion&&e.uint32(138).string(t.clientVersion),void 0!==t.osName&&e.uint32(146).string(t.osName),void 0!==t.osVersion&&e.uint32(154).string(t.osVersion),void 0!==t.projectId&&e.uint32(162).string(t.projectId),void 0!==t.acceptLanguage&&e.uint32(170).string(t.acceptLanguage),void 0!==t.acceptRegion&&e.uint32(178).string(t.acceptRegion),void 0!==t.originalUrl&&e.uint32(186).string(t.originalUrl),void 0!==t.rawDeviceId&&e.uint32(202).string(t.rawDeviceId),void 0!==t.configData&&e.uint32(218).string(t.configData),void 0!==t.spacecastToken&&e.uint32(250).string(t.spacecastToken),void 0!==t.internalGeo&&e.uint32(274).string(t.internalGeo),void 0!==t.screenWidthPoints&&e.uint32(296).int32(t.screenWidthPoints),void 0!==t.screenHeightPoints&&e.uint32(304).int32(t.screenHeightPoints),void 0!==t.screenWidthInches&&e.uint32(317).float(t.screenWidthInches),void 0!==t.screenHeightInches&&e.uint32(325).float(t.screenHeightInches),void 0!==t.screenPixelDensity&&e.uint32(328).int32(t.screenPixelDensity),void 0!==t.platform&&e.uint32(336).int32(t.platform),void 0!==t.spacecastClientInfo&&CD.encode(t.spacecastClientInfo,e.uint32(362).fork()).join(),void 0!==t.clientFormFactor&&e.uint32(368).int32(t.clientFormFactor),void 0!==t.forwardedFor&&e.uint32(386).string(t.forwardedFor),void 0!==t.mobileDataPlanInfo&&PD.encode(t.mobileDataPlanInfo,e.uint32(394).fork()).join(),void 0!==t.gmscoreVersionCode&&e.uint32(400).int32(t.gmscoreVersionCode),void 0!==t.webpSupport&&e.uint32(408).bool(t.webpSupport),void 0!==t.cameraType&&e.uint32(416).int32(t.cameraType),void 0!==t.experimentsToken&&e.uint32(434).string(t.experimentsToken),void 0!==t.windowWidthPoints&&e.uint32(440).int32(t.windowWidthPoints),void 0!==t.windowHeightPoints&&e.uint32(448).int32(t.windowHeightPoints),void 0!==t.configInfo&&AD.encode(t.configInfo,e.uint32(498).fork()).join(),void 0!==t.unpluggedLocationInfo&&LD.encode(t.unpluggedLocationInfo,e.uint32(506).fork()).join(),void 0!==t.androidSdkVersion&&e.uint32(512).int32(t.androidSdkVersion),void 0!==t.screenDensityFloat&&e.uint32(525).float(t.screenDensityFloat),void 0!==t.firstTimeSignInExperimentIds&&e.uint32(528).int32(t.firstTimeSignInExperimentIds),void 0!==t.utcOffsetMinutes&&e.uint32(536).int32(t.utcOffsetMinutes),void 0!==t.animatedWebpSupport&&e.uint32(544).bool(t.animatedWebpSupport),void 0!==t.kidsAppInfo&&ND.encode(t.kidsAppInfo,e.uint32(554).fork()).join(),void 0!==t.musicAppInfo&&jD.encode(t.musicAppInfo,e.uint32(562).fork()).join(),void 0!==t.tvAppInfo&&$D.encode(t.tvAppInfo,e.uint32(570).fork()).join(),void 0!==t.internalGeoIp&&e.uint32(578).string(t.internalGeoIp),void 0!==t.unpluggedAppInfo&&zD.encode(t.unpluggedAppInfo,e.uint32(586).fork()).join(),void 0!==t.locationInfo&&XD.encode(t.locationInfo,e.uint32(594).fork()).join(),void 0!==t.contentSizeCategory&&e.uint32(610).string(t.contentSizeCategory),void 0!==t.fontScale&&e.uint32(621).float(t.fontScale),void 0!==t.userInterfaceTheme&&e.uint32(624).int32(t.userInterfaceTheme),void 0!==t.timeZone&&e.uint32(642).string(t.timeZone),void 0!==t.homeGroupInfo&&eN.encode(t.homeGroupInfo,e.uint32(650).fork()).join(),void 0!==t.emlTemplateContext&&e.uint32(674).bytes(t.emlTemplateContext),void 0!==t.coldAppBundleConfigData&&e.uint32(682).bytes(t.coldAppBundleConfigData),void 0!==t.browserName&&e.uint32(698).string(t.browserName),void 0!==t.browserVersion&&e.uint32(706).string(t.browserVersion),void 0!==t.locationPlayabilityToken&&e.uint32(714).string(t.locationPlayabilityToken),void 0!==t.chipset&&e.uint32(738).string(t.chipset),void 0!==t.firmwareVersion&&e.uint32(746).string(t.firmwareVersion),void 0!==t.memoryTotalKbytes&&e.uint32(760).int64(t.memoryTotalKbytes),void 0!==t.mainAppWebInfo&&gD.encode(t.mainAppWebInfo,e.uint32(770).fork()).join(),void 0!==t.notificationPermissionInfo&&wD.encode(t.notificationPermissionInfo,e.uint32(778).fork()).join(),void 0!==t.deviceBrand&&e.uint32(786).string(t.deviceBrand),void 0!==t.glDeviceInfo&&kD.encode(t.glDeviceInfo,e.uint32(818).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={hl:void 0,gl:void 0,remoteHost:void 0,deviceId:void 0,debugDeviceIdOverride:void 0,carrierGeo:void 0,crackedHl:void 0,deviceMake:void 0,deviceModel:void 0,visitorData:void 0,userAgent:void 0,clientName:void 0,clientVersion:void 0,osName:void 0,osVersion:void 0,projectId:void 0,acceptLanguage:void 0,acceptRegion:void 0,originalUrl:void 0,rawDeviceId:void 0,configData:void 0,spacecastToken:void 0,internalGeo:void 0,screenWidthPoints:void 0,screenHeightPoints:void 0,screenWidthInches:void 0,screenHeightInches:void 0,screenPixelDensity:void 0,platform:void 0,spacecastClientInfo:void 0,clientFormFactor:void 0,forwardedFor:void 0,mobileDataPlanInfo:void 0,gmscoreVersionCode:void 0,webpSupport:void 0,cameraType:void 0,experimentsToken:void 0,windowWidthPoints:void 0,windowHeightPoints:void 0,configInfo:void 0,unpluggedLocationInfo:void 0,androidSdkVersion:void 0,screenDensityFloat:void 0,firstTimeSignInExperimentIds:void 0,utcOffsetMinutes:void 0,animatedWebpSupport:void 0,kidsAppInfo:void 0,musicAppInfo:void 0,tvAppInfo:void 0,internalGeoIp:void 0,unpluggedAppInfo:void 0,locationInfo:void 0,contentSizeCategory:void 0,fontScale:void 0,userInterfaceTheme:void 0,timeZone:void 0,homeGroupInfo:void 0,emlTemplateContext:void 0,coldAppBundleConfigData:void 0,browserName:void 0,browserVersion:void 0,locationPlayabilityToken:void 0,chipset:void 0,firmwareVersion:void 0,memoryTotalKbytes:void 0,mainAppWebInfo:void 0,notificationPermissionInfo:void 0,deviceBrand:void 0,glDeviceInfo:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.hl=i.string();continue;case 2:if(18!==t)break;n.gl=i.string();continue;case 4:if(34!==t)break;n.remoteHost=i.string();continue;case 6:if(50!==t)break;n.deviceId=i.string();continue;case 8:if(66!==t)break;n.debugDeviceIdOverride=i.string();continue;case 10:if(82!==t)break;n.carrierGeo=i.string();continue;case 11:if(88!==t)break;n.crackedHl=i.bool();continue;case 12:if(98!==t)break;n.deviceMake=i.string();continue;case 13:if(106!==t)break;n.deviceModel=i.string();continue;case 14:if(114!==t)break;n.visitorData=i.string();continue;case 15:if(122!==t)break;n.userAgent=i.string();continue;case 16:if(128!==t)break;n.clientName=i.int32();continue;case 17:if(138!==t)break;n.clientVersion=i.string();continue;case 18:if(146!==t)break;n.osName=i.string();continue;case 19:if(154!==t)break;n.osVersion=i.string();continue;case 20:if(162!==t)break;n.projectId=i.string();continue;case 21:if(170!==t)break;n.acceptLanguage=i.string();continue;case 22:if(178!==t)break;n.acceptRegion=i.string();continue;case 23:if(186!==t)break;n.originalUrl=i.string();continue;case 25:if(202!==t)break;n.rawDeviceId=i.string();continue;case 27:if(218!==t)break;n.configData=i.string();continue;case 31:if(250!==t)break;n.spacecastToken=i.string();continue;case 34:if(274!==t)break;n.internalGeo=i.string();continue;case 37:if(296!==t)break;n.screenWidthPoints=i.int32();continue;case 38:if(304!==t)break;n.screenHeightPoints=i.int32();continue;case 39:if(317!==t)break;n.screenWidthInches=i.float();continue;case 40:if(325!==t)break;n.screenHeightInches=i.float();continue;case 41:if(328!==t)break;n.screenPixelDensity=i.int32();continue;case 42:if(336!==t)break;n.platform=i.int32();continue;case 45:if(362!==t)break;n.spacecastClientInfo=CD.decode(i,i.uint32());continue;case 46:if(368!==t)break;n.clientFormFactor=i.int32();continue;case 48:if(386!==t)break;n.forwardedFor=i.string();continue;case 49:if(394!==t)break;n.mobileDataPlanInfo=PD.decode(i,i.uint32());continue;case 50:if(400!==t)break;n.gmscoreVersionCode=i.int32();continue;case 51:if(408!==t)break;n.webpSupport=i.bool();continue;case 52:if(416!==t)break;n.cameraType=i.int32();continue;case 54:if(434!==t)break;n.experimentsToken=i.string();continue;case 55:if(440!==t)break;n.windowWidthPoints=i.int32();continue;case 56:if(448!==t)break;n.windowHeightPoints=i.int32();continue;case 62:if(498!==t)break;n.configInfo=AD.decode(i,i.uint32());continue;case 63:if(506!==t)break;n.unpluggedLocationInfo=LD.decode(i,i.uint32());continue;case 64:if(512!==t)break;n.androidSdkVersion=i.int32();continue;case 65:if(525!==t)break;n.screenDensityFloat=i.float();continue;case 66:if(528!==t)break;n.firstTimeSignInExperimentIds=i.int32();continue;case 67:if(536!==t)break;n.utcOffsetMinutes=i.int32();continue;case 68:if(544!==t)break;n.animatedWebpSupport=i.bool();continue;case 69:if(554!==t)break;n.kidsAppInfo=ND.decode(i,i.uint32());continue;case 70:if(562!==t)break;n.musicAppInfo=jD.decode(i,i.uint32());continue;case 71:if(570!==t)break;n.tvAppInfo=$D.decode(i,i.uint32());continue;case 72:if(578!==t)break;n.internalGeoIp=i.string();continue;case 73:if(586!==t)break;n.unpluggedAppInfo=zD.decode(i,i.uint32());continue;case 74:if(594!==t)break;n.locationInfo=XD.decode(i,i.uint32());continue;case 76:if(610!==t)break;n.contentSizeCategory=i.string();continue;case 77:if(621!==t)break;n.fontScale=i.float();continue;case 78:if(624!==t)break;n.userInterfaceTheme=i.int32();continue;case 80:if(642!==t)break;n.timeZone=i.string();continue;case 81:if(650!==t)break;n.homeGroupInfo=eN.decode(i,i.uint32());continue;case 84:if(674!==t)break;n.emlTemplateContext=i.bytes();continue;case 85:if(682!==t)break;n.coldAppBundleConfigData=i.bytes();continue;case 87:if(698!==t)break;n.browserName=i.string();continue;case 88:if(706!==t)break;n.browserVersion=i.string();continue;case 89:if(714!==t)break;n.locationPlayabilityToken=i.string();continue;case 92:if(738!==t)break;n.chipset=i.string();continue;case 93:if(746!==t)break;n.firmwareVersion=i.string();continue;case 95:if(760!==t)break;n.memoryTotalKbytes=iN(i.int64());continue;case 96:if(770!==t)break;n.mainAppWebInfo=gD.decode(i,i.uint32());continue;case 97:if(778!==t)break;n.notificationPermissionInfo=wD.decode(i,i.uint32());continue;case 98:if(786!==t)break;n.deviceBrand=i.string();continue;case 102:if(818!==t)break;n.glDeviceInfo=kD.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function bD(){return{graftUrl:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,isWebNativeShareAvailable:void 0,storeDigitalGoodsApiSupportStatus:void 0}}n(bD,"createBaseClientInfo_MainAppWebInfo");var gD={encode:(t,e=new ba)=>(void 0!==t.graftUrl&&e.uint32(10).string(t.graftUrl),void 0!==t.pwaInstallabilityStatus&&e.uint32(16).int32(t.pwaInstallabilityStatus),void 0!==t.webDisplayMode&&e.uint32(24).int32(t.webDisplayMode),void 0!==t.isWebNativeShareAvailable&&e.uint32(32).bool(t.isWebNativeShareAvailable),void 0!==t.storeDigitalGoodsApiSupportStatus&&e.uint32(40).int32(t.storeDigitalGoodsApiSupportStatus),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={graftUrl:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,isWebNativeShareAvailable:void 0,storeDigitalGoodsApiSupportStatus:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.graftUrl=i.string();continue;case 2:if(16!==t)break;n.pwaInstallabilityStatus=i.int32();continue;case 3:if(24!==t)break;n.webDisplayMode=i.int32();continue;case 4:if(32!==t)break;n.isWebNativeShareAvailable=i.bool();continue;case 5:if(40!==t)break;n.storeDigitalGoodsApiSupportStatus=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function vD(){return{notificationsSetting:void 0,lastDeviceOptInChangeTimeAgoSec:void 0}}n(vD,"createBaseClientInfo_NotificationPermissionInfo");var wD={encode:(t,e=new ba)=>(void 0!==t.notificationsSetting&&e.uint32(8).int32(t.notificationsSetting),void 0!==t.lastDeviceOptInChangeTimeAgoSec&&e.uint32(16).int64(t.lastDeviceOptInChangeTimeAgoSec),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={notificationsSetting:void 0,lastDeviceOptInChangeTimeAgoSec:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.notificationsSetting=i.int32();continue;case 2:if(16!==t)break;n.lastDeviceOptInChangeTimeAgoSec=iN(i.int64());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function xD(){return{glRenderer:void 0,glEsVersionMajor:void 0,glEsVersionMinor:void 0}}n(xD,"createBaseClientInfo_GLDeviceInfo");var kD={encode:(t,e=new ba)=>(void 0!==t.glRenderer&&e.uint32(10).string(t.glRenderer),void 0!==t.glEsVersionMajor&&e.uint32(16).int32(t.glEsVersionMajor),void 0!==t.glEsVersionMinor&&e.uint32(24).int32(t.glEsVersionMinor),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={glRenderer:void 0,glEsVersionMajor:void 0,glEsVersionMinor:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.glRenderer=i.string();continue;case 2:if(16!==t)break;n.glEsVersionMajor=i.int32();continue;case 3:if(24!==t)break;n.glEsVersionMinor=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function SD(){return{appliances:void 0,interactionLevel:void 0}}n(SD,"createBaseClientInfo_SpacecastClientInfo");var CD={encode:(t,e=new ba)=>(void 0!==t.appliances&&ID.encode(t.appliances,e.uint32(10).fork()).join(),void 0!==t.interactionLevel&&e.uint32(16).int32(t.interactionLevel),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={appliances:void 0,interactionLevel:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.appliances=ID.decode(i,i.uint32());continue;case 2:if(16!==t)break;n.interactionLevel=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function TD(){return{contentProfileToken:void 0,status:void 0,hostname:void 0,active:void 0,deviceId:void 0}}n(TD,"createBaseClientInfo_SpacecastClientInfo_SpacecastAppliance");var ID={encode:(t,e=new ba)=>(void 0!==t.contentProfileToken&&e.uint32(10).bytes(t.contentProfileToken),void 0!==t.status&&e.uint32(16).int32(t.status),void 0!==t.hostname&&e.uint32(26).string(t.hostname),void 0!==t.active&&e.uint32(32).bool(t.active),void 0!==t.deviceId&&e.uint32(42).string(t.deviceId),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={contentProfileToken:void 0,status:void 0,hostname:void 0,active:void 0,deviceId:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.contentProfileToken=i.bytes();continue;case 2:if(16!==t)break;n.status=i.int32();continue;case 3:if(26!==t)break;n.hostname=i.string();continue;case 4:if(32!==t)break;n.active=i.bool();continue;case 5:if(42!==t)break;n.deviceId=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function ED(){return{cpid:void 0,serializedDataPlanStatus:void 0,dataSavingQualityPickerEnabled:void 0,mccmnc:void 0}}n(ED,"createBaseClientInfo_MobileDataPlanInfo");var PD={encode:(t,e=new ba)=>(void 0!==t.cpid&&e.uint32(394).string(t.cpid),void 0!==t.serializedDataPlanStatus&&e.uint32(402).string(t.serializedDataPlanStatus),void 0!==t.dataSavingQualityPickerEnabled&&e.uint32(416).bool(t.dataSavingQualityPickerEnabled),void 0!==t.mccmnc&&e.uint32(426).string(t.mccmnc),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={cpid:void 0,serializedDataPlanStatus:void 0,dataSavingQualityPickerEnabled:void 0,mccmnc:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 49:if(394!==t)break;n.cpid=i.string();continue;case 50:if(402!==t)break;n.serializedDataPlanStatus=i.string();continue;case 52:if(416!==t)break;n.dataSavingQualityPickerEnabled=i.bool();continue;case 53:if(426!==t)break;n.mccmnc=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function RD(){return{coldConfigData:void 0,coldHashData:void 0,hotHashData:void 0,appInstallData:void 0}}n(RD,"createBaseClientInfo_ConfigGroupsClientInfo");var AD={encode:(t,e=new ba)=>(void 0!==t.coldConfigData&&e.uint32(10).string(t.coldConfigData),void 0!==t.coldHashData&&e.uint32(26).string(t.coldHashData),void 0!==t.hotHashData&&e.uint32(42).string(t.hotHashData),void 0!==t.appInstallData&&e.uint32(50).string(t.appInstallData),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={coldConfigData:void 0,coldHashData:void 0,hotHashData:void 0,appInstallData:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.coldConfigData=i.string();continue;case 3:if(26!==t)break;n.coldHashData=i.string();continue;case 5:if(42!==t)break;n.hotHashData=i.string();continue;case 6:if(50!==t)break;n.appInstallData=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function MD(){return{latitudeE7:void 0,longitudeE7:void 0,localTimestampMs:void 0,ipAddress:void 0,timezone:void 0,prefer24HourTime:void 0,locationRadiusMeters:void 0,isInitialLoad:void 0,browserPermissionGranted:void 0,clientPermissionState:void 0,locationOverrideToken:void 0}}n(MD,"createBaseClientInfo_UnpluggedLocationInfo");var LD={encode:(t,e=new ba)=>(void 0!==t.latitudeE7&&e.uint32(8).int32(t.latitudeE7),void 0!==t.longitudeE7&&e.uint32(16).int32(t.longitudeE7),void 0!==t.localTimestampMs&&e.uint32(24).int64(t.localTimestampMs),void 0!==t.ipAddress&&e.uint32(34).string(t.ipAddress),void 0!==t.timezone&&e.uint32(42).string(t.timezone),void 0!==t.prefer24HourTime&&e.uint32(48).bool(t.prefer24HourTime),void 0!==t.locationRadiusMeters&&e.uint32(56).int32(t.locationRadiusMeters),void 0!==t.isInitialLoad&&e.uint32(64).bool(t.isInitialLoad),void 0!==t.browserPermissionGranted&&e.uint32(72).bool(t.browserPermissionGranted),void 0!==t.clientPermissionState&&e.uint32(80).int32(t.clientPermissionState),void 0!==t.locationOverrideToken&&e.uint32(90).string(t.locationOverrideToken),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={latitudeE7:void 0,longitudeE7:void 0,localTimestampMs:void 0,ipAddress:void 0,timezone:void 0,prefer24HourTime:void 0,locationRadiusMeters:void 0,isInitialLoad:void 0,browserPermissionGranted:void 0,clientPermissionState:void 0,locationOverrideToken:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.latitudeE7=i.int32();continue;case 2:if(16!==t)break;n.longitudeE7=i.int32();continue;case 3:if(24!==t)break;n.localTimestampMs=iN(i.int64());continue;case 4:if(34!==t)break;n.ipAddress=i.string();continue;case 5:if(42!==t)break;n.timezone=i.string();continue;case 6:if(48!==t)break;n.prefer24HourTime=i.bool();continue;case 7:if(56!==t)break;n.locationRadiusMeters=i.int32();continue;case 8:if(64!==t)break;n.isInitialLoad=i.bool();continue;case 9:if(72!==t)break;n.browserPermissionGranted=i.bool();continue;case 10:if(80!==t)break;n.clientPermissionState=i.int32();continue;case 11:if(90!==t)break;n.locationOverrideToken=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function DD(){return{contentSettings:void 0,parentCurationMode:void 0,categorySettings:void 0,userEducationSettings:void 0}}n(DD,"createBaseClientInfo_KidsAppInfo");var ND={encode:(t,e=new ba)=>(void 0!==t.contentSettings&&VD.encode(t.contentSettings,e.uint32(10).fork()).join(),void 0!==t.parentCurationMode&&e.uint32(16).int32(t.parentCurationMode),void 0!==t.categorySettings&&UD.encode(t.categorySettings,e.uint32(26).fork()).join(),void 0!==t.userEducationSettings&&HD.encode(t.userEducationSettings,e.uint32(34).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={contentSettings:void 0,parentCurationMode:void 0,categorySettings:void 0,userEducationSettings:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.contentSettings=VD.decode(i,i.uint32());continue;case 2:if(16!==t)break;n.parentCurationMode=i.int32();continue;case 3:if(26!==t)break;n.categorySettings=UD.decode(i,i.uint32());continue;case 4:if(34!==t)break;n.userEducationSettings=HD.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function BD(){return{kidsNoSearchMode:void 0,ageUpMode:void 0,contentDensity:void 0}}n(BD,"createBaseClientInfo_KidsAppInfo_KidsContentSettings");var VD={encode:(t,e=new ba)=>(void 0!==t.kidsNoSearchMode&&e.uint32(8).int32(t.kidsNoSearchMode),void 0!==t.ageUpMode&&e.uint32(16).int32(t.ageUpMode),void 0!==t.contentDensity&&e.uint32(24).int32(t.contentDensity),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={kidsNoSearchMode:void 0,ageUpMode:void 0,contentDensity:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.kidsNoSearchMode=i.int32();continue;case 2:if(16!==t)break;n.ageUpMode=i.int32();continue;case 3:if(24!==t)break;n.contentDensity=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function OD(){return{enabledCategories:void 0}}n(OD,"createBaseClientInfo_KidsAppInfo_KidsCategorySettings");var UD={encode:(t,e=new ba)=>(void 0!==t.enabledCategories&&e.uint32(10).string(t.enabledCategories),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={enabledCategories:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.enabledCategories=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function FD(){return{hasSeenHomeChipBarUserEducation:void 0,hasSeenHomePivotBarUserEducation:void 0,hasSeenParentMuirUserEducation:void 0}}n(FD,"createBaseClientInfo_KidsAppInfo_KidsUserEducationSettings");var HD={encode:(t,e=new ba)=>(void 0!==t.hasSeenHomeChipBarUserEducation&&e.uint32(8).bool(t.hasSeenHomeChipBarUserEducation),void 0!==t.hasSeenHomePivotBarUserEducation&&e.uint32(16).bool(t.hasSeenHomePivotBarUserEducation),void 0!==t.hasSeenParentMuirUserEducation&&e.uint32(24).bool(t.hasSeenParentMuirUserEducation),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={hasSeenHomeChipBarUserEducation:void 0,hasSeenHomePivotBarUserEducation:void 0,hasSeenParentMuirUserEducation:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.hasSeenHomeChipBarUserEducation=i.bool();continue;case 2:if(16!==t)break;n.hasSeenHomePivotBarUserEducation=i.bool();continue;case 3:if(24!==t)break;n.hasSeenParentMuirUserEducation=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function WD(){return{playBackMode:void 0,musicLocationMasterSwitch:void 0,musicActivityMasterSwitch:void 0,offlineMixtapeEnabled:void 0,autoOfflineEnabled:void 0,iosBackgroundRefreshStatus:void 0,smartDownloadsSongLimit:void 0,transitionedFromMixtapeToSmartDownloads:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,musicTier:void 0,storeDigitalGoodsApiSupportStatus:void 0,smartDownloadsTimeSinceLastOptOutSec:void 0}}n(WD,"createBaseClientInfo_MusicAppInfo");var jD={encode:(t,e=new ba)=>(void 0!==t.playBackMode&&e.uint32(8).int32(t.playBackMode),void 0!==t.musicLocationMasterSwitch&&e.uint32(16).int32(t.musicLocationMasterSwitch),void 0!==t.musicActivityMasterSwitch&&e.uint32(24).int32(t.musicActivityMasterSwitch),void 0!==t.offlineMixtapeEnabled&&e.uint32(32).bool(t.offlineMixtapeEnabled),void 0!==t.autoOfflineEnabled&&e.uint32(40).bool(t.autoOfflineEnabled),void 0!==t.iosBackgroundRefreshStatus&&e.uint32(48).int32(t.iosBackgroundRefreshStatus),void 0!==t.smartDownloadsSongLimit&&e.uint32(56).int32(t.smartDownloadsSongLimit),void 0!==t.transitionedFromMixtapeToSmartDownloads&&e.uint32(64).bool(t.transitionedFromMixtapeToSmartDownloads),void 0!==t.pwaInstallabilityStatus&&e.uint32(72).int32(t.pwaInstallabilityStatus),void 0!==t.webDisplayMode&&e.uint32(80).int32(t.webDisplayMode),void 0!==t.musicTier&&e.uint32(88).int32(t.musicTier),void 0!==t.storeDigitalGoodsApiSupportStatus&&e.uint32(96).int32(t.storeDigitalGoodsApiSupportStatus),void 0!==t.smartDownloadsTimeSinceLastOptOutSec&&e.uint32(104).int64(t.smartDownloadsTimeSinceLastOptOutSec),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={playBackMode:void 0,musicLocationMasterSwitch:void 0,musicActivityMasterSwitch:void 0,offlineMixtapeEnabled:void 0,autoOfflineEnabled:void 0,iosBackgroundRefreshStatus:void 0,smartDownloadsSongLimit:void 0,transitionedFromMixtapeToSmartDownloads:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,musicTier:void 0,storeDigitalGoodsApiSupportStatus:void 0,smartDownloadsTimeSinceLastOptOutSec:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.playBackMode=i.int32();continue;case 2:if(16!==t)break;n.musicLocationMasterSwitch=i.int32();continue;case 3:if(24!==t)break;n.musicActivityMasterSwitch=i.int32();continue;case 4:if(32!==t)break;n.offlineMixtapeEnabled=i.bool();continue;case 5:if(40!==t)break;n.autoOfflineEnabled=i.bool();continue;case 6:if(48!==t)break;n.iosBackgroundRefreshStatus=i.int32();continue;case 7:if(56!==t)break;n.smartDownloadsSongLimit=i.int32();continue;case 8:if(64!==t)break;n.transitionedFromMixtapeToSmartDownloads=i.bool();continue;case 9:if(72!==t)break;n.pwaInstallabilityStatus=i.int32();continue;case 10:if(80!==t)break;n.webDisplayMode=i.int32();continue;case 11:if(88!==t)break;n.musicTier=i.int32();continue;case 12:if(96!==t)break;n.storeDigitalGoodsApiSupportStatus=i.int32();continue;case 13:if(104!==t)break;n.smartDownloadsTimeSinceLastOptOutSec=iN(i.int64());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function GD(){return{mdxImpactedSessionsServerEvents:void 0,enablePrivacyFilter:void 0,zylonLeftNav:void 0,certificationScope:void 0,livingRoomPoTokenId:void 0,jsEngineString:void 0,voiceCapability:void 0,systemIntegrator:void 0,androidBuildFingerprint:void 0,cobaltAppVersion:void 0,cobaltStarboardVersion:void 0,useStartPlaybackPreviewCommand:void 0,shouldShowPersistentSigninOnHome:void 0,androidPlayServicesVersion:void 0}}n(GD,"createBaseClientInfo_TvAppInfo");var $D={encode:(t,e=new ba)=>(void 0!==t.mdxImpactedSessionsServerEvents&&e.uint32(26).string(t.mdxImpactedSessionsServerEvents),void 0!==t.enablePrivacyFilter&&e.uint32(48).bool(t.enablePrivacyFilter),void 0!==t.zylonLeftNav&&e.uint32(56).bool(t.zylonLeftNav),void 0!==t.certificationScope&&e.uint32(74).string(t.certificationScope),void 0!==t.livingRoomPoTokenId&&e.uint32(82).string(t.livingRoomPoTokenId),void 0!==t.jsEngineString&&e.uint32(98).string(t.jsEngineString),void 0!==t.voiceCapability&&KD.encode(t.voiceCapability,e.uint32(106).fork()).join(),void 0!==t.systemIntegrator&&e.uint32(114).string(t.systemIntegrator),void 0!==t.androidBuildFingerprint&&e.uint32(146).string(t.androidBuildFingerprint),void 0!==t.cobaltAppVersion&&e.uint32(154).string(t.cobaltAppVersion),void 0!==t.cobaltStarboardVersion&&e.uint32(162).string(t.cobaltStarboardVersion),void 0!==t.useStartPlaybackPreviewCommand&&e.uint32(176).bool(t.useStartPlaybackPreviewCommand),void 0!==t.shouldShowPersistentSigninOnHome&&e.uint32(184).bool(t.shouldShowPersistentSigninOnHome),void 0!==t.androidPlayServicesVersion&&e.uint32(194).string(t.androidPlayServicesVersion),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={mdxImpactedSessionsServerEvents:void 0,enablePrivacyFilter:void 0,zylonLeftNav:void 0,certificationScope:void 0,livingRoomPoTokenId:void 0,jsEngineString:void 0,voiceCapability:void 0,systemIntegrator:void 0,androidBuildFingerprint:void 0,cobaltAppVersion:void 0,cobaltStarboardVersion:void 0,useStartPlaybackPreviewCommand:void 0,shouldShowPersistentSigninOnHome:void 0,androidPlayServicesVersion:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 3:if(26!==t)break;n.mdxImpactedSessionsServerEvents=i.string();continue;case 6:if(48!==t)break;n.enablePrivacyFilter=i.bool();continue;case 7:if(56!==t)break;n.zylonLeftNav=i.bool();continue;case 9:if(74!==t)break;n.certificationScope=i.string();continue;case 10:if(82!==t)break;n.livingRoomPoTokenId=i.string();continue;case 12:if(98!==t)break;n.jsEngineString=i.string();continue;case 13:if(106!==t)break;n.voiceCapability=KD.decode(i,i.uint32());continue;case 14:if(114!==t)break;n.systemIntegrator=i.string();continue;case 18:if(146!==t)break;n.androidBuildFingerprint=i.string();continue;case 19:if(154!==t)break;n.cobaltAppVersion=i.string();continue;case 20:if(162!==t)break;n.cobaltStarboardVersion=i.string();continue;case 22:if(176!==t)break;n.useStartPlaybackPreviewCommand=i.bool();continue;case 23:if(184!==t)break;n.shouldShowPersistentSigninOnHome=i.bool();continue;case 24:if(194!==t)break;n.androidPlayServicesVersion=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function qD(){return{hasSoftMicSupport:void 0,hasHardMicSupport:void 0}}n(qD,"createBaseClientInfo_TvAppInfo_VoiceCapability");var KD={encode:(t,e=new ba)=>(void 0!==t.hasSoftMicSupport&&e.uint32(8).bool(t.hasSoftMicSupport),void 0!==t.hasHardMicSupport&&e.uint32(16).bool(t.hasHardMicSupport),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={hasSoftMicSupport:void 0,hasHardMicSupport:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.hasSoftMicSupport=i.bool();continue;case 2:if(16!==t)break;n.hasHardMicSupport=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function YD(){return{enableFilterMode:void 0,iosNotificationPermission:void 0,forceEnableEpg3:void 0}}n(YD,"createBaseClientInfo_UnpluggedAppInfo");var zD={encode:(t,e=new ba)=>(void 0!==t.enableFilterMode&&e.uint32(16).bool(t.enableFilterMode),void 0!==t.iosNotificationPermission&&e.uint32(24).bool(t.iosNotificationPermission),void 0!==t.forceEnableEpg3&&e.uint32(56).bool(t.forceEnableEpg3),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={enableFilterMode:void 0,iosNotificationPermission:void 0,forceEnableEpg3:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 2:if(16!==t)break;n.enableFilterMode=i.bool();continue;case 3:if(24!==t)break;n.iosNotificationPermission=i.bool();continue;case 7:if(56!==t)break;n.forceEnableEpg3=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function QD(){return{locationInfoStatus:void 0,ulrStatus:void 0,latitudeE7:void 0,longitudeE7:void 0,horizontalAccuracyMeters:void 0,locationFreshnessMs:void 0,locationPermissionAuthorizationStatus:void 0,locationOverrideToken:void 0,forceLocationPlayabilityTokenRefresh:void 0}}n(QD,"createBaseClientInfo_LocationInfo");var XD={encode:(t,e=new ba)=>(void 0!==t.locationInfoStatus&&e.uint32(8).int32(t.locationInfoStatus),void 0!==t.ulrStatus&&ZD.encode(t.ulrStatus,e.uint32(18).fork()).join(),void 0!==t.latitudeE7&&e.uint32(26).string(t.latitudeE7),void 0!==t.longitudeE7&&e.uint32(34).string(t.longitudeE7),void 0!==t.horizontalAccuracyMeters&&e.uint32(42).string(t.horizontalAccuracyMeters),void 0!==t.locationFreshnessMs&&e.uint32(50).string(t.locationFreshnessMs),void 0!==t.locationPermissionAuthorizationStatus&&e.uint32(56).int32(t.locationPermissionAuthorizationStatus),void 0!==t.locationOverrideToken&&e.uint32(66).string(t.locationOverrideToken),void 0!==t.forceLocationPlayabilityTokenRefresh&&e.uint32(72).bool(t.forceLocationPlayabilityTokenRefresh),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={locationInfoStatus:void 0,ulrStatus:void 0,latitudeE7:void 0,longitudeE7:void 0,horizontalAccuracyMeters:void 0,locationFreshnessMs:void 0,locationPermissionAuthorizationStatus:void 0,locationOverrideToken:void 0,forceLocationPlayabilityTokenRefresh:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.locationInfoStatus=i.int32();continue;case 2:if(18!==t)break;n.ulrStatus=ZD.decode(i,i.uint32());continue;case 3:if(26!==t)break;n.latitudeE7=i.string();continue;case 4:if(34!==t)break;n.longitudeE7=i.string();continue;case 5:if(42!==t)break;n.horizontalAccuracyMeters=i.string();continue;case 6:if(50!==t)break;n.locationFreshnessMs=i.string();continue;case 7:if(56!==t)break;n.locationPermissionAuthorizationStatus=i.int32();continue;case 8:if(66!==t)break;n.locationOverrideToken=i.string();continue;case 9:if(72!==t)break;n.forceLocationPlayabilityTokenRefresh=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function JD(){return{reportingEnabledSetting:void 0,historyEnabledSetting:void 0,isAllowed:void 0,isActive:void 0}}n(JD,"createBaseClientInfo_LocationInfo_UrlStatus");var ZD={encode:(t,e=new ba)=>(void 0!==t.reportingEnabledSetting&&e.uint32(8).int32(t.reportingEnabledSetting),void 0!==t.historyEnabledSetting&&e.uint32(16).int32(t.historyEnabledSetting),void 0!==t.isAllowed&&e.uint32(24).bool(t.isAllowed),void 0!==t.isActive&&e.uint32(32).bool(t.isActive),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={reportingEnabledSetting:void 0,historyEnabledSetting:void 0,isAllowed:void 0,isActive:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.reportingEnabledSetting=i.int32();continue;case 2:if(16!==t)break;n.historyEnabledSetting=i.int32();continue;case 3:if(24!==t)break;n.isAllowed=i.bool();continue;case 4:if(32!==t)break;n.isActive=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function tN(){return{isPartOfGroup:void 0,isGroup:void 0}}n(tN,"createBaseClientInfo_HomeGroupInfo");var eN={encode:(t,e=new ba)=>(void 0!==t.isPartOfGroup&&e.uint32(8).bool(t.isPartOfGroup),void 0!==t.isGroup&&e.uint32(24).bool(t.isGroup),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={isPartOfGroup:void 0,isGroup:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.isPartOfGroup=i.bool();continue;case 3:if(24!==t)break;n.isGroup=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function iN(t){let e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}function sN(){return{challenge:void 0,webResponse:void 0,androidResponse:void 0,iosResponse:void 0,error:void 0,adblockReporting:void 0}}n(iN,"longToNumber"),n(sN,"createBaseAttestationResponseData");var nN={encode:(t,e=new ba)=>(void 0!==t.challenge&&e.uint32(10).string(t.challenge),void 0!==t.webResponse&&e.uint32(18).string(t.webResponse),void 0!==t.androidResponse&&e.uint32(26).string(t.androidResponse),void 0!==t.iosResponse&&e.uint32(34).bytes(t.iosResponse),void 0!==t.error&&e.uint32(40).int32(t.error),void 0!==t.adblockReporting&&oN.encode(t.adblockReporting,e.uint32(50).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={challenge:void 0,webResponse:void 0,androidResponse:void 0,iosResponse:void 0,error:void 0,adblockReporting:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.challenge=i.string();continue;case 2:if(18!==t)break;n.webResponse=i.string();continue;case 3:if(26!==t)break;n.androidResponse=i.string();continue;case 4:if(34!==t)break;n.iosResponse=i.bytes();continue;case 5:if(40!==t)break;n.error=i.int32();continue;case 6:if(50!==t)break;n.adblockReporting=oN.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function aN(){return{reportingStatus:void 0,broadSpectrumDetectionResult:void 0}}n(aN,"createBaseAttestationResponseData_AdblockReporting");var oN={encode:(t,e=new ba)=>(void 0!==t.reportingStatus&&e.uint32(8).uint64(t.reportingStatus),void 0!==t.broadSpectrumDetectionResult&&e.uint32(16).uint64(t.broadSpectrumDetectionResult),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={reportingStatus:void 0,broadSpectrumDetectionResult:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.reportingStatus=rN(i.uint64());continue;case 2:if(16!==t)break;n.broadSpectrumDetectionResult=rN(i.uint64());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function rN(t){let e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}function cN(){return{thirdPartyDigest:void 0,useSsl:void 0,returnErrorDetail:void 0,ifNoneMatch:void 0,returnLogEntry:void 0,isPrefetch:void 0,internalExperimentFlags:[],returnDebugData:void 0,innertubez:void 0,traceProto:void 0,returnLogEntryJson:void 0,sherlogUsername:void 0,reauthRequestInfo:void 0,sessionInfo:void 0,returnLogEntryProto:void 0,externalPrequestContext:void 0,attestationResponseData:void 0,eats:void 0,requestQos:void 0}}n(rN,"longToNumber"),n(cN,"createBaseRequestInfo");var lN={encode(t,e=new ba){void 0!==t.thirdPartyDigest&&e.uint32(50).string(t.thirdPartyDigest),void 0!==t.useSsl&&e.uint32(56).bool(t.useSsl),void 0!==t.returnErrorDetail&&e.uint32(72).bool(t.returnErrorDetail),void 0!==t.ifNoneMatch&&e.uint32(98).string(t.ifNoneMatch),void 0!==t.returnLogEntry&&e.uint32(104).bool(t.returnLogEntry),void 0!==t.isPrefetch&&e.uint32(112).bool(t.isPrefetch);for(let i of t.internalExperimentFlags)oP.encode(i,e.uint32(122).fork()).join();return void 0!==t.returnDebugData&&e.uint32(128).bool(t.returnDebugData),void 0!==t.innertubez&&e.uint32(146).string(t.innertubez),void 0!==t.traceProto&&e.uint32(184).bool(t.traceProto),void 0!==t.returnLogEntryJson&&e.uint32(192).bool(t.returnLogEntryJson),void 0!==t.sherlogUsername&&e.uint32(202).string(t.sherlogUsername),void 0!==t.reauthRequestInfo&&_N.encode(t.reauthRequestInfo,e.uint32(234).fork()).join(),void 0!==t.sessionInfo&&pN.encode(t.sessionInfo,e.uint32(242).fork()).join(),void 0!==t.returnLogEntryProto&&e.uint32(248).bool(t.returnLogEntryProto),void 0!==t.externalPrequestContext&&e.uint32(258).string(t.externalPrequestContext),void 0!==t.attestationResponseData&&nN.encode(t.attestationResponseData,e.uint32(274).fork()).join(),void 0!==t.eats&&e.uint32(282).bytes(t.eats),void 0!==t.requestQos&&dN.encode(t.requestQos,e.uint32(290).fork()).join(),e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={thirdPartyDigest:void 0,useSsl:void 0,returnErrorDetail:void 0,ifNoneMatch:void 0,returnLogEntry:void 0,isPrefetch:void 0,internalExperimentFlags:[],returnDebugData:void 0,innertubez:void 0,traceProto:void 0,returnLogEntryJson:void 0,sherlogUsername:void 0,reauthRequestInfo:void 0,sessionInfo:void 0,returnLogEntryProto:void 0,externalPrequestContext:void 0,attestationResponseData:void 0,eats:void 0,requestQos:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 6:if(50!==t)break;n.thirdPartyDigest=i.string();continue;case 7:if(56!==t)break;n.useSsl=i.bool();continue;case 9:if(72!==t)break;n.returnErrorDetail=i.bool();continue;case 12:if(98!==t)break;n.ifNoneMatch=i.string();continue;case 13:if(104!==t)break;n.returnLogEntry=i.bool();continue;case 14:if(112!==t)break;n.isPrefetch=i.bool();continue;case 15:if(122!==t)break;n.internalExperimentFlags.push(oP.decode(i,i.uint32()));continue;case 16:if(128!==t)break;n.returnDebugData=i.bool();continue;case 18:if(146!==t)break;n.innertubez=i.string();continue;case 23:if(184!==t)break;n.traceProto=i.bool();continue;case 24:if(192!==t)break;n.returnLogEntryJson=i.bool();continue;case 25:if(202!==t)break;n.sherlogUsername=i.string();continue;case 29:if(234!==t)break;n.reauthRequestInfo=_N.decode(i,i.uint32());continue;case 30:if(242!==t)break;n.sessionInfo=pN.decode(i,i.uint32());continue;case 31:if(248!==t)break;n.returnLogEntryProto=i.bool();continue;case 32:if(258!==t)break;n.externalPrequestContext=i.string();continue;case 34:if(274!==t)break;n.attestationResponseData=nN.decode(i,i.uint32());continue;case 35:if(282!==t)break;n.eats=i.bytes();continue;case 36:if(290!==t)break;n.requestQos=dN.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function hN(){return{criticality:void 0}}n(hN,"createBaseRequestInfo_RequestQoS");var dN={encode:(t,e=new ba)=>(void 0!==t.criticality&&e.uint32(8).int32(t.criticality),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={criticality:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.criticality=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function uN(){return{token:void 0}}n(uN,"createBaseRequestInfo_SessionInfo");var pN={encode:(t,e=new ba)=>(void 0!==t.token&&e.uint32(10).string(t.token),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={token:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.token=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function mN(){return{encodedReauthProofToken:void 0}}n(mN,"createBaseRequestInfo_ReauthRequestInfo");var _N={encode:(t,e=new ba)=>(void 0!==t.encodedReauthProofToken&&e.uint32(10).string(t.encodedReauthProofToken),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={encodedReauthProofToken:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.encodedReauthProofToken=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function fN(){return{developerKey:void 0,appName:void 0,appPublisher:void 0,embedUrl:void 0,appVersion:void 0,embeddedPlayerContext:void 0}}n(fN,"createBaseThirdPartyInfo");var yN={encode:(t,e=new ba)=>(void 0!==t.developerKey&&e.uint32(10).string(t.developerKey),void 0!==t.appName&&e.uint32(18).string(t.appName),void 0!==t.appPublisher&&e.uint32(26).string(t.appPublisher),void 0!==t.embedUrl&&e.uint32(34).string(t.embedUrl),void 0!==t.appVersion&&e.uint32(50).string(t.appVersion),void 0!==t.embeddedPlayerContext&&gN.encode(t.embeddedPlayerContext,e.uint32(58).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={developerKey:void 0,appName:void 0,appPublisher:void 0,embedUrl:void 0,appVersion:void 0,embeddedPlayerContext:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.developerKey=i.string();continue;case 2:if(18!==t)break;n.appName=i.string();continue;case 3:if(26!==t)break;n.appPublisher=i.string();continue;case 4:if(34!==t)break;n.embedUrl=i.string();continue;case 6:if(50!==t)break;n.appVersion=i.string();continue;case 7:if(58!==t)break;n.embeddedPlayerContext=gN.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function bN(){return{ancestorOrigins:void 0,embeddedPlayerEncryptedContext:void 0,ancestorOriginsSupported:void 0}}n(bN,"createBaseThirdPartyInfo_EmbeddedPlayerContext");var gN={encode:(t,e=new ba)=>(void 0!==t.ancestorOrigins&&e.uint32(10).string(t.ancestorOrigins),void 0!==t.embeddedPlayerEncryptedContext&&e.uint32(18).string(t.embeddedPlayerEncryptedContext),void 0!==t.ancestorOriginsSupported&&e.uint32(24).bool(t.ancestorOriginsSupported),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={ancestorOrigins:void 0,embeddedPlayerEncryptedContext:void 0,ancestorOriginsSupported:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.ancestorOrigins=i.string();continue;case 2:if(18!==t)break;n.embeddedPlayerEncryptedContext=i.string();continue;case 3:if(24!==t)break;n.ancestorOriginsSupported=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function vN(){return{onBehalfOfUser:void 0,enableSafetyMode:void 0,credentialTransferTokens:[],delegatePurchases:void 0,kidsParent:void 0,isIncognito:void 0,lockedSafetyMode:void 0,delegationContext:void 0,serializedDelegationContext:void 0}}n(vN,"createBaseUserInfo");var wN={encode(t,e=new ba){void 0!==t.onBehalfOfUser&&e.uint32(26).string(t.onBehalfOfUser),void 0!==t.enableSafetyMode&&e.uint32(56).bool(t.enableSafetyMode);for(let i of t.credentialTransferTokens)PN.encode(i,e.uint32(98).fork()).join();return void 0!==t.delegatePurchases&&CN.encode(t.delegatePurchases,e.uint32(106).fork()).join(),void 0!==t.kidsParent&&kN.encode(t.kidsParent,e.uint32(114).fork()).join(),void 0!==t.isIncognito&&e.uint32(120).bool(t.isIncognito),void 0!==t.lockedSafetyMode&&e.uint32(128).bool(t.lockedSafetyMode),void 0!==t.delegationContext&&IN.encode(t.delegationContext,e.uint32(138).fork()).join(),void 0!==t.serializedDelegationContext&&e.uint32(146).string(t.serializedDelegationContext),e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={onBehalfOfUser:void 0,enableSafetyMode:void 0,credentialTransferTokens:[],delegatePurchases:void 0,kidsParent:void 0,isIncognito:void 0,lockedSafetyMode:void 0,delegationContext:void 0,serializedDelegationContext:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 3:if(26!==t)break;n.onBehalfOfUser=i.string();continue;case 7:if(56!==t)break;n.enableSafetyMode=i.bool();continue;case 12:if(98!==t)break;n.credentialTransferTokens.push(PN.decode(i,i.uint32()));continue;case 13:if(106!==t)break;n.delegatePurchases=CN.decode(i,i.uint32());continue;case 14:if(114!==t)break;n.kidsParent=kN.decode(i,i.uint32());continue;case 15:if(120!==t)break;n.isIncognito=i.bool();continue;case 16:if(128!==t)break;n.lockedSafetyMode=i.bool();continue;case 17:if(138!==t)break;n.delegationContext=IN.decode(i,i.uint32());continue;case 18:if(146!==t)break;n.serializedDelegationContext=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function xN(){return{}}n(xN,"createBaseUserInfo_KidsParent");var kN={encode:(t,e=new ba)=>e,decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={};for(;i.pos<s;){let t=i.uint32();if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function SN(){return{}}n(SN,"createBaseUserInfo_DelegatePurchases");var CN={encode:(t,e=new ba)=>e,decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={};for(;i.pos<s;){let t=i.uint32();if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function TN(){return{}}n(TN,"createBaseUserInfo_DelegationContext");var IN={encode:(t,e=new ba)=>e,decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={};for(;i.pos<s;){let t=i.uint32();if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function EN(){return{}}n(EN,"createBaseUserInfo_CredentialTransferToken");var PN={encode:(t,e=new ba)=>e,decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={};for(;i.pos<s;){let t=i.uint32();if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function RN(){return{client:void 0,user:void 0,capabilities:void 0,request:void 0,clickTracking:void 0,thirdParty:void 0,remoteClient:void 0,adSignalsInfo:void 0,experimentalData:void 0,clientScreenNonce:void 0,activePlayers:[]}}n(RN,"createBaseInnerTubeContext");var AN={encode(t,e=new ba){void 0!==t.client&&yD.encode(t.client,e.uint32(10).fork()).join(),void 0!==t.user&&wN.encode(t.user,e.uint32(26).fork()).join(),void 0!==t.capabilities&&pD.encode(t.capabilities,e.uint32(34).fork()).join(),void 0!==t.request&&lN.encode(t.request,e.uint32(42).fork()).join(),void 0!==t.clickTracking&&VN.encode(t.clickTracking,e.uint32(50).fork()).join(),void 0!==t.thirdParty&&yN.encode(t.thirdParty,e.uint32(58).fork()).join(),void 0!==t.remoteClient&&yD.encode(t.remoteClient,e.uint32(66).fork()).join(),void 0!==t.adSignalsInfo&&UN.encode(t.adSignalsInfo,e.uint32(74).fork()).join(),void 0!==t.experimentalData&&LN.encode(t.experimentalData,e.uint32(82).fork()).join(),void 0!==t.clientScreenNonce&&e.uint32(90).string(t.clientScreenNonce);for(let i of t.activePlayers)NN.encode(i,e.uint32(98).fork()).join();return e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={client:void 0,user:void 0,capabilities:void 0,request:void 0,clickTracking:void 0,thirdParty:void 0,remoteClient:void 0,adSignalsInfo:void 0,experimentalData:void 0,clientScreenNonce:void 0,activePlayers:[]};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.client=yD.decode(i,i.uint32());continue;case 3:if(26!==t)break;n.user=wN.decode(i,i.uint32());continue;case 4:if(34!==t)break;n.capabilities=pD.decode(i,i.uint32());continue;case 5:if(42!==t)break;n.request=lN.decode(i,i.uint32());continue;case 6:if(50!==t)break;n.clickTracking=VN.decode(i,i.uint32());continue;case 7:if(58!==t)break;n.thirdParty=yN.decode(i,i.uint32());continue;case 8:if(66!==t)break;n.remoteClient=yD.decode(i,i.uint32());continue;case 9:if(74!==t)break;n.adSignalsInfo=UN.decode(i,i.uint32());continue;case 10:if(82!==t)break;n.experimentalData=LN.decode(i,i.uint32());continue;case 11:if(90!==t)break;n.clientScreenNonce=i.string();continue;case 12:if(98!==t)break;n.activePlayers.push(NN.decode(i,i.uint32()));continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function MN(){return{params:[]}}n(MN,"createBaseInnerTubeContext_ExperimentalData");var LN={encode(t,e=new ba){for(let i of t.params)oP.encode(i,e.uint32(10).fork()).join();return e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={params:[]};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.params.push(oP.decode(i,i.uint32()));continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function DN(){return{playerContextParams:void 0}}n(DN,"createBaseInnerTubeContext_ActivePlayerInfo");var NN={encode:(t,e=new ba)=>(void 0!==t.playerContextParams&&e.uint32(10).bytes(t.playerContextParams),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={playerContextParams:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.playerContextParams=i.bytes();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function BN(){return{clickTrackingParams:void 0}}n(BN,"createBaseInnerTubeContext_ClickTrackingInfo");var VN={encode:(t,e=new ba)=>(void 0!==t.clickTrackingParams&&e.uint32(18).bytes(t.clickTrackingParams),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={clickTrackingParams:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 2:if(18!==t)break;n.clickTrackingParams=i.bytes();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function ON(){return{params:[],bid:void 0,mutsuId:void 0,consentBumpState:void 0,advertisingId:void 0,limitAdTracking:void 0,attributionOsSupportedVersion:void 0}}n(ON,"createBaseInnerTubeContext_AdSignalsInfo");var UN={encode(t,e=new ba){for(let i of t.params)oP.encode(i,e.uint32(10).fork()).join();return void 0!==t.bid&&e.uint32(18).string(t.bid),void 0!==t.mutsuId&&e.uint32(26).string(t.mutsuId),void 0!==t.consentBumpState&&e.uint32(34).string(t.consentBumpState),void 0!==t.advertisingId&&e.uint32(58).string(t.advertisingId),void 0!==t.limitAdTracking&&e.uint32(72).bool(t.limitAdTracking),void 0!==t.attributionOsSupportedVersion&&e.uint32(82).string(t.attributionOsSupportedVersion),e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={params:[],bid:void 0,mutsuId:void 0,consentBumpState:void 0,advertisingId:void 0,limitAdTracking:void 0,attributionOsSupportedVersion:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.params.push(oP.decode(i,i.uint32()));continue;case 2:if(18!==t)break;n.bid=i.string();continue;case 3:if(26!==t)break;n.mutsuId=i.string();continue;case 4:if(34!==t)break;n.consentBumpState=i.string();continue;case 7:if(58!==t)break;n.advertisingId=i.string();continue;case 9:if(72!==t)break;n.limitAdTracking=i.bool();continue;case 10:if(82!==t)break;n.attributionOsSupportedVersion=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function FN(){return{context:void 0,encryptedVideoId:void 0,title:void 0,description:void 0,privacy:void 0,tags:void 0,category:void 0,license:void 0,ageRestriction:void 0,videoStill:void 0,madeForKids:void 0,racy:void 0}}n(FN,"createBaseMetadataUpdateRequest");var HN={encode:(t,e=new ba)=>(void 0!==t.context&&AN.encode(t.context,e.uint32(10).fork()).join(),void 0!==t.encryptedVideoId&&e.uint32(18).string(t.encryptedVideoId),void 0!==t.title&&jN.encode(t.title,e.uint32(26).fork()).join(),void 0!==t.description&&$N.encode(t.description,e.uint32(34).fork()).join(),void 0!==t.privacy&&KN.encode(t.privacy,e.uint32(42).fork()).join(),void 0!==t.tags&&zN.encode(t.tags,e.uint32(50).fork()).join(),void 0!==t.category&&XN.encode(t.category,e.uint32(58).fork()).join(),void 0!==t.license&&ZN.encode(t.license,e.uint32(66).fork()).join(),void 0!==t.ageRestriction&&aB.encode(t.ageRestriction,e.uint32(90).fork()).join(),void 0!==t.videoStill&&rB.encode(t.videoStill,e.uint32(162).fork()).join(),void 0!==t.madeForKids&&eB.encode(t.madeForKids,e.uint32(546).fork()).join(),void 0!==t.racy&&sB.encode(t.racy,e.uint32(554).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={context:void 0,encryptedVideoId:void 0,title:void 0,description:void 0,privacy:void 0,tags:void 0,category:void 0,license:void 0,ageRestriction:void 0,videoStill:void 0,madeForKids:void 0,racy:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.context=AN.decode(i,i.uint32());continue;case 2:if(18!==t)break;n.encryptedVideoId=i.string();continue;case 3:if(26!==t)break;n.title=jN.decode(i,i.uint32());continue;case 4:if(34!==t)break;n.description=$N.decode(i,i.uint32());continue;case 5:if(42!==t)break;n.privacy=KN.decode(i,i.uint32());continue;case 6:if(50!==t)break;n.tags=zN.decode(i,i.uint32());continue;case 7:if(58!==t)break;n.category=XN.decode(i,i.uint32());continue;case 8:if(66!==t)break;n.license=ZN.decode(i,i.uint32());continue;case 11:if(90!==t)break;n.ageRestriction=aB.decode(i,i.uint32());continue;case 20:if(162!==t)break;n.videoStill=rB.decode(i,i.uint32());continue;case 68:if(546!==t)break;n.madeForKids=eB.decode(i,i.uint32());continue;case 69:if(554!==t)break;n.racy=sB.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function WN(){return{newTitle:void 0}}n(WN,"createBaseMetadataUpdateRequest_MdeTitleUpdateRequest");var jN={encode:(t,e=new ba)=>(void 0!==t.newTitle&&e.uint32(10).string(t.newTitle),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={newTitle:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.newTitle=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function GN(){return{newDescription:void 0}}n(GN,"createBaseMetadataUpdateRequest_MdeDescriptionUpdateRequest");var $N={encode:(t,e=new ba)=>(void 0!==t.newDescription&&e.uint32(10).string(t.newDescription),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={newDescription:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.newDescription=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function qN(){return{newPrivacy:void 0,clearPrivacyDraft:void 0}}n(qN,"createBaseMetadataUpdateRequest_MdePrivacyUpdateRequest");var KN={encode:(t,e=new ba)=>(void 0!==t.newPrivacy&&e.uint32(8).int32(t.newPrivacy),void 0!==t.clearPrivacyDraft&&e.uint32(16).bool(t.clearPrivacyDraft),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={newPrivacy:void 0,clearPrivacyDraft:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.newPrivacy=i.int32();continue;case 2:if(16!==t)break;n.clearPrivacyDraft=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function YN(){return{newTags:[]}}n(YN,"createBaseMetadataUpdateRequest_MdeTagsUpdateRequest");var zN={encode(t,e=new ba){for(let i of t.newTags)e.uint32(10).string(i);return e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={newTags:[]};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.newTags.push(i.string());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function QN(){return{newCategoryId:void 0}}n(QN,"createBaseMetadataUpdateRequest_MdeCategoryUpdateRequest");var XN={encode:(t,e=new ba)=>(void 0!==t.newCategoryId&&e.uint32(8).int32(t.newCategoryId),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={newCategoryId:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.newCategoryId=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function JN(){return{newLicenseId:void 0}}n(JN,"createBaseMetadataUpdateRequest_MdeLicenseUpdateRequest");var ZN={encode:(t,e=new ba)=>(void 0!==t.newLicenseId&&e.uint32(10).string(t.newLicenseId),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={newLicenseId:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.newLicenseId=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function tB(){return{operation:void 0,newMfk:void 0}}n(tB,"createBaseMetadataUpdateRequest_MdeMadeForKidsUpdateRequestParams");var eB={encode:(t,e=new ba)=>(void 0!==t.operation&&e.uint32(8).int32(t.operation),void 0!==t.newMfk&&e.uint32(16).int32(t.newMfk),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={operation:void 0,newMfk:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.operation=i.int32();continue;case 2:if(16!==t)break;n.newMfk=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function iB(){return{operation:void 0,newRacy:void 0}}n(iB,"createBaseMetadataUpdateRequest_MdeRacyRequestParams");var sB={encode:(t,e=new ba)=>(void 0!==t.operation&&e.uint32(8).int32(t.operation),void 0!==t.newRacy&&e.uint32(16).int32(t.newRacy),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={operation:void 0,newRacy:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.operation=i.int32();continue;case 2:if(16!==t)break;n.newRacy=i.int32();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function nB(){return{newIsAgeRestricted:void 0}}n(nB,"createBaseMetadataUpdateRequest_MdeAgeRestrictionUpdateRequest");var aB={encode:(t,e=new ba)=>(void 0!==t.newIsAgeRestricted&&e.uint32(8).bool(t.newIsAgeRestricted),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={newIsAgeRestricted:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.newIsAgeRestricted=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function oB(){return{operation:void 0,newStillId:void 0,image:void 0,testImage:void 0,experimentImage:[]}}n(oB,"createBaseMetadataUpdateRequest_MdeVideoStillRequestParams");var rB={encode(t,e=new ba){void 0!==t.operation&&e.uint32(8).int32(t.operation),void 0!==t.newStillId&&e.uint32(16).int32(t.newStillId),void 0!==t.image&&dB.encode(t.image,e.uint32(26).fork()).join(),void 0!==t.testImage&&dB.encode(t.testImage,e.uint32(34).fork()).join();for(let i of t.experimentImage)lB.encode(i,e.uint32(50).fork()).join();return e},decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={operation:void 0,newStillId:void 0,image:void 0,testImage:void 0,experimentImage:[]};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.operation=i.int32();continue;case 2:if(16!==t)break;n.newStillId=i.int32();continue;case 3:if(26!==t)break;n.image=dB.decode(i,i.uint32());continue;case 4:if(34!==t)break;n.testImage=dB.decode(i,i.uint32());continue;case 6:if(50!==t)break;n.experimentImage.push(lB.decode(i,i.uint32()));continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function cB(){return{image:void 0}}n(cB,"createBaseMetadataUpdateRequest_MdeVideoStillRequestParams_ThumbnailExperimentImageData");var lB={encode:(t,e=new ba)=>(void 0!==t.image&&dB.encode(t.image,e.uint32(10).fork()).join(),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={image:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.image=dB.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function hB(){return{rawBytes:void 0,dataUri:void 0,frameTimestampUs:void 0,isVertical:void 0}}n(hB,"createBaseMetadataUpdateRequest_MdeVideoStillRequestParams_CustomThumbnailImage");var dB={encode:(t,e=new ba)=>(void 0!==t.rawBytes&&e.uint32(10).bytes(t.rawBytes),void 0!==t.dataUri&&e.uint32(18).string(t.dataUri),void 0!==t.frameTimestampUs&&e.uint32(32).int64(t.frameTimestampUs),void 0!==t.isVertical&&e.uint32(40).bool(t.isVertical),e),decode(t,e){let i=t instanceof va?t:new va(t),s=void 0===e?i.len:i.pos+e,n={rawBytes:void 0,dataUri:void 0,frameTimestampUs:void 0,isVertical:void 0};for(;i.pos<s;){let t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.rawBytes=i.bytes();continue;case 2:if(18!==t)break;n.dataUri=i.string();continue;case 4:if(32!==t)break;n.frameTimestampUs=uB(i.int64());continue;case 5:if(40!==t)break;n.isVertical=i.bool();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function uB(t){let e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}n(uB,"longToNumber");var pB,mB,_B,fB,yB,bB=class{constructor(t){l(this,mB),l(this,pB),h(this,pB,t)}async updateVideoMetadata(t,e){let i=c(this,pB);if(!i.logged_in)throw new XM("You must be signed in to perform this operation.");let s={context:{client:{osName:"Android",clientName:parseInt(Rs.CLIENT_NAME_IDS.ANDROID),clientVersion:Rs.CLIENTS.ANDROID.VERSION,androidSdkVersion:Rs.CLIENTS.ANDROID.SDK_VERSION,visitorData:i.context.client.visitorData,osVersion:"13",acceptLanguage:i.context.client.hl,acceptRegion:i.context.client.gl,deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",screenHeightPoints:840,screenWidthPoints:432,configInfo:{appInstallData:i.context.client.configInfo?.appInstallData},timeZone:i.context.client.timeZone,chipset:"qcom;taro"},activePlayers:[]},encryptedVideoId:t};if(e.title&&(s.title={newTitle:e.title}),e.description&&(s.description={newDescription:e.description}),e.license&&(s.license={newLicenseId:e.license}),e.tags&&(s.tags={newTags:e.tags}),e.thumbnail&&(s.videoStill={operation:3,image:{rawBytes:e.thumbnail},experimentImage:[]}),Reflect.has(e,"category")&&(s.category={newCategoryId:e.category}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":s.privacy={newPrivacy:1};break;case"UNLISTED":s.privacy={newPrivacy:2};break;case"PRIVATE":s.privacy={newPrivacy:3};break;default:throw new Error("Invalid privacy setting")}Reflect.has(e,"made_for_kids")&&(s.madeForKids={operation:1,newMfk:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(s.racy={operation:1,newRacy:e.age_restricted?1:2});let n=HN.encode(s);return await i.actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:n.finish()})}async upload(t,e={}){if(!c(this,pB).logged_in)throw new XM("You must be signed in to perform this operation.");let i=await d(this,mB,_B).call(this),s=await d(this,mB,fB).call(this,i.upload_url,t);if("STATUS_SUCCESS"!==s.status)throw new XM("Could not process video.");return await d(this,mB,yB).call(this,i,s,e)}};pB=new WeakMap,mB=new WeakSet,_B=n(async function(){let t=`innertube_android:${zM.shim.uuidv4()}:0:v=3,api=1,cf=3`,e={frontendUploadId:t,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${zM.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},i=await c(this,pB).http.fetch("/upload/youtubei",{baseURL:Rs.URLS.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(e)});if(!i.ok)throw new XM("Could not get initial upload data");return{frontend_upload_id:t,upload_id:i.headers.get("x-guploader-uploadid"),upload_url:i.headers.get("x-goog-upload-url"),scotty_resource_id:i.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:i.headers.get("x-goog-upload-chunk-granularity")}},"#getInitialUploadData"),fB=n(async function(t,e){let i=await c(this,pB).http.fetch_function(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:e});if(!i.ok)throw new XM("Could not upload video");return await i.json()},"#uploadVideo"),yB=n(async function(t,e,i){return await c(this,pB).actions.execute("/upload/createvideo",{resourceId:{scottyResourceId:{id:e.scottyResourceId}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:i.title},description:{newDescription:i.description,shouldSegment:!0},privacy:{newPrivacy:i.privacy||"PRIVATE"},draftState:{isDraft:!!i.is_draft}}})},"#setVideoMetadata"),n(bB,"Studio");var gB=bB;a({},{AccountManager:()=>CB,InteractionManager:()=>AB,PlaylistManager:()=>EB});var vB,wB=class{constructor(t){l(this,vB),h(this,vB,t)}async getInfo(t=!1){if(!c(this,vB).session.logged_in)throw new XM("You must be signed in to perform this operation.");if(!t&&c(this,vB).session.context.user.onBehalfOfUser)throw new XM('Boolean argument must be true when "on_behalf_of_user" is specified.');if(t)return(await new nr({getAccountsListInnertubeEndpoint:{requestType:"ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER",callCircumstance:"SWITCHING_USERS_FULL"}}).call(c(this,vB),{client:"WEB",parse:!0})).actions_memo?.getType(Tr)||[];let e=await new nr({getAccountsListInnertubeEndpoint:{}}).call(c(this,vB),{client:"TV"});return new iR(e)}async getSettings(){let t=await new nr({browseEndpoint:{browseId:"SPaccount_overview"}}).call(c(this,vB));return new AA(c(this,vB),t)}};vB=new WeakMap,n(wB,"AccountManager");var xB,kB,SB,CB=wB,TB=class{constructor(t){l(this,kB),l(this,xB),h(this,xB,t)}async create(t,e){if(bL({title:t,video_ids:e}),!c(this,xB).session.logged_in)throw new XM("You must be signed in to perform this operation.");let i=await new nr({createPlaylistServiceEndpoint:{title:t,videoIds:e}}).call(c(this,xB));return{success:i.success,status_code:i.status_code,playlist_id:i.data.playlistId,data:i.data}}async delete(t){if(bL({playlist_id:t}),!c(this,xB).session.logged_in)throw new XM("You must be signed in to perform this operation.");let e=await new nr({deletePlaylistServiceEndpoint:{sourcePlaylistId:t}}).call(c(this,xB));return{playlist_id:t,success:e.success,status_code:e.status_code,data:e.data}}async addToLibrary(t){if(bL({playlist_id:t}),!c(this,xB).session.logged_in)throw new XM("You must be signed in to perform this operation.");return await new nr({likeEndpoint:{status:"LIKE",target:t}}).call(c(this,xB))}async removeFromLibrary(t){if(bL({playlist_id:t}),!c(this,xB).session.logged_in)throw new XM("You must be signed in to perform this operation.");return await new nr({likeEndpoint:{status:"INDIFFERENT",target:t}}).call(c(this,xB))}async addVideos(t,e){if(bL({playlist_id:t,video_ids:e}),!c(this,xB).session.logged_in)throw new XM("You must be signed in to perform this operation.");return{playlist_id:t,action_result:(await new nr({playlistEditEndpoint:{playlistId:t,actions:e.map(t=>({action:"ACTION_ADD_VIDEO",addedVideoId:t}))}}).call(c(this,xB))).data.actions}}async removeVideos(t,e,i=!1){if(bL({playlist_id:t,video_ids:e}),!c(this,xB).session.logged_in)throw new XM("You must be signed in to perform this operation.");let s=await d(this,kB,SB).call(this,t);if(!s.info.is_editable)throw new XM("This playlist cannot be edited.",t);let a={playlistId:t,actions:[]},o=n(async t=>{let s=i?"set_video_id":"id";if(t.videos.filter(t=>e.includes(t.key(s).string())).forEach(t=>a.actions.push({action:"ACTION_REMOVE_VIDEO",setVideoId:t.key("set_video_id").string()})),a.actions.length<e.length){let e=await t.getContinuation();return o(e)}},"getSetVideoIds");if(await o(s),!a.actions.length)throw new XM("Given video ids were not found in this playlist.",e);return{playlist_id:t,action_result:(await new nr({playlistEditEndpoint:a}).call(c(this,xB))).data.actions}}async moveVideo(t,e,i){if(bL({playlist_id:t,moved_video_id:e,predecessor_video_id:i}),!c(this,xB).session.logged_in)throw new XM("You must be signed in to perform this operation.");let s=await d(this,kB,SB).call(this,t);if(!s.info.is_editable)throw new XM("This playlist cannot be edited.",t);let a,o,r={playlistId:t,actions:[]},l=n(async t=>{let s=t.videos.find(t=>e===t.key("id").string()),n=t.videos.find(t=>i===t.key("id").string());if(a=a||s?.key("set_video_id").string(),o=o||n?.key("set_video_id").string(),!a||!o){let e=await t.getContinuation();return l(e)}},"getSetVideoIds");return await l(s),r.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",setVideoId:a,movedSetVideoIdPredecessor:o}),{playlist_id:t,action_result:(await new nr({playlistEditEndpoint:r}).call(c(this,xB))).data.actions}}async setName(t,e){if(bL({playlist_id:t,name:e}),!c(this,xB).session.logged_in)throw new XM("You must be signed in to perform this operation.");let i={playlist_id:t,actions:[]};return i.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlistName:e}),{playlist_id:t,action_result:(await new nr({playlistEditEndpoint:i}).call(c(this,xB))).data.actions}}async setDescription(t,e){if(bL({playlist_id:t,description:e}),!c(this,xB).session.logged_in)throw new XM("You must be signed in to perform this operation.");let i={playlistId:t,actions:[]};return i.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlistDescription:e}),{playlist_id:t,action_result:(await new nr({playlistEditEndpoint:i}).call(c(this,xB))).data.actions}}};xB=new WeakMap,kB=new WeakSet,SB=n(async function(t){t.startsWith("VL")||(t=`VL${t}`);let e=await new nr({browseEndpoint:{browseId:t}}).call(c(this,xB),{parse:!0});return new YR(c(this,xB),e,!0)},"#getPlaylist"),n(TB,"PlaylistManager");var IB,EB=TB,PB=class{constructor(t){l(this,IB),h(this,IB,t)}async like(t){if(bL({video_id:t}),!c(this,IB).session.logged_in)throw new Error("You must be signed in to perform this operation.");return new nr({likeEndpoint:{status:"LIKE",target:t}}).call(c(this,IB),{client:"TV"})}async dislike(t){if(bL({video_id:t}),!c(this,IB).session.logged_in)throw new Error("You must be signed in to perform this operation.");return new nr({likeEndpoint:{status:"DISLIKE",target:t}}).call(c(this,IB),{client:"TV"})}async removeRating(t){if(bL({video_id:t}),!c(this,IB).session.logged_in)throw new Error("You must be signed in to perform this operation.");return new nr({likeEndpoint:{status:"INDIFFERENT",target:t}}).call(c(this,IB),{client:"TV"})}async subscribe(t){if(bL({channel_id:t}),!c(this,IB).session.logged_in)throw new Error("You must be signed in to perform this operation.");return new nr({subscribeEndpoint:{channelIds:[t],params:"EgIIAhgA"}}).call(c(this,IB))}async unsubscribe(t){if(bL({channel_id:t}),!c(this,IB).session.logged_in)throw new Error("You must be signed in to perform this operation.");return new nr({unsubscribeEndpoint:{channelIds:[t],params:"CgIIAhgA"}}).call(c(this,IB))}async comment(t,e){if(bL({video_id:t,text:e}),!c(this,IB).session.logged_in)throw new Error("You must be signed in to perform this operation.");let i=ao.encode({videoId:t,params:{index:0},number:7}),s=encodeURIComponent(xL(i.finish()));return new nr({createCommentEndpoint:{commentText:e,createCommentParams:s}}).call(c(this,IB))}async translate(t,e,i={}){bL({text:t,target_language:e});let s=jo(22,{text:t,target_language:e,...i}),n=await new nr({performCommentActionEndpoint:{action:s}}).call(c(this,IB)),a=n.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:n.success,status_code:n.status_code,translated_content:a.translatedContent.content,data:n.data}}async setNotificationPreferences(t,e){if(bL({channel_id:t,type:e}),!c(this,IB).session.logged_in)throw new Error("You must be signed in to perform this operation.");let i={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(i).includes(e.toUpperCase()))throw new Error(`Invalid notification preference type: ${e}`);let s=Va.encode({channelId:t,prefId:{index:i[e.toUpperCase()]},number0:0,number1:4}),n=encodeURIComponent(xL(s.finish()));return new nr({modifyChannelNotificationPreferenceEndpoint:{params:n}}).call(c(this,IB))}};IB=new WeakMap,n(PB,"InteractionManager");var RB,AB=PB,MB=class t{constructor(t){l(this,RB),h(this,RB,t)}static async create(e={}){return new t(await eD.create(e))}async getInfo(t,e){bL({target:t});let i={videoId:t instanceof nr?t.payload?.videoId:t,playlistId:t instanceof nr?t.payload?.playlistId:void 0,playlistIndex:t instanceof nr?t.payload?.playlistIndex:void 0,params:t instanceof nr?t.payload?.params:void 0,racyCheckOk:!0,contentCheckOk:!0},s=new nr({watchEndpoint:i}),n=new nr({watchNextEndpoint:i}),a=c(this,RB),o={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:a.player?.sts}},client:e?.client};e?.po_token?o.serviceIntegrityDimensions={poToken:e.po_token}:a.po_token&&(o.serviceIntegrityDimensions={poToken:a.po_token});let r=s.call(a.actions,o),l=n.call(a.actions),h=await Promise.all([r,l]),d=_L(16);return new NA(h,a.actions,d)}async getBasicInfo(t,e){bL({video_id:t});let i=new nr({watchEndpoint:{videoId:t,racyCheckOk:!0,contentCheckOk:!0}}),s=c(this,RB),n={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:s.player?.sts}},client:e?.client};e?.po_token?n.serviceIntegrityDimensions={poToken:e.po_token}:s.po_token&&(n.serviceIntegrityDimensions={poToken:s.po_token});let a=await i.call(s.actions,n),o=_L(16);return new NA([a],s.actions,o)}async getShortsVideoInfo(t,e){bL({video_id:t});let i=new nr({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:t}}),s=c(this,RB).actions,n=i.call(s,{client:e}),a=xo.encode({shortId:t,params:{number:5},feature2:25,feature3:0}),o=encodeURIComponent(xL(a.finish())),r=s.execute("/reel/reel_watch_sequence",{sequenceParams:o}),l=await Promise.all([n,r]),h=_L(16);return new jM([l[0]],s,h,l[1])}async search(t,e={}){bL({query:t});let i={filters:{}};if(e.sort_by&&(i.sortBy=Sa[e.sort_by.toUpperCase()]),e.upload_date&&(i.filters.uploadDate=Ca[e.upload_date.toUpperCase()]),e.type&&(i.filters.type=Ta[e.type.toUpperCase()]),e.duration&&(i.filters.duration=Ia[e.duration.toUpperCase()]),e.features)for(let t of e.features)switch(t){case"360":i.filters.features360=!0;break;case"3d":i.filters.features3d=!0;break;case"4k":i.filters.features4k=!0;break;case"creative_commons":i.filters.featuresCreativeCommons=!0;break;case"hd":i.filters.featuresHd=!0;break;case"hdr":i.filters.featuresHdr=!0;break;case"live":i.filters.featuresLive=!0;break;case"location":i.filters.featuresLocation=!0;break;case"purchased":i.filters.featuresPurchased=!0;break;case"subtitles":i.filters.featuresSubtitles=!0;break;case"vr180":i.filters.featuresVr180=!0}let s=await new nr({searchEndpoint:{query:t,params:e?encodeURIComponent(xL(Aa.encode(i).finish())):void 0}}).call(c(this,RB).actions);return new EA(this.actions,s)}async getSearchSuggestions(t,e){let i=c(this,RB),s=new URL(`${As.YT_SUGGESTIONS}/complete/search`);s.searchParams.set("client","youtube"),s.searchParams.set("gs_ri","youtube"),s.searchParams.set("gs_id","0"),s.searchParams.set("cp","0"),s.searchParams.set("ds","yt"),s.searchParams.set("sugexp",Ls.WEB.SUGG_EXP_ID),s.searchParams.set("hl",i.context.client.hl),s.searchParams.set("gl",i.context.client.gl),s.searchParams.set("q",t),e&&s.searchParams.set("pq",e);let n=await(await i.http.fetch_function(s,{headers:{Cookie:i.cookie||""}})).text();return JSON.parse(n.replace("window.google.ac.h(","").slice(0,-1))[1].map(t=>t[0])}async getComments(t,e,i){bL({video_id:t});let s=Ka.encode({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e||"TOP_COMMENTS"],type:2,commentId:i||""},target:"comments-section"}}),n=encodeURIComponent(xL(s.finish())),a=await new nr({continuationCommand:{request:"CONTINUATION_REQUEST_TYPE_WATCH_NEXT",token:n}}).call(c(this,RB).actions);return new PR(this.actions,a.data)}async getHomeFeed(){let t=await new nr({browseEndpoint:{browseId:"FEwhat_to_watch"}}).call(c(this,RB).actions);return new NR(this.actions,t)}async getGuide(){let t=await this.actions.execute("/guide");return new AR(t.data)}async getLibrary(){let t=await new nr({browseEndpoint:{browseId:"FElibrary"}}).call(c(this,RB).actions);return new QR(this.actions,t)}async getHistory(){let t=await new nr({browseEndpoint:{browseId:"FEhistory"}}).call(c(this,RB).actions);return new LR(this.actions,t)}async getTrending(){let t=await new nr({browseEndpoint:{browseId:"FEtrending"}}).call(c(this,RB).actions);return new yR(this.actions,t)}async getCourses(){let t=await new nr({browseEndpoint:{browseId:"FEcourses_destination"}}).call(c(this,RB).actions,{parse:!0});return new aR(this.actions,t)}async getSubscriptionsFeed(){let t=await new nr({browseEndpoint:{browseId:"FEsubscriptions"}}).call(c(this,RB).actions,{parse:!0});return new aR(this.actions,t)}async getChannelsFeed(){let t=await new nr({browseEndpoint:{browseId:"FEchannels"}}).call(c(this,RB).actions,{parse:!0});return new aR(this.actions,t)}async getChannel(t){bL({id:t});let e=await new nr({browseEndpoint:{browseId:t}}).call(c(this,RB).actions,{parse:!0});return e.on_response_received_actions?.[0].is(OE)&&(e=await e.on_response_received_actions[0].endpoint.call(c(this,RB).actions,{parse:!0})),new gR(this.actions,e,!0)}async getNotifications(){let t=await this.actions.execute("/notification/get_notification_menu",{notificationsMenuRequestType:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"});return new SA(this.actions,t)}async getUnseenNotificationsCount(){let t=await this.actions.execute("/notification/get_unseen_count");return t.data?.unseenCount||t.data?.actions?.[0].updateNotificationsUnseenCountAction?.unseenCount||0}async getPlaylists(){let t=await new nr({browseEndpoint:{browseId:"FEplaylist_aggregation"}}).call(c(this,RB).actions,{parse:!0});return new aR(this.actions,t)}async getPlaylist(t){bL({id:t}),t.startsWith("VL")||(t=`VL${t}`);let e=await new nr({browseEndpoint:{browseId:t}}).call(c(this,RB).actions);return new YR(this.actions,e)}async getHashtag(t){bL({hashtag:t});let e=bo.encode({params:{hashtag:t,type:1}}),i=encodeURIComponent(xL(e.finish())),s=await new nr({browseEndpoint:{browseId:"FEhashtag",params:i}}).call(c(this,RB).actions);return new FR(this.actions,s)}async getStreamingData(t,e={}){let i=(await this.getBasicInfo(t,e)).chooseFormat(e);return i.url=i.decipher(c(this,RB).player),i}async download(t,e){return(await this.getBasicInfo(t,e)).download(e)}async resolveURL(t){let e=await this.actions.execute("/navigation/resolve_url",{url:t,parse:!0});if(!e.endpoint)throw new XM("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",e);return e.endpoint}async getPost(t,e){bL({post_id:t,channel_id:e});let i=Eo.encode({f1:{ucid1:e,postId:t,ucid2:e}}),s=encodeURIComponent(xL(i.finish()).replace(/\+/g,"-").replace(/\//g,"_")),n=await new nr({browseEndpoint:{browseId:"FEpost_detail",params:s}}).call(c(this,RB).actions,{parse:!0});return new aR(this.actions,n)}async getPostComments(t,e,i){bL({post_id:t,channel_id:e});let s=Bo.encode({title:"posts",commentDataContainer:{title:"comments-section",commentData:{sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[i||"TOP_COMMENTS"],f0:2,f1:0,channelId:e,postId:t},f0:0}}),n=Mo.encode({f0:{location:"FEcomment_post_detail_page_web_top_level",protoData:encodeURIComponent(xL(s.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}}),a=encodeURIComponent(xL(n.finish())),o=await new nr({continuationCommand:{request:"CONTINUATION_REQUEST_TYPE_BROWSE",token:a}}).call(c(this,RB).actions);return new PR(this.actions,o.data)}async getAttestationChallenge(t,e){let i={engagementType:t};return e&&(i.ids=e),this.actions.execute("/att/get",{parse:!0,...i})}call(t,e){return t.call(this.actions,e)}get music(){return new dD(c(this,RB))}get studio(){return new gB(c(this,RB))}get kids(){return new lD(c(this,RB))}get account(){return new CB(c(this,RB).actions)}get playlist(){return new EB(c(this,RB).actions)}get interact(){return new AB(c(this,RB).actions)}get actions(){return c(this,RB).actions}get session(){return c(this,RB)}};RB=new WeakMap,n(MB,"Innertube");var LB=MB,DB="JsRuntime";function NB(t,e){Zi.debug(DB,"Evaluating JavaScript:\n",t);let i=new Ji;for(let[t,s]of Object.entries(e))i.scope.set(t,s);let s=i.evaluate(t);return Zi.debug(DB,"Done. Result:",s),s}n(NB,"evaluate");var BB,VB,OB,UB,FB=class{constructor(t=!1,e){l(this,OB),l(this,BB),l(this,VB),h(this,BB,e||""),h(this,VB,t)}get cache_dir(){return c(this,VB)?c(this,BB):""}async get(t){return d(this,OB,UB).call(this).getBuffer(t)?.buffer}async set(t,e){d(this,OB,UB).call(this).set(t,new Uint8Array(e))}async remove(t){d(this,OB,UB).call(this).delete(t)}};BB=new WeakMap,VB=new WeakMap,OB=new WeakSet,UB=n(function(){return new globalThis.mmkvStorage({id:"InnertubeCache"})},"#getStorage"),n(FB,"Cache");var HB=FB;zM.load({runtime:"react-native",server:!1,Cache:HB,sha1Hash:EL,uuidv4:()=>globalThis.crypto?.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>{let e=parseInt(t);return(e^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}),eval:NB,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var WB=LB,jB=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],GB=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],$B="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",qB={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},KB="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",YB={5:KB,"5module":KB+" export import",6:KB+" const class extends export import super"},zB=/^in(stanceof)?$/,QB=new RegExp("["+$B+"]"),XB=new RegExp("["+$B+"‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･]");function JB(t,e){for(var i=65536,s=0;s<e.length;s+=2){if((i+=e[s])>t)return!1;if((i+=e[s+1])>=t)return!0}return!1}function ZB(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&QB.test(String.fromCharCode(t)):!1!==e&&JB(t,GB)))}function tV(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&XB.test(String.fromCharCode(t)):!1!==e&&(JB(t,GB)||JB(t,jB)))))}var eV=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function iV(t,e){return new eV(t,{beforeExpr:!0,binop:e})}var sV={beforeExpr:!0},nV={startsExpr:!0},aV={};function oV(t,e){return void 0===e&&(e={}),e.keyword=t,aV[t]=new eV(t,e)}var rV={num:new eV("num",nV),regexp:new eV("regexp",nV),string:new eV("string",nV),name:new eV("name",nV),privateId:new eV("privateId",nV),eof:new eV("eof"),bracketL:new eV("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new eV("]"),braceL:new eV("{",{beforeExpr:!0,startsExpr:!0}),braceR:new eV("}"),parenL:new eV("(",{beforeExpr:!0,startsExpr:!0}),parenR:new eV(")"),comma:new eV(",",sV),semi:new eV(";",sV),colon:new eV(":",sV),dot:new eV("."),question:new eV("?",sV),questionDot:new eV("?."),arrow:new eV("=>",sV),template:new eV("template"),invalidTemplate:new eV("invalidTemplate"),ellipsis:new eV("...",sV),backQuote:new eV("`",nV),dollarBraceL:new eV("${",{beforeExpr:!0,startsExpr:!0}),eq:new eV("=",{beforeExpr:!0,isAssign:!0}),assign:new eV("_=",{beforeExpr:!0,isAssign:!0}),incDec:new eV("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new eV("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:iV("||",1),logicalAND:iV("&&",2),bitwiseOR:iV("|",3),bitwiseXOR:iV("^",4),bitwiseAND:iV("&",5),equality:iV("==/!=/===/!==",6),relational:iV("</>/<=/>=",7),bitShift:iV("<</>>/>>>",8),plusMin:new eV("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:iV("%",10),star:iV("*",10),slash:iV("/",10),starstar:new eV("**",{beforeExpr:!0}),coalesce:iV("??",1),_break:oV("break"),_case:oV("case",sV),_catch:oV("catch"),_continue:oV("continue"),_debugger:oV("debugger"),_default:oV("default",sV),_do:oV("do",{isLoop:!0,beforeExpr:!0}),_else:oV("else",sV),_finally:oV("finally"),_for:oV("for",{isLoop:!0}),_function:oV("function",nV),_if:oV("if"),_return:oV("return",sV),_switch:oV("switch"),_throw:oV("throw",sV),_try:oV("try"),_var:oV("var"),_const:oV("const"),_while:oV("while",{isLoop:!0}),_with:oV("with"),_new:oV("new",{beforeExpr:!0,startsExpr:!0}),_this:oV("this",nV),_super:oV("super",nV),_class:oV("class",nV),_extends:oV("extends",sV),_export:oV("export"),_import:oV("import",nV),_null:oV("null",nV),_true:oV("true",nV),_false:oV("false",nV),_in:oV("in",{beforeExpr:!0,binop:7}),_instanceof:oV("instanceof",{beforeExpr:!0,binop:7}),_typeof:oV("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:oV("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:oV("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},cV=/\r\n?|\n|\u2028|\u2029/,lV=new RegExp(cV.source,"g");function hV(t){return 10===t||13===t||8232===t||8233===t}function dV(t,e,i){void 0===i&&(i=t.length);for(var s=e;s<i;s++){var n=t.charCodeAt(s);if(hV(n))return s<i-1&&13===n&&10===t.charCodeAt(s+1)?s+2:s+1}return-1}var uV=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,pV=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,mV=Object.prototype,_V=mV.hasOwnProperty,fV=mV.toString,yV=Object.hasOwn||function(t,e){return _V.call(t,e)},bV=Array.isArray||function(t){return"[object Array]"===fV.call(t)},gV=Object.create(null);function vV(t){return gV[t]||(gV[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function wV(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}var xV=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,kV=function(t,e){this.line=t,this.column=e};kV.prototype.offset=function(t){return new kV(this.line,this.column+t)};var SV=function(t,e,i){this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)};function CV(t,e){for(var i=1,s=0;;){var n=dV(t,s,e);if(n<0)return new kV(i,e-s);++i,s=n}}var TV={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},IV=!1;function EV(t){var e={};for(var i in TV)e[i]=t&&yV(t,i)?t[i]:TV[i];if("latest"===e.ecmaVersion?e.ecmaVersion=1e8:null==e.ecmaVersion?(!IV&&"object"==typeof console&&console.warn&&(IV=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),t&&null!=t.allowHashBang||(e.allowHashBang=e.ecmaVersion>=14),bV(e.onToken)){var s=e.onToken;e.onToken=function(t){return s.push(t)}}return bV(e.onComment)&&(e.onComment=function(t,e){return function(i,s,n,a,o,r){var c={type:i?"Block":"Line",value:s,start:n,end:a};t.locations&&(c.loc=new SV(this,o,r)),t.ranges&&(c.range=[n,a]),e.push(c)}}(e,e.onComment)),e}var PV=256,RV=259;function AV(t,e){return 2|(t?4:0)|(e?8:0)}var MV=function(t,e,i){this.options=t=EV(t),this.sourceFile=t.sourceFile,this.keywords=vV(YB[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var s="";!0!==t.allowReserved&&(s=qB[t.ecmaVersion>=6?6:5===t.ecmaVersion?5:3],"module"===t.sourceType&&(s+=" await")),this.reservedWords=vV(s);var n=(s?s+" ":"")+qB.strict;this.reservedWordsStrict=vV(n),this.reservedWordsStrictBind=vV(n+" "+qB.strictBind),this.input=String(e),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(cV).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=rV.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},LV={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};MV.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},LV.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},LV.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},LV.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},LV.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t].flags;if(768&e)return!1;if(2&e)return(4&e)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},LV.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0||this.options.allowSuperOutsideMethod},LV.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},LV.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},LV.allowNewDotTarget.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t].flags;if(768&e||2&e&&!(16&e))return!0}return!1},LV.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&PV)>0},MV.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this,s=0;s<t.length;s++)i=t[s](i);return i},MV.parse=function(t,e){return new this(e,t).parse()},MV.parseExpressionAt=function(t,e,i){var s=new this(i,t,e);return s.nextToken(),s.parseExpression()},MV.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(MV.prototype,LV);var DV=MV.prototype,NV=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;DV.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){pV.lastIndex=t,t+=pV.exec(this.input)[0].length;var e=NV.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2])){pV.lastIndex=t+e[0].length;var i=pV.exec(this.input),s=i.index+i[0].length,n=this.input.charAt(s);return";"===n||"}"===n||cV.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||"!"===n&&"="===this.input.charAt(s+1))}t+=e[0].length,pV.lastIndex=t,t+=pV.exec(this.input)[0].length,";"===this.input[t]&&t++}},DV.eat=function(t){return this.type===t&&(this.next(),!0)},DV.isContextual=function(t){return this.type===rV.name&&this.value===t&&!this.containsEsc},DV.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},DV.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},DV.canInsertSemicolon=function(){return this.type===rV.eof||this.type===rV.braceR||cV.test(this.input.slice(this.lastTokEnd,this.start))},DV.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},DV.semicolon=function(){this.eat(rV.semi)||this.insertSemicolon()||this.unexpected()},DV.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},DV.expect=function(t){this.eat(t)||this.unexpected()},DV.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")};var BV=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};DV.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}},DV.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,s=t.doubleProto;if(!e)return i>=0||s>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),s>=0&&this.raiseRecoverable(s,"Redefinition of __proto__ property")},DV.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},DV.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var VV=MV.prototype;VV.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==rV.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var s=0,n=Object.keys(this.undefinedExports);s<n.length;s+=1){var a=n[s];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var OV={kind:"loop"},UV={kind:"switch"};VV.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;pV.lastIndex=this.pos;var e=pV.exec(this.input),i=this.pos+e[0].length,s=this.input.charCodeAt(i);if(91===s||92===s)return!0;if(t)return!1;if(123===s||s>55295&&s<56320)return!0;if(ZB(s,!0)){for(var n=i+1;tV(s=this.input.charCodeAt(n),!0);)++n;if(92===s||s>55295&&s<56320)return!0;var a=this.input.slice(i,n);if(!zB.test(a))return!0}return!1},VV.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;pV.lastIndex=this.pos;var t,e=pV.exec(this.input),i=this.pos+e[0].length;return!(cV.test(this.input.slice(this.pos,i))||"function"!==this.input.slice(i,i+8)||i+8!==this.input.length&&(tV(t=this.input.charCodeAt(i+8))||t>55295&&t<56320))},VV.isUsingKeyword=function(t,e){if(this.options.ecmaVersion<17||!this.isContextual(t?"await":"using"))return!1;pV.lastIndex=this.pos;var i=pV.exec(this.input),s=this.pos+i[0].length;if(cV.test(this.input.slice(this.pos,s)))return!1;if(t){var n,a=s+5;if("using"!==this.input.slice(s,a)||a===this.input.length||tV(n=this.input.charCodeAt(a))||n>55295&&n<56320)return!1;pV.lastIndex=a;var o=pV.exec(this.input);if(o&&cV.test(this.input.slice(a,a+o[0].length)))return!1}if(e){var r,c=s+2;if(!("of"!==this.input.slice(s,c)||c!==this.input.length&&(tV(r=this.input.charCodeAt(c))||r>55295&&r<56320)))return!1}var l=this.input.charCodeAt(s);return ZB(l,!0)||92===l},VV.isAwaitUsing=function(t){return this.isUsingKeyword(!0,t)},VV.isUsing=function(t){return this.isUsingKeyword(!1,t)},VV.parseStatement=function(t,e,i){var s,n=this.type,a=this.startNode();switch(this.isLet(t)&&(n=rV._var,s="let"),n){case rV._break:case rV._continue:return this.parseBreakContinueStatement(a,n.keyword);case rV._debugger:return this.parseDebuggerStatement(a);case rV._do:return this.parseDoStatement(a);case rV._for:return this.parseForStatement(a);case rV._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(a,!1,!t);case rV._class:return t&&this.unexpected(),this.parseClass(a,!0);case rV._if:return this.parseIfStatement(a);case rV._return:return this.parseReturnStatement(a);case rV._switch:return this.parseSwitchStatement(a);case rV._throw:return this.parseThrowStatement(a);case rV._try:return this.parseTryStatement(a);case rV._const:case rV._var:return s=s||this.value,t&&"var"!==s&&this.unexpected(),this.parseVarStatement(a,s);case rV._while:return this.parseWhileStatement(a);case rV._with:return this.parseWithStatement(a);case rV.braceL:return this.parseBlock(!0,a);case rV.semi:return this.parseEmptyStatement(a);case rV._export:case rV._import:if(this.options.ecmaVersion>10&&n===rV._import){pV.lastIndex=this.pos;var o=pV.exec(this.input),r=this.pos+o[0].length,c=this.input.charCodeAt(r);if(40===c||46===c)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===rV._import?this.parseImport(a):this.parseExport(a,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!t);var l=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(l)return e&&"script"===this.options.sourceType&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),"await using"===l&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(a,!1,l),this.semicolon(),this.finishNode(a,"VariableDeclaration");var h=this.value,d=this.parseExpression();return n===rV.name&&"Identifier"===d.type&&this.eat(rV.colon)?this.parseLabeledStatement(a,h,d,t):this.parseExpressionStatement(a,d)}},VV.parseBreakContinueStatement=function(t,e){var i="break"===e;this.next(),this.eat(rV.semi)||this.insertSemicolon()?t.label=null:this.type!==rV.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var s=0;s<this.labels.length;++s){var n=this.labels[s];if(null==t.label||n.name===t.label.name){if(null!=n.kind&&(i||"loop"===n.kind))break;if(t.label&&i)break}}return s===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},VV.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},VV.parseDoStatement=function(t){return this.next(),this.labels.push(OV),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(rV._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(rV.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},VV.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(OV),this.enterScope(0),this.expect(rV.parenL),this.type===rV.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===rV._var||this.type===rV._const||i){var s=this.startNode(),n=i?"let":this.value;return this.next(),this.parseVar(s,!0,n),this.finishNode(s,"VariableDeclaration"),this.parseForAfterInit(t,s,e)}var a=this.isContextual("let"),o=!1,r=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(r){var c=this.startNode();return this.next(),"await using"===r&&this.next(),this.parseVar(c,!0,r),this.finishNode(c,"VariableDeclaration"),this.parseForAfterInit(t,c,e)}var l=this.containsEsc,h=new BV,d=this.start,u=e>-1?this.parseExprSubscripts(h,"await"):this.parseExpression(!0,h);return this.type===rV._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===rV._in&&this.unexpected(e),t.await=!0):o&&this.options.ecmaVersion>=8&&(u.start!==d||l||"Identifier"!==u.type||"async"!==u.name?this.options.ecmaVersion>=9&&(t.await=!1):this.unexpected()),a&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,h),this.checkLValPattern(u),this.parseForIn(t,u)):(this.checkExpressionErrors(h,!0),e>-1&&this.unexpected(e),this.parseFor(t,u))},VV.parseForAfterInit=function(t,e,i){return(this.type===rV._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===e.declarations.length?(this.options.ecmaVersion>=9&&(this.type===rV._in?i>-1&&this.unexpected(i):t.await=i>-1),this.parseForIn(t,e)):(i>-1&&this.unexpected(i),this.parseFor(t,e))},VV.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,HV|(i?0:WV),!1,e)},VV.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(rV._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},VV.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(rV.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},VV.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(rV.braceL),this.labels.push(UV),this.enterScope(0);for(var i=!1;this.type!==rV.braceR;)if(this.type===rV._case||this.type===rV._default){var s=this.type===rV._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),s?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(rV.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},VV.parseThrowStatement=function(t){return this.next(),cV.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var FV=[];VV.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e="Identifier"===t.type;return this.enterScope(e?32:0),this.checkLValPattern(t,e?4:2),this.expect(rV.parenR),t},VV.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===rV._catch){var e=this.startNode();this.next(),this.eat(rV.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(rV._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},VV.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")},VV.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(OV),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},VV.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},VV.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},VV.parseLabeledStatement=function(t,e,i,s){for(var n=0,a=this.labels;n<a.length;n+=1){a[n].name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===rV._switch?"switch":null,r=this.labels.length-1;r>=0;r--){var c=this.labels[r];if(c.statementStart!==t.start)break;c.statementStart=this.start,c.kind=o}return this.labels.push({name:e,kind:o,statementStart:this.start}),t.body=this.parseStatement(s?-1===s.indexOf("label")?s+"label":s:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},VV.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},VV.parseBlock=function(t,e,i){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(rV.braceL),t&&this.enterScope(0);this.type!==rV.braceR;){var s=this.parseStatement(null);e.body.push(s)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},VV.parseFor=function(t,e){return t.init=e,this.expect(rV.semi),t.test=this.type===rV.semi?null:this.parseExpression(),this.expect(rV.semi),t.update=this.type===rV.parenR?null:this.parseExpression(),this.expect(rV.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},VV.parseForIn=function(t,e){var i=this.type===rV._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(rV.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")},VV.parseVar=function(t,e,i,s){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(rV.eq)?n.init=this.parseMaybeAssign(e):s||"const"!==i||this.type===rV._in||this.options.ecmaVersion>=6&&this.isContextual("of")?s||"using"!==i&&"await using"!==i||!(this.options.ecmaVersion>=17)||this.type===rV._in||this.isContextual("of")?s||"Identifier"===n.id.type||e&&(this.type===rV._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.raise(this.lastTokEnd,"Missing initializer in "+i+" declaration"):this.unexpected(),t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(rV.comma))break}return t},VV.parseVarId=function(t,e){t.id="using"===e||"await using"===e?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?1:2,!1)};var HV=1,WV=2;function jV(t,e){var i=e.key.name,s=t[i],n="true";return"MethodDefinition"!==e.type||"get"!==e.kind&&"set"!==e.kind||(n=(e.static?"s":"i")+e.kind),"iget"===s&&"iset"===n||"iset"===s&&"iget"===n||"sget"===s&&"sset"===n||"sset"===s&&"sget"===n?(t[i]="true",!1):!!s||(t[i]=n,!1)}function GV(t,e){var i=t.computed,s=t.key;return!i&&("Identifier"===s.type&&s.name===e||"Literal"===s.type&&s.value===e)}VV.parseFunction=function(t,e,i,s,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!s)&&(this.type===rV.star&&e&WV&&this.unexpected(),t.generator=this.eat(rV.star)),this.options.ecmaVersion>=8&&(t.async=!!s),e&HV&&(t.id=4&e&&this.type!==rV.name?null:this.parseIdent(),!t.id||e&WV||this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var a=this.yieldPos,o=this.awaitPos,r=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(AV(t.async,t.generator)),e&HV||(t.id=this.type===rV.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,n),this.yieldPos=a,this.awaitPos=o,this.awaitIdentPos=r,this.finishNode(t,e&HV?"FunctionDeclaration":"FunctionExpression")},VV.parseFunctionParams=function(t){this.expect(rV.parenL),t.params=this.parseBindingList(rV.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},VV.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var s=this.enterClassBody(),n=this.startNode(),a=!1;for(n.body=[],this.expect(rV.braceL);this.type!==rV.braceR;){var o=this.parseClassElement(null!==t.superClass);o&&(n.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind?(a&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),a=!0):o.key&&"PrivateIdentifier"===o.key.type&&jV(s,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},VV.parseClassElement=function(t){if(this.eat(rV.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),s="",n=!1,a=!1,o="method",r=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(rV.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===rV.star?r=!0:s="static"}if(i.static=r,!s&&e>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==rV.star||this.canInsertSemicolon()?s="async":a=!0),!s&&(e>=9||!a)&&this.eat(rV.star)&&(n=!0),!s&&!a&&!n){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=c:s=c)}if(s?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=s,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===rV.parenL||"method"!==o||n||a){var l=!i.static&&GV(i,"constructor"),h=l&&t;l&&"method"!==o&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=l?"constructor":o,this.parseClassMethod(i,n,a,h)}else this.parseClassField(i);return i},VV.isClassElementNameStart=function(){return this.type===rV.name||this.type===rV.privateId||this.type===rV.num||this.type===rV.string||this.type===rV.bracketL||this.type.keyword},VV.parseClassElementName=function(t){this.type===rV.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},VV.parseClassMethod=function(t,e,i,s){var n=t.key;"constructor"===t.kind?(e&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method")):t.static&&GV(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,s);return"get"===t.kind&&0!==a.params.length&&this.raiseRecoverable(a.start,"getter should have no params"),"set"===t.kind&&1!==a.params.length&&this.raiseRecoverable(a.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===a.params[0].type&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},VV.parseClassField=function(t){return GV(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&GV(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(rV.eq)?(this.enterScope(576),t.value=this.parseMaybeAssign(),this.exitScope()):t.value=null,this.semicolon(),this.finishNode(t,"PropertyDefinition")},VV.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(320);this.type!==rV.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")},VV.parseClassId=function(t,e){this.type===rV.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},VV.parseClassSuper=function(t){t.superClass=this.eat(rV._extends)?this.parseExprSubscripts(null,!1):null},VV.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},VV.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var s=this.privateNameStack.length,n=0===s?null:this.privateNameStack[s-1],a=0;a<i.length;++a){var o=i[a];yV(e,o.name)||(n?n.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}},VV.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==rV.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")},VV.parseExport=function(t,e){if(this.next(),this.eat(rV.star))return this.parseExportAllDeclaration(t,e);if(this.eat(rV._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null,this.options.ecmaVersion>=16&&(t.attributes=[]);else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==rV.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause());else{for(var i=0,s=t.specifiers;i<s.length;i+=1){var n=s[i];this.checkUnreserved(n.local),this.checkLocalExport(n.local),"Literal"===n.local.type&&this.raise(n.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null,this.options.ecmaVersion>=16&&(t.attributes=[])}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},VV.parseExportDeclaration=function(t){return this.parseStatement(null)},VV.parseExportDefaultDeclaration=function(){var t;if(this.type===rV._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,4|HV,!1,t)}if(this.type===rV._class){var i=this.startNode();return this.parseClass(i,"nullableID")}var s=this.parseMaybeAssign();return this.semicolon(),s},VV.checkExport=function(t,e,i){t&&("string"!=typeof e&&(e="Identifier"===e.type?e.name:e.value),yV(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)},VV.checkPatternExport=function(t,e){var i=e.type;if("Identifier"===i)this.checkExport(t,e,e.start);else if("ObjectPattern"===i)for(var s=0,n=e.properties;s<n.length;s+=1){var a=n[s];this.checkPatternExport(t,a)}else if("ArrayPattern"===i)for(var o=0,r=e.elements;o<r.length;o+=1){var c=r[o];c&&this.checkPatternExport(t,c)}else"Property"===i?this.checkPatternExport(t,e.value):"AssignmentPattern"===i?this.checkPatternExport(t,e.left):"RestElement"===i&&this.checkPatternExport(t,e.argument)},VV.checkVariableExport=function(t,e){if(t)for(var i=0,s=e;i<s.length;i+=1){var n=s[i];this.checkPatternExport(t,n.id)}},VV.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},VV.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")},VV.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(rV.braceL);!this.eat(rV.braceR);){if(i)i=!1;else if(this.expect(rV.comma),this.afterTrailingComma(rV.braceR))break;e.push(this.parseExportSpecifier(t))}return e},VV.parseImport=function(t){return this.next(),this.type===rV.string?(t.specifiers=FV,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===rV.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},VV.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportSpecifier")},VV.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportDefaultSpecifier")},VV.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportNamespaceSpecifier")},VV.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===rV.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(rV.comma)))return t;if(this.type===rV.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(rV.braceL);!this.eat(rV.braceR);){if(e)e=!1;else if(this.expect(rV.comma),this.afterTrailingComma(rV.braceR))break;t.push(this.parseImportSpecifier())}return t},VV.parseWithClause=function(){var t=[];if(!this.eat(rV._with))return t;this.expect(rV.braceL);for(var e={},i=!0;!this.eat(rV.braceR);){if(i)i=!1;else if(this.expect(rV.comma),this.afterTrailingComma(rV.braceR))break;var s=this.parseImportAttribute(),n="Identifier"===s.key.type?s.key.name:s.key.value;yV(e,n)&&this.raiseRecoverable(s.key.start,"Duplicate attribute key '"+n+"'"),e[n]=!0,t.push(s)}return t},VV.parseImportAttribute=function(){var t=this.startNode();return t.key=this.type===rV.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved),this.expect(rV.colon),this.type!==rV.string&&this.unexpected(),t.value=this.parseExprAtom(),this.finishNode(t,"ImportAttribute")},VV.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===rV.string){var t=this.parseLiteral(this.value);return xV.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)},VV.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},VV.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var $V=MV.prototype;$V.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var s=0,n=t.properties;s<n.length;s+=1){var a=n[s];this.toAssignable(a,e),"RestElement"!==a.type||"ArrayPattern"!==a.argument.type&&"ObjectPattern"!==a.argument.type||this.raise(a.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t},$V.toAssignableList=function(t,e){for(var i=t.length,s=0;s<i;s++){var n=t[s];n&&this.toAssignable(n,e)}if(i){var a=t[i-1];6===this.options.ecmaVersion&&e&&a&&"RestElement"===a.type&&"Identifier"!==a.argument.type&&this.unexpected(a.argument.start)}return t},$V.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},$V.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==rV.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},$V.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case rV.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(rV.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case rV.braceL:return this.parseObj(!0)}return this.parseIdent()},$V.parseBindingList=function(t,e,i,s){for(var n=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(rV.comma),e&&this.type===rV.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===rV.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),n.push(o),this.type===rV.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}n.push(this.parseAssignableListItem(s))}return n},$V.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e},$V.parseBindingListItem=function(t){return t},$V.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(rV.eq))return i;var s=this.startNodeAt(t,e);return s.left=i,s.right=this.parseMaybeAssign(),this.finishNode(s,"AssignmentPattern")},$V.checkLValSimple=function(t,e,i){void 0===e&&(e=0);var s=0!==e;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(s?"Binding ":"Assigning to ")+t.name+" in strict mode"),s&&(2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(yV(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),5!==e&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":s&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return s&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(s?"Binding":"Assigning to")+" rvalue")}},$V.checkLValPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"ObjectPattern":for(var s=0,n=t.properties;s<n.length;s+=1){var a=n[s];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var o=0,r=t.elements;o<r.length;o+=1){var c=r[o];c&&this.checkLValInnerPattern(c,e,i)}break;default:this.checkLValSimple(t,e,i)}},$V.checkLValInnerPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var qV=function(t,e,i,s,n){this.token=t,this.isExpr=!!e,this.preserveSpace=!!i,this.override=s,this.generator=!!n},KV={b_stat:new qV("{",!1),b_expr:new qV("{",!0),b_tmpl:new qV("${",!1),p_stat:new qV("(",!1),p_expr:new qV("(",!0),q_tmpl:new qV("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new qV("function",!1),f_expr:new qV("function",!0),f_expr_gen:new qV("function",!0,!1,null,!0),f_gen:new qV("function",!1,!1,null,!0)},YV=MV.prototype;YV.initialContext=function(){return[KV.b_stat]},YV.curContext=function(){return this.context[this.context.length-1]},YV.braceIsBlock=function(t){var e=this.curContext();return e===KV.f_expr||e===KV.f_stat||(t!==rV.colon||e!==KV.b_stat&&e!==KV.b_expr?t===rV._return||t===rV.name&&this.exprAllowed?cV.test(this.input.slice(this.lastTokEnd,this.start)):t===rV._else||t===rV.semi||t===rV.eof||t===rV.parenR||t===rV.arrow||(t===rV.braceL?e===KV.b_stat:t!==rV._var&&t!==rV._const&&t!==rV.name&&!this.exprAllowed):!e.isExpr)},YV.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},YV.updateContext=function(t){var e,i=this.type;i.keyword&&t===rV.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},YV.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)},rV.parenR.updateContext=rV.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===KV.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},rV.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?KV.b_stat:KV.b_expr),this.exprAllowed=!0},rV.dollarBraceL.updateContext=function(){this.context.push(KV.b_tmpl),this.exprAllowed=!0},rV.parenL.updateContext=function(t){var e=t===rV._if||t===rV._for||t===rV._with||t===rV._while;this.context.push(e?KV.p_stat:KV.p_expr),this.exprAllowed=!0},rV.incDec.updateContext=function(){},rV._function.updateContext=rV._class.updateContext=function(t){!t.beforeExpr||t===rV._else||t===rV.semi&&this.curContext()!==KV.p_stat||t===rV._return&&cV.test(this.input.slice(this.lastTokEnd,this.start))||(t===rV.colon||t===rV.braceL)&&this.curContext()===KV.b_stat?this.context.push(KV.f_stat):this.context.push(KV.f_expr),this.exprAllowed=!1},rV.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},rV.backQuote.updateContext=function(){this.curContext()===KV.q_tmpl?this.context.pop():this.context.push(KV.q_tmpl),this.exprAllowed=!1},rV.star.updateContext=function(t){if(t===rV._function){var e=this.context.length-1;this.context[e]===KV.f_expr?this.context[e]=KV.f_expr_gen:this.context[e]=KV.f_gen}this.exprAllowed=!0},rV.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==rV.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var zV=MV.prototype;function QV(t){return"Identifier"===t.type||"ParenthesizedExpression"===t.type&&QV(t.expression)}function XV(t){return"MemberExpression"===t.type&&"PrivateIdentifier"===t.property.type||"ChainExpression"===t.type&&XV(t.expression)||"ParenthesizedExpression"===t.type&&XV(t.expression)}zV.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type||this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var s,n=t.key;switch(n.type){case"Identifier":s=n.name;break;case"Literal":s=String(n.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===s&&"init"===a&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);else{var o=e[s="$"+s];if(o)("init"===a?this.strict&&o.init||o.get||o.set:o.init||o[a])&&this.raiseRecoverable(n.start,"Redefinition of property");else o=e[s]={init:!1,get:!1,set:!1};o[a]=!0}}},zV.parseExpression=function(t,e){var i=this.start,s=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===rV.comma){var a=this.startNodeAt(i,s);for(a.expressions=[n];this.eat(rV.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return n},zV.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var s=!1,n=-1,a=-1,o=-1;e?(n=e.parenthesizedAssign,a=e.trailingComma,o=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new BV,s=!0);var r=this.start,c=this.startLoc;this.type!==rV.parenL&&this.type!==rV.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===t);var l=this.parseMaybeConditional(t,e);if(i&&(l=i.call(this,l,r,c)),this.type.isAssign){var h=this.startNodeAt(r,c);return h.operator=this.value,this.type===rV.eq&&(l=this.toAssignable(l,!1,e)),s||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=l.start&&(e.shorthandAssign=-1),this.type===rV.eq?this.checkLValPattern(l):this.checkLValSimple(l),h.left=l,this.next(),h.right=this.parseMaybeAssign(t),o>-1&&(e.doubleProto=o),this.finishNode(h,"AssignmentExpression")}return s&&this.checkExpressionErrors(e,!0),n>-1&&(e.parenthesizedAssign=n),a>-1&&(e.trailingComma=a),l},zV.parseMaybeConditional=function(t,e){var i=this.start,s=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(rV.question)){var a=this.startNodeAt(i,s);return a.test=n,a.consequent=this.parseMaybeAssign(),this.expect(rV.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return n},zV.parseExprOps=function(t,e){var i=this.start,s=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===i&&"ArrowFunctionExpression"===n.type?n:this.parseExprOp(n,i,s,-1,t)},zV.parseExprOp=function(t,e,i,s,n){var a=this.type.binop;if(null!=a&&(!n||this.type!==rV._in)&&a>s){var o=this.type===rV.logicalOR||this.type===rV.logicalAND,r=this.type===rV.coalesce;r&&(a=rV.logicalAND.binop);var c=this.value;this.next();var l=this.start,h=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),l,h,a,n),u=this.buildBinary(e,i,t,d,c,o||r);return(o&&this.type===rV.coalesce||r&&(this.type===rV.logicalOR||this.type===rV.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(u,e,i,s,n)}return t},zV.buildBinary=function(t,e,i,s,n,a){"PrivateIdentifier"===s.type&&this.raise(s.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(t,e);return o.left=i,o.operator=n,o.right=s,this.finishNode(o,a?"LogicalExpression":"BinaryExpression")},zV.parseMaybeUnary=function(t,e,i,s){var n,a=this.start,o=this.startLoc;if(this.isContextual("await")&&this.canAwait)n=this.parseAwait(s),e=!0;else if(this.type.prefix){var r=this.startNode(),c=this.type===rV.incDec;r.operator=this.value,r.prefix=!0,this.next(),r.argument=this.parseMaybeUnary(null,!0,c,s),this.checkExpressionErrors(t,!0),c?this.checkLValSimple(r.argument):this.strict&&"delete"===r.operator&&QV(r.argument)?this.raiseRecoverable(r.start,"Deleting local variable in strict mode"):"delete"===r.operator&&XV(r.argument)?this.raiseRecoverable(r.start,"Private fields can not be deleted"):e=!0,n=this.finishNode(r,c?"UpdateExpression":"UnaryExpression")}else if(e||this.type!==rV.privateId){if(n=this.parseExprSubscripts(t,s),this.checkExpressionErrors(t))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(a,o);l.operator=this.value,l.prefix=!1,l.argument=n,this.checkLValSimple(n),this.next(),n=this.finishNode(l,"UpdateExpression")}}else(s||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),n=this.parsePrivateIdent(),this.type!==rV._in&&this.unexpected();return i||!this.eat(rV.starstar)?n:e?void this.unexpected(this.lastTokStart):this.buildBinary(a,o,n,this.parseMaybeUnary(null,!1,!1,s),"**",!1)},zV.parseExprSubscripts=function(t,e){var i=this.start,s=this.startLoc,n=this.parseExprAtom(t,e);if("ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return n;var a=this.parseSubscripts(n,i,s,!1,e);return t&&"MemberExpression"===a.type&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a},zV.parseSubscripts=function(t,e,i,s,n){for(var a=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,o=!1;;){var r=this.parseSubscript(t,e,i,s,a,o,n);if(r.optional&&(o=!0),r===t||"ArrowFunctionExpression"===r.type){if(o){var c=this.startNodeAt(e,i);c.expression=r,r=this.finishNode(c,"ChainExpression")}return r}t=r}},zV.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(rV.arrow)},zV.parseSubscriptAsyncArrow=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,s)},zV.parseSubscript=function(t,e,i,s,n,a,o){var r=this.options.ecmaVersion>=11,c=r&&this.eat(rV.questionDot);s&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(rV.bracketL);if(l||c&&this.type!==rV.parenL&&this.type!==rV.backQuote||this.eat(rV.dot)){var h=this.startNodeAt(e,i);h.object=t,l?(h.property=this.parseExpression(),this.expect(rV.bracketR)):this.type===rV.privateId&&"Super"!==t.type?h.property=this.parsePrivateIdent():h.property=this.parseIdent("never"!==this.options.allowReserved),h.computed=!!l,r&&(h.optional=c),t=this.finishNode(h,"MemberExpression")}else if(!s&&this.eat(rV.parenL)){var d=new BV,u=this.yieldPos,p=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var _=this.parseExprList(rV.parenR,this.options.ecmaVersion>=8,!1,d);if(n&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=u,this.awaitPos=p,this.awaitIdentPos=m,this.parseSubscriptAsyncArrow(e,i,_,o);this.checkExpressionErrors(d,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var f=this.startNodeAt(e,i);f.callee=t,f.arguments=_,r&&(f.optional=c),t=this.finishNode(f,"CallExpression")}else if(this.type===rV.backQuote){(c||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(e,i);y.tag=t,y.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(y,"TaggedTemplateExpression")}return t},zV.parseExprAtom=function(t,e,i){this.type===rV.slash&&this.readRegexp();var s,n=this.potentialArrowAt===this.start;switch(this.type){case rV._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),s=this.startNode(),this.next(),this.type!==rV.parenL||this.allowDirectSuper||this.raise(s.start,"super() call outside constructor of a subclass"),this.type!==rV.dot&&this.type!==rV.bracketL&&this.type!==rV.parenL&&this.unexpected(),this.finishNode(s,"Super");case rV._this:return s=this.startNode(),this.next(),this.finishNode(s,"ThisExpression");case rV.name:var a=this.start,o=this.startLoc,r=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!r&&"async"===c.name&&!this.canInsertSemicolon()&&this.eat(rV._function))return this.overrideContext(KV.f_expr),this.parseFunction(this.startNodeAt(a,o),0,!1,!0,e);if(n&&!this.canInsertSemicolon()){if(this.eat(rV.arrow))return this.parseArrowExpression(this.startNodeAt(a,o),[c],!1,e);if(this.options.ecmaVersion>=8&&"async"===c.name&&this.type===rV.name&&!r&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return c=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(rV.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,o),[c],!0,e)}return c;case rV.regexp:var l=this.value;return(s=this.parseLiteral(l.value)).regex={pattern:l.pattern,flags:l.flags},s;case rV.num:case rV.string:return this.parseLiteral(this.value);case rV._null:case rV._true:case rV._false:return(s=this.startNode()).value=this.type===rV._null?null:this.type===rV._true,s.raw=this.type.keyword,this.next(),this.finishNode(s,"Literal");case rV.parenL:var h=this.start,d=this.parseParenAndDistinguishExpression(n,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),d;case rV.bracketL:return s=this.startNode(),this.next(),s.elements=this.parseExprList(rV.bracketR,!0,!0,t),this.finishNode(s,"ArrayExpression");case rV.braceL:return this.overrideContext(KV.b_expr),this.parseObj(!1,t);case rV._function:return s=this.startNode(),this.next(),this.parseFunction(s,0);case rV._class:return this.parseClass(this.startNode(),!1);case rV._new:return this.parseNew();case rV.backQuote:return this.parseTemplate();case rV._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}},zV.parseExprAtomDefault=function(){this.unexpected()},zV.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===rV.parenL&&!t)return this.parseDynamicImport(e);if(this.type===rV.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}this.unexpected()},zV.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(rV.parenR)?t.options=null:(this.expect(rV.comma),this.afterTrailingComma(rV.parenR)?t.options=null:(t.options=this.parseMaybeAssign(),this.eat(rV.parenR)||(this.expect(rV.comma),this.afterTrailingComma(rV.parenR)||this.unexpected())));else if(!this.eat(rV.parenR)){var e=this.start;this.eat(rV.comma)&&this.eat(rV.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},zV.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},zV.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=null!=e.value?e.value.toString():e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},zV.parseParenExpression=function(){this.expect(rV.parenL);var t=this.parseExpression();return this.expect(rV.parenR),t},zV.shouldParseArrow=function(t){return!this.canInsertSemicolon()},zV.parseParenAndDistinguishExpression=function(t,e){var i,s=this.start,n=this.startLoc,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,r=this.start,c=this.startLoc,l=[],h=!0,d=!1,u=new BV,p=this.yieldPos,m=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==rV.parenR;){if(h?h=!1:this.expect(rV.comma),a&&this.afterTrailingComma(rV.parenR,!0)){d=!0;break}if(this.type===rV.ellipsis){o=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===rV.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var _=this.lastTokEnd,f=this.lastTokEndLoc;if(this.expect(rV.parenR),t&&this.shouldParseArrow(l)&&this.eat(rV.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=m,this.parseParenArrowList(s,n,l,e);l.length&&!d||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(u,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=m||this.awaitPos,l.length>1?((i=this.startNodeAt(r,c)).expressions=l,this.finishNodeAt(i,"SequenceExpression",_,f)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(s,n);return y.expression=i,this.finishNode(y,"ParenthesizedExpression")}return i},zV.parseParenItem=function(t){return t},zV.parseParenArrowList=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,s)};var JV=[];zV.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===rV.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var s=this.start,n=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),s,n,!0,!1),this.eat(rV.parenL)?t.arguments=this.parseExprList(rV.parenR,this.options.ecmaVersion>=8,!1):t.arguments=JV,this.finishNode(t,"NewExpression")},zV.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===rV.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,"\n"),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),i.tail=this.type===rV.backQuote,this.finishNode(i,"TemplateElement")},zV.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var s=this.parseTemplateElement({isTagged:e});for(i.quasis=[s];!s.tail;)this.type===rV.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(rV.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(rV.braceR),i.quasis.push(s=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")},zV.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===rV.name||this.type===rV.num||this.type===rV.string||this.type===rV.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===rV.star)&&!cV.test(this.input.slice(this.lastTokEnd,this.start))},zV.parseObj=function(t,e){var i=this.startNode(),s=!0,n={};for(i.properties=[],this.next();!this.eat(rV.braceR);){if(s)s=!1;else if(this.expect(rV.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(rV.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,n,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},zV.parseProperty=function(t,e){var i,s,n,a,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(rV.ellipsis))return t?(o.argument=this.parseIdent(!1),this.type===rV.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,e),this.type===rV.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(t||e)&&(n=this.start,a=this.startLoc),t||(i=this.eat(rV.star)));var r=this.containsEsc;return this.parsePropertyName(o),!t&&!r&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(o)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(rV.star),this.parsePropertyName(o)):s=!1,this.parsePropertyValue(o,t,i,s,n,a,e,r),this.finishNode(o,"Property")},zV.parseGetterSetter=function(t){var e=t.key.name;this.parsePropertyName(t),t.value=this.parseMethod(!1),t.kind=e;var i="get"===t.kind?0:1;if(t.value.params.length!==i){var s=t.value.start;"get"===t.kind?this.raiseRecoverable(s,"getter should have no params"):this.raiseRecoverable(s,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")},zV.parsePropertyValue=function(t,e,i,s,n,a,o,r){(i||s)&&this.type===rV.colon&&this.unexpected(),this.eat(rV.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),t.kind="init"):this.options.ecmaVersion>=6&&this.type===rV.parenL?(e&&this.unexpected(),t.method=!0,t.value=this.parseMethod(i,s),t.kind="init"):e||r||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===rV.comma||this.type===rV.braceR||this.type===rV.eq?this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((i||s)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=n),e?t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key)):this.type===rV.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.kind="init",t.shorthand=!0):this.unexpected():((i||s)&&this.unexpected(),this.parseGetterSetter(t))},zV.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(rV.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(rV.bracketR),t.key;t.computed=!1}return t.key=this.type===rV.num||this.type===rV.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},zV.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},zV.parseMethod=function(t,e,i){var s=this.startNode(),n=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=t),this.options.ecmaVersion>=8&&(s.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|AV(e,s.generator)|(i?128:0)),this.expect(rV.parenL),s.params=this.parseBindingList(rV.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1,!0,!1),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(s,"FunctionExpression")},zV.parseArrowExpression=function(t,e,i,s){var n=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|AV(i,!1)),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,s),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(t,"ArrowFunctionExpression")},zV.parseFunctionBody=function(t,e,i,s){var n=e&&this.type!==rV.braceL,a=this.strict,o=!1;if(n)t.body=this.parseMaybeAssign(s),t.expression=!0,this.checkParams(t,!1);else{var r=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);a&&!r||(o=this.strictDirective(this.end))&&r&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var c=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(t,!a&&!o&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,5),t.body=this.parseBlock(!1,void 0,o&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=c}this.exitScope()},zV.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){if("Identifier"!==i[e].type)return!1}return!0},zV.checkParams=function(t,e){for(var i=Object.create(null),s=0,n=t.params;s<n.length;s+=1){var a=n[s];this.checkLValInnerPattern(a,1,e?null:i)}},zV.parseExprList=function(t,e,i,s){for(var n=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(rV.comma),e&&this.afterTrailingComma(t))break;var o=void 0;i&&this.type===rV.comma?o=null:this.type===rV.ellipsis?(o=this.parseSpread(s),s&&this.type===rV.comma&&s.trailingComma<0&&(s.trailingComma=this.start)):o=this.parseMaybeAssign(!1,s),n.push(o)}return n},zV.checkUnreserved=function(t){var e=t.start,i=t.end,s=t.name;(this.inGenerator&&"yield"===s&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===s&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().flags&RV||"arguments"!==s||this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==s&&"await"!==s||this.raise(e,"Cannot use "+s+" in class static initialization block"),this.keywords.test(s)&&this.raise(e,"Unexpected keyword '"+s+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,i).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(s)&&(this.inAsync||"await"!==s||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+s+"' is reserved"))},zV.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),"await"!==e.name||this.awaitIdentPos||(this.awaitIdentPos=e.start)),e},zV.parseIdentNode=function(){var t=this.startNode();return this.type===rV.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,"class"!==t.name&&"function"!==t.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop(),this.type=rV.name):this.unexpected(),t},zV.parsePrivateIdent=function(){var t=this.startNode();return this.type===rV.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t},zV.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===rV.semi||this.canInsertSemicolon()||this.type!==rV.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(rV.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},zV.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var ZV=MV.prototype;ZV.raise=function(t,e){var i=CV(this.input,t);e+=" ("+i.line+":"+i.column+")",this.sourceFile&&(e+=" in "+this.sourceFile);var s=new SyntaxError(e);throw s.pos=t,s.loc=i,s.raisedAt=this.pos,s},ZV.raiseRecoverable=ZV.raise,ZV.curPosition=function(){if(this.options.locations)return new kV(this.curLine,this.pos-this.lineStart)};var tO=MV.prototype,eO=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};tO.enterScope=function(t){this.scopeStack.push(new eO(t))},tO.exitScope=function(){this.scopeStack.pop()},tO.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},tO.declareName=function(t,e,i){var s=!1;if(2===e){var n=this.currentScope();s=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&1&n.flags&&delete this.undefinedExports[t]}else if(4===e){this.currentScope().lexical.push(t)}else if(3===e){var a=this.currentScope();s=this.treatFunctionsAsVar?a.lexical.indexOf(t)>-1:a.lexical.indexOf(t)>-1||a.var.indexOf(t)>-1,a.functions.push(t)}else for(var o=this.scopeStack.length-1;o>=0;--o){var r=this.scopeStack[o];if(r.lexical.indexOf(t)>-1&&!(32&r.flags&&r.lexical[0]===t)||!this.treatFunctionsAsVarInScope(r)&&r.functions.indexOf(t)>-1){s=!0;break}if(r.var.push(t),this.inModule&&1&r.flags&&delete this.undefinedExports[t],r.flags&RV)break}s&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")},tO.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},tO.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},tO.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(771&e.flags)return e}},tO.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(771&e.flags&&!(16&e.flags))return e}};var iO=function(t,e,i){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new SV(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},sO=MV.prototype;function nO(t,e,i,s){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=s),this.options.ranges&&(t.range[1]=i),t}sO.startNode=function(){return new iO(this,this.start,this.startLoc)},sO.startNodeAt=function(t,e){return new iO(this,t,e)},sO.finishNode=function(t,e){return nO.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},sO.finishNodeAt=function(t,e,i,s){return nO.call(this,t,e,i,s)},sO.copyNode=function(t){var e=new iO(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var aO="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",oO=aO+" Extended_Pictographic",rO=oO+" EBase EComp EMod EPres ExtPict",cO={9:aO,10:oO,11:oO,12:rO,13:rO,14:rO},lO={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},hO="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",dO="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",uO=dO+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",pO=uO+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",mO=pO+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",_O=mO+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",fO={9:dO,10:uO,11:pO,12:mO,13:_O,14:_O+" Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz"},yO={};function bO(t){var e=yO[t]={binary:vV(cO[t]+" "+hO),binaryOfStrings:vV(lO[t]),nonBinary:{General_Category:vV(hO),Script:vV(fO[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var gO=0,vO=[9,10,11,12,13,14];gO<vO.length;gO+=1){bO(vO[gO])}var wO=MV.prototype,xO=function(t,e){this.parent=t,this.base=e||this};xO.prototype.separatedFrom=function(t){for(var e=this;e;e=e.parent)for(var i=t;i;i=i.parent)if(e.base===i.base&&e!==i)return!0;return!1},xO.prototype.sibling=function(){return new xO(this.parent,this.base)};var kO=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=yO[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};function SO(t){return 105===t||109===t||115===t}function CO(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function TO(t){return t>=65&&t<=90||t>=97&&t<=122}kO.prototype.reset=function(t,e,i){var s=-1!==i.indexOf("v"),n=-1!==i.indexOf("u");this.start=0|t,this.source=e+"",this.flags=i,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=n&&this.parser.options.ecmaVersion>=9)},kO.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},kO.prototype.at=function(t,e){void 0===e&&(e=!1);var i=this.source,s=i.length;if(t>=s)return-1;var n=i.charCodeAt(t);if(!e&&!this.switchU||n<=55295||n>=57344||t+1>=s)return n;var a=i.charCodeAt(t+1);return a>=56320&&a<=57343?(n<<10)+a-56613888:n},kO.prototype.nextIndex=function(t,e){void 0===e&&(e=!1);var i=this.source,s=i.length;if(t>=s)return s;var n,a=i.charCodeAt(t);return!e&&!this.switchU||a<=55295||a>=57344||t+1>=s||(n=i.charCodeAt(t+1))<56320||n>57343?t+1:t+2},kO.prototype.current=function(t){return void 0===t&&(t=!1),this.at(this.pos,t)},kO.prototype.lookahead=function(t){return void 0===t&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},kO.prototype.advance=function(t){void 0===t&&(t=!1),this.pos=this.nextIndex(this.pos,t)},kO.prototype.eat=function(t,e){return void 0===e&&(e=!1),this.current(e)===t&&(this.advance(e),!0)},kO.prototype.eatChars=function(t,e){void 0===e&&(e=!1);for(var i=this.pos,s=0,n=t;s<n.length;s+=1){var a=n[s],o=this.at(i,e);if(-1===o||o!==a)return!1;i=this.nextIndex(i,e)}return this.pos=i,!0},wO.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,s=!1,n=!1,a=0;a<i.length;a++){var o=i.charAt(a);-1===e.indexOf(o)&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(o,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),"u"===o&&(s=!0),"v"===o&&(n=!0)}this.options.ecmaVersion>=15&&s&&n&&this.raise(t.start,"Invalid regular expression flag")},wO.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&function(t){for(var e in t)return!0;return!1}(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))},wO.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var s=i[e];t.groupNames[s]||t.raise("Invalid named capture referenced")}},wO.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new xO(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},wO.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},wO.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},wO.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1},wO.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},wO.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},wO.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var s=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return-1!==n&&n<s&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1},wO.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},wO.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},wO.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)){if(this.options.ecmaVersion>=16){var i=this.regexp_eatModifiers(t),s=t.eat(45);if(i||s){for(var n=0;n<i.length;n++){var a=i.charAt(n);i.indexOf(a,n+1)>-1&&t.raise("Duplicate regular expression modifiers")}if(s){var o=this.regexp_eatModifiers(t);i||o||58!==t.current()||t.raise("Invalid regular expression modifiers");for(var r=0;r<o.length;r++){var c=o.charAt(r);(o.indexOf(c,r+1)>-1||i.indexOf(c)>-1)&&t.raise("Duplicate regular expression modifiers")}}}}if(t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}}t.pos=e}return!1},wO.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},wO.regexp_eatModifiers=function(t){for(var e="",i=0;-1!==(i=t.current())&&SO(i);)e+=wV(i),t.advance();return e},wO.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},wO.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},wO.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!CO(e)&&(t.lastIntValue=e,t.advance(),!0)},wO.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;-1!==(i=t.current())&&!CO(i);)t.advance();return t.pos!==e},wO.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e)&&(t.advance(),!0)},wO.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var s=0,n=i;s<n.length;s+=1){n[s].separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}},wO.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},wO.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=wV(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=wV(t.lastIntValue);return!0}return!1},wO.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),92===s&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),function(t){return ZB(t,!0)||36===t||95===t}(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)},wO.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),92===s&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),function(t){return tV(t,!0)||36===t||95===t||8204===t||8205===t}(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)},wO.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},wO.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1},wO.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},wO.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},wO.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},wO.regexp_eatZero=function(t){return 48===t.current()&&!PO(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},wO.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},wO.regexp_eatControlLetter=function(t){var e=t.current();return!!TO(e)&&(t.lastIntValue=e%32,t.advance(),!0)},wO.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){void 0===e&&(e=!1);var i=t.pos,s=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(s&&n>=55296&&n<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(o>=56320&&o<=57343)return t.lastIntValue=1024*(n-55296)+(o-56320)+65536,!0}t.pos=a,t.lastIntValue=n}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&function(t){return t>=0&&t<=1114111}(t.lastIntValue))return!0;s&&t.raise("Invalid unicode escape"),t.pos=i}return!1},wO.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e)&&(t.lastIntValue=e,t.advance(),!0)},wO.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1};function IO(t){return TO(t)||95===t}function EO(t){return IO(t)||PO(t)}function PO(t){return t>=48&&t<=57}function RO(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function AO(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function MO(t){return t>=48&&t<=55}wO.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(function(t){return 100===t||68===t||115===t||83===t||119===t||87===t}(e))return t.lastIntValue=-1,t.advance(),1;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=80===e)||112===e)){var s;if(t.lastIntValue=-1,t.advance(),t.eat(123)&&(s=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&2===s&&t.raise("Invalid property name"),s;t.raise("Invalid property name")}return 0},wO.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,s),1}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n)}return 0},wO.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){yV(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")},wO.regexp_validateUnicodePropertyNameOrValue=function(t,e){return t.unicodeProperties.binary.test(e)?1:t.switchV&&t.unicodeProperties.binaryOfStrings.test(e)?2:void t.raise("Invalid property name")},wO.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";IO(e=t.current());)t.lastStringValue+=wV(e),t.advance();return""!==t.lastStringValue},wO.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";EO(e=t.current());)t.lastStringValue+=wV(e),t.advance();return""!==t.lastStringValue},wO.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},wO.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&2===i&&t.raise("Negated character class may contain strings"),!0}return!1},wO.regexp_classContents=function(t){return 93===t.current()?1:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),1)},wO.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;!t.switchU||-1!==e&&-1!==i||t.raise("Invalid character class"),-1!==e&&-1!==i&&e>i&&t.raise("Range out of order in character class")}}},wO.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(99===i||MO(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var s=t.current();return 93!==s&&(t.lastIntValue=s,t.advance(),!0)},wO.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},wO.regexp_classSetExpression=function(t){var e,i=1;if(this.regexp_eatClassSetRange(t));else if(e=this.regexp_eatClassSetOperand(t)){2===e&&(i=2);for(var s=t.pos;t.eatChars([38,38]);)38!==t.current()&&(e=this.regexp_eatClassSetOperand(t))?2!==e&&(i=1):t.raise("Invalid character in character class");if(s!==t.pos)return i;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(s!==t.pos)return i}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(!(e=this.regexp_eatClassSetOperand(t)))return i;2===e&&(i=2)}},wO.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var s=t.lastIntValue;return-1!==i&&-1!==s&&i>s&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1},wO.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?1:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)},wO.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),s=this.regexp_classContents(t);if(t.eat(93))return i&&2===s&&t.raise("Negated character class may contain strings"),s;t.pos=e}if(t.eat(92)){var n=this.regexp_eatCharacterClassEscape(t);if(n)return n;t.pos=e}return null},wO.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null},wO.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)2===this.regexp_classString(t)&&(e=2);return e},wO.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return 1===e?1:2},wO.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return!(!this.regexp_eatCharacterEscape(t)&&!this.regexp_eatClassSetReservedPunctuator(t))||(t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1));var i=t.current();return!(i<0||i===t.lookahead()&&function(t){return 33===t||t>=35&&t<=38||t>=42&&t<=44||46===t||t>=58&&t<=64||94===t||96===t||126===t}(i))&&(!function(t){return 40===t||41===t||45===t||47===t||t>=91&&t<=93||t>=123&&t<=125}(i)&&(t.advance(),t.lastIntValue=i,!0))},wO.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return!!function(t){return 33===t||35===t||37===t||38===t||44===t||45===t||t>=58&&t<=62||64===t||96===t||126===t}(e)&&(t.lastIntValue=e,t.advance(),!0)},wO.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!PO(e)&&95!==e)&&(t.lastIntValue=e%32,t.advance(),!0)},wO.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},wO.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;PO(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e},wO.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;RO(i=t.current());)t.lastIntValue=16*t.lastIntValue+AO(i),t.advance();return t.pos!==e},wO.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*i+t.lastIntValue:t.lastIntValue=8*e+i}else t.lastIntValue=e;return!0}return!1},wO.regexp_eatOctalDigit=function(t){var e=t.current();return MO(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},wO.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var s=0;s<e;++s){var n=t.current();if(!RO(n))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+AO(n),t.advance()}return!0};var LO=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new SV(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},DO=MV.prototype;function NO(t){return"function"!=typeof BigInt?null:BigInt(t.replace(/_/g,""))}DO.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new LO(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},DO.getToken=function(){return this.next(),new LO(this)},"undefined"!=typeof Symbol&&(DO[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===rV.eof,value:e}}}}),DO.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(rV.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},DO.readToken=function(t){return ZB(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},DO.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888},DO.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var s=void 0,n=e;(s=dV(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=s;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())},DO.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),s=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!hV(s);)s=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())},DO.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&uV.test(String.fromCharCode(t))))break t;++this.pos}}},DO.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},DO.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(rV.ellipsis)):(++this.pos,this.finishToken(rV.dot))},DO.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(rV.assign,2):this.finishOp(rV.slash,1)},DO.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,s=42===t?rV.star:rV.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++i,s=rV.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(rV.assign,i+1):this.finishOp(s,i)},DO.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(rV.assign,3);return this.finishOp(124===t?rV.logicalOR:rV.logicalAND,2)}return 61===e?this.finishOp(rV.assign,2):this.finishOp(124===t?rV.bitwiseOR:rV.bitwiseAND,1)},DO.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(rV.assign,2):this.finishOp(rV.bitwiseXOR,1)},DO.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!cV.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(rV.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(rV.assign,2):this.finishOp(rV.plusMin,1)},DO.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(rV.assign,i+1):this.finishOp(rV.bitShift,i)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(i=2),this.finishOp(rV.relational,i)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},DO.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(rV.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(rV.arrow)):this.finishOp(61===t?rV.eq:rV.prefix,1)},DO.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(46===e){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(rV.questionDot,2)}if(63===e){if(t>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(rV.assign,3);return this.finishOp(rV.coalesce,2)}}return this.finishOp(rV.question,1)},DO.readToken_numberSign=function(){var t=35;if(this.options.ecmaVersion>=13&&(++this.pos,ZB(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(rV.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+wV(t)+"'")},DO.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(rV.parenL);case 41:return++this.pos,this.finishToken(rV.parenR);case 59:return++this.pos,this.finishToken(rV.semi);case 44:return++this.pos,this.finishToken(rV.comma);case 91:return++this.pos,this.finishToken(rV.bracketL);case 93:return++this.pos,this.finishToken(rV.bracketR);case 123:return++this.pos,this.finishToken(rV.braceL);case 125:return++this.pos,this.finishToken(rV.braceR);case 58:return++this.pos,this.finishToken(rV.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(rV.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(rV.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+wV(t)+"'")},DO.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)},DO.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var s=this.input.charAt(this.pos);if(cV.test(s)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===s)e=!0;else if("]"===s&&e)e=!1;else if("/"===s&&!e)break;t="\\"===s}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(a);var r=this.regexpState||(this.regexpState=new kO(this));r.reset(i,n,o),this.validateRegExpFlags(r),this.validateRegExpPattern(r);var c=null;try{c=new RegExp(n,o)}catch(t){}return this.finishToken(rV.regexp,{pattern:n,flags:o,value:c})},DO.readInt=function(t,e,i){for(var s=this.options.ecmaVersion>=12&&void 0===e,n=i&&48===this.input.charCodeAt(this.pos),a=this.pos,o=0,r=0,c=0,l=null==e?1/0:e;c<l;++c,++this.pos){var h=this.input.charCodeAt(this.pos),d=void 0;if(s&&95===h)n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===r&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===c&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),r=h;else{if((d=h>=97?h-97+10:h>=65?h-65+10:h>=48&&h<=57?h-48:1/0)>=t)break;r=h,o=o*t+d}}return s&&95===r&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||null!=e&&this.pos-a!==e?null:o},DO.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return null==i&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(i=NO(this.input.slice(e,this.pos)),++this.pos):ZB(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(rV.num,i)},DO.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10,void 0,!0)||this.raise(e,"Invalid number");var i=this.pos-e>=2&&48===this.input.charCodeAt(e);i&&this.strict&&this.raise(e,"Invalid number");var s=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&110===s){var n=NO(this.input.slice(e,this.pos));return++this.pos,ZB(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(rV.num,n)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),46!==s||i||(++this.pos,this.readInt(10),s=this.input.charCodeAt(this.pos)),69!==s&&101!==s||i||(43!==(s=this.input.charCodeAt(++this.pos))&&45!==s||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),ZB(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a,o=(a=this.input.slice(e,this.pos),i?parseInt(a,8):parseFloat(a.replace(/_/g,"")));return this.finishToken(rV.num,o)},DO.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},DO.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var s=this.input.charCodeAt(this.pos);if(s===t)break;92===s?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):8232===s||8233===s?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(hV(s)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(rV.string,e)};var BO={};DO.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==BO)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},DO.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw BO;this.raise(t,e)},DO.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==rV.template&&this.type!==rV.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(rV.template,t)):36===i?(this.pos+=2,this.finishToken(rV.dollarBraceL)):(++this.pos,this.finishToken(rV.backQuote));if(92===i)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(hV(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},DO.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(rV.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":"\n"===this.input[this.pos+1]&&++this.pos;case"\n":case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1}this.raise(this.start,"Unterminated template")},DO.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return wV(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(s,8);return n>255&&(s=s.slice(0,-1),n=parseInt(s,8)),this.pos+=s.length-1,e=this.input.charCodeAt(this.pos),"0"===s&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-s.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return hV(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}},DO.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return null===i&&this.invalidStringToken(e,"Bad character escape sequence"),i},DO.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(tV(n,s))this.pos+=n<=65535?1:2;else{if(92!==n)break;this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(e?ZB:tV)(o,s)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=wV(o),i=this.pos}e=!1}return t+this.input.slice(i,this.pos)},DO.readWord=function(){var t=this.readWord1(),e=rV.name;return this.keywords.test(t)&&(e=aV[t]),this.finishToken(e,t)};MV.acorn={Parser:MV,version:"8.15.0",defaultOptions:TV,Position:kV,SourceLocation:SV,getLineInfo:CV,Node:iO,TokenType:eV,tokTypes:rV,keywordTypes:aV,TokContext:qV,tokContexts:KV,isIdentifierChar:tV,isIdentifierStart:ZB,Token:LO,isNewLine:hV,lineBreak:cV,lineBreakG:lV,nonASCIIwhitespace:uV};const VO=1,OO=2,UO=3,FO=4,HO={[VO]:(...t)=>console.error(...t),[OO]:(...t)=>console.warn(...t),[UO]:(...t)=>console.info(...t),[FO]:(...t)=>console.debug(...t)};let WO=[OO];function jO(t,e,i){if(!HO[t]||!WO.includes(t))return;const s=["[YOUTUBEJS]"];e&&s.push(`[${e}]`),HO[t](`${s.join("")}:`,...i||[])}const GO=(t,...e)=>jO(OO,t,e),$O=(t,...e)=>jO(FO,t,e),qO=Symbol("ObservedArray.isObserved");class KO{static type="YTNode";type;constructor(){this.type=this.constructor.type}is(...t){return t.some(t=>this.type===t.type)}as(...t){if(!this.is(...t))throw new QG(`Cannot cast ${this.type} to one of ${t.map(t=>t.type).join(", ")}`);return this}hasKey(t){return Reflect.has(this,t)}key(t){if(!this.hasKey(t))throw new QG(`Missing key ${t}`);return new YO(this[t])}}class YO{#t;constructor(t){this.#t=t}#e(t){return typeof this.#t===t}#i(t){if(!this.#e(t))throw new TypeError(`Expected ${t}, got ${this.typeof}`);return this.#t}get typeof(){return typeof this.#t}string(){return this.#i("string")}isString(){return this.#e("string")}number(){return this.#i("number")}isNumber(){return this.#e("number")}bigint(){return this.#i("bigint")}isBigint(){return this.#e("bigint")}boolean(){return this.#i("boolean")}isBoolean(){return this.#e("boolean")}symbol(){return this.#i("symbol")}isSymbol(){return this.#e("symbol")}undefined(){return this.#i("undefined")}isUndefined(){return this.#e("undefined")}null(){if(null!==this.#t)throw new TypeError("Expected null, got "+typeof this.#t);return this.#t}isNull(){return null===this.#t}object(){return this.#i("object")}isObject(){return this.#e("object")}function(){return this.#i("function")}isFunction(){return this.#e("function")}array(){if(!Array.isArray(this.#t))throw new TypeError("Expected array, got "+typeof this.#t);return this.#t}arrayOfMaybe(){const t=[];return new Proxy(this.array(),{get:(e,i)=>Reflect.has(t,i)?Reflect.get(e,i):new YO(Reflect.get(e,i))})}isArray(){return Array.isArray(this.#t)}node(){if(!(this.#t instanceof KO))throw new TypeError(`Expected YTNode, got ${this.#t.constructor.name}`);return this.#t}isNode(){return this.#t instanceof KO}nodeOfType(...t){return this.node().as(...t)}isNodeOfType(...t){return this.isNode()&&this.node().is(...t)}observed(){if(!this.isObserved())throw new TypeError("Expected ObservedArray, got "+typeof this.#t);return this.#t}isObserved(){return this.#t?.[qO]}parsed(){if(!(this.#t instanceof zO))throw new TypeError("Expected SuperParsedResult, got "+typeof this.#t);return this.#t}isParsed(){return this.#t instanceof zO}any(){return GO("Maybe","This call is not meant to be used outside of debugging. Please use the specific type getter instead."),this.#t}instanceof(t){if(!this.isInstanceof(t))throw new TypeError(`Expected instance of ${t.name}, got ${this.#t.constructor.name}`);return this.#t}isInstanceof(t){return this.#t instanceof t}}class zO{#s;constructor(t){this.#s=t}get is_null(){return null===this.#s}get is_array(){return!this.is_null&&Array.isArray(this.#s)}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return this.#s}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return this.#s}}function QO(t){return new Proxy(t,{get:(t,e)=>"get"==e?(e,i)=>t.find((s,n)=>{const a=XG(e,s);return a&&i&&t.splice(n,1),a}):e==qO||("getAll"==e?(e,i)=>t.filter((s,n)=>{const a=XG(e,s);return a&&i&&t.splice(n,1),a}):"matchCondition"==e?e=>t.find(t=>e(t)):"filterType"==e?(...e)=>QO(t.filter(t=>!!t.is(...e))):"firstOfType"==e?(...e)=>t.find(t=>!!t.is(...e)):"first"==e?()=>t[0]:"as"==e?(...e)=>QO(t.map(t=>{if(t.is(...e))return t;throw new QG(`Expected node of any type ${e.map(t=>t.type).join(", ")}, got ${t.type}`)})):"remove"==e?e=>t.splice(e,1):Reflect.get(t,e))})}class XO{label;constructor(t){this.label=t.label}}class JO{accessibility_identifier;identifier;label;constructor(t){"accessibilityIdentifier"in t&&(this.accessibility_identifier=t.accessibilityIdentifier),"identifier"in t&&(this.identifier={accessibility_id_type:t.identifier.accessibilityIdType}),"label"in t&&(this.label=t.label)}}const ZO="https://www.youtube.com";var tU={version:"15.1.2",bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme"};function eU(){let t=0,e=0;for(let i=0;i<28;i+=7){let s=this.buf[this.pos++];if(t|=(127&s)<<i,!(128&s))return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(15&i)<<28,e=(112&i)>>4,!(128&i))return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let s=this.buf[this.pos++];if(e|=(127&s)<<i,!(128&s))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function iU(t,e,i){for(let s=0;s<28;s+=7){const n=t>>>s,a=!(n>>>7==0&&0==e),o=255&(a?128|n:n);if(i.push(o),!a)return}const s=t>>>28&15|(7&e)<<4,n=!!(e>>3);if(i.push(255&(n?128|s:s)),n){for(let t=3;t<31;t+=7){const s=e>>>t,n=!(s>>>7==0),a=255&(n?128|s:s);if(i.push(a),!n)return}i.push(e>>>31&1)}}const sU=4294967296;function nU(t){const e="-"===t[0];e&&(t=t.slice(1));const i=1e6;let s=0,n=0;function a(e,a){const o=Number(t.slice(e,a));n*=i,s=s*i+o,s>=sU&&(n+=s/sU|0,s%=sU)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),e?rU(s,n):oU(s,n)}function aU(t,e){if(({lo:t,hi:e}=function(t,e){return{lo:t>>>0,hi:e>>>0}}(t,e)),e<=2097151)return String(sU*e+t);const i=16777215&(t>>>24|e<<8),s=e>>16&65535;let n=(16777215&t)+6777216*i+6710656*s,a=i+8147497*s,o=2*s;const r=1e7;return n>=r&&(a+=Math.floor(n/r),n%=r),a>=r&&(o+=Math.floor(a/r),a%=r),o.toString()+cU(a)+cU(n)}function oU(t,e){return{lo:0|t,hi:0|e}}function rU(t,e){return e=~e,t?t=1+~t:e+=1,oU(t,e)}const cU=t=>{const e=String(t);return"0000000".slice(e.length)+e};function lU(t,e){if(t>=0){for(;t>127;)e.push(127&t|128),t>>>=7;e.push(t)}else{for(let i=0;i<9;i++)e.push(127&t|128),t>>=7;e.push(1)}}function hU(){let t=this.buf[this.pos++],e=127&t;if(!(128&t))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(127&t)<<7,!(128&t))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(127&t)<<14,!(128&t))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(127&t)<<21,!(128&t))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(15&t)<<28;for(let e=5;128&t&&e<10;e++)t=this.buf[this.pos++];if(128&t)throw new Error("invalid varint");return this.assertBounds(),e>>>0}const dU=uU();function uU(){const t=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof t.getBigInt64&&"function"==typeof t.getBigUint64&&"function"==typeof t.setBigInt64&&"function"==typeof t.setBigUint64&&(!!globalThis.Deno||"object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const e=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),s=BigInt("0"),n=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(t){const s="bigint"==typeof t?t:BigInt(t);if(s>i||s<e)throw new Error(`invalid int64: ${t}`);return s},uParse(t){const e="bigint"==typeof t?t:BigInt(t);if(e>n||e<s)throw new Error(`invalid uint64: ${t}`);return e},enc(e){return t.setBigInt64(0,this.parse(e),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(e){return t.setBigInt64(0,this.uParse(e),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec:(e,i)=>(t.setInt32(0,e,!0),t.setInt32(4,i,!0),t.getBigInt64(0,!0)),uDec:(e,i)=>(t.setInt32(0,e,!0),t.setInt32(4,i,!0),t.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:t=>("string"!=typeof t&&(t=t.toString()),pU(t),t),uParse:t=>("string"!=typeof t&&(t=t.toString()),mU(t),t),enc:t=>("string"!=typeof t&&(t=t.toString()),pU(t),nU(t)),uEnc:t=>("string"!=typeof t&&(t=t.toString()),mU(t),nU(t)),dec:(t,e)=>function(t,e){let i=oU(t,e);const s=2147483648&i.hi;s&&(i=rU(i.lo,i.hi));const n=aU(i.lo,i.hi);return s?"-"+n:n}(t,e),uDec:(t,e)=>aU(t,e)}}function pU(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function mU(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}const _U=Symbol.for("@bufbuild/protobuf/text-encoding");function fU(){if(null==globalThis[_U]){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[_U]={encodeUtf8:e=>t.encode(e),decodeUtf8:t=>e.decode(t),checkUtf8(t){try{return encodeURIComponent(t),!0}catch(t){return!1}}}}return globalThis[_U]}var yU;!function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"}(yU||(yU={}));const bU=34028234663852886e22,gU=-34028234663852886e22;class vU{constructor(t=fU().encodeUtf8){this.encodeUtf8=t,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let t=0;for(let e=0;e<this.chunks.length;e++)t+=this.chunks[e].length;let e=new Uint8Array(t),i=0;for(let t=0;t<this.chunks.length;t++)e.set(this.chunks[t],i),i+=this.chunks[t].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,e){return this.uint32((t<<3|e)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(kU(t);t>127;)this.buf.push(127&t|128),t>>>=7;return this.buf.push(t),this}int32(t){return xU(t),lU(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let e=this.encodeUtf8(t);return this.uint32(e.byteLength),this.raw(e)}float(t){!function(t){if("string"==typeof t){const e=t;if(t=Number(t),Number.isNaN(t)&&"NaN"!==e)throw new Error("invalid float32: "+e)}else if("number"!=typeof t)throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>bU||t<gU))throw new Error("invalid float32: "+t)}(t);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,t,!0),this.raw(e)}double(t){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,t,!0),this.raw(e)}fixed32(t){kU(t);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t,!0),this.raw(e)}sfixed32(t){xU(t);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,t,!0),this.raw(e)}sint32(t){return xU(t),lU(t=(t<<1^t>>31)>>>0,this.buf),this}sfixed64(t){let e=new Uint8Array(8),i=new DataView(e.buffer),s=dU.enc(t);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(e)}fixed64(t){let e=new Uint8Array(8),i=new DataView(e.buffer),s=dU.uEnc(t);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(e)}int64(t){let e=dU.enc(t);return iU(e.lo,e.hi,this.buf),this}sint64(t){const e=dU.enc(t),i=e.hi>>31;return iU(e.lo<<1^i,(e.hi<<1|e.lo>>>31)^i,this.buf),this}uint64(t){const e=dU.uEnc(t);return iU(e.lo,e.hi,this.buf),this}}class wU{constructor(t,e=fU().decodeUtf8){this.decodeUtf8=e,this.varint64=eU,this.uint32=hU,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength)}tag(){let t=this.uint32(),e=t>>>3,i=7&t;if(e<=0||i<0||i>5)throw new Error("illegal tag: field no "+e+" wire type "+i);return[e,i]}skip(t,e){let i=this.pos;switch(t){case yU.Varint:for(;128&this.buf[this.pos++];);break;case yU.Bit64:this.pos+=4;case yU.Bit32:this.pos+=4;break;case yU.LengthDelimited:let i=this.uint32();this.pos+=i;break;case yU.StartGroup:for(;;){const[t,i]=this.tag();if(i===yU.EndGroup){if(void 0!==e&&t!==e)throw new Error("invalid end group tag");break}this.skip(i,t)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let t=this.uint32();return t>>>1^-(1&t)}int64(){return dU.dec(...this.varint64())}uint64(){return dU.uDec(...this.varint64())}sint64(){let[t,e]=this.varint64(),i=-(1&t);return t=(t>>>1|(1&e)<<31)^i,e=e>>>1^i,dU.dec(t,e)}bool(){let[t,e]=this.varint64();return 0!==t||0!==e}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return dU.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return dU.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),e=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(e,e+t)}string(){return this.decodeUtf8(this.bytes())}}function xU(t){if("string"==typeof t)t=Number(t);else if("number"!=typeof t)throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>2147483647||t<-2147483648)throw new Error("invalid int32: "+t)}function kU(t){if("string"==typeof t)t=Number(t);else if("number"!=typeof t)throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>4294967295||t<0)throw new Error("invalid uint32: "+t)}const SU={encode:(t,e=new vU)=>(0!==t.type&&e.uint32(8).int32(t.type),""!==t.commentId&&e.uint32(26).string(t.commentId),""!==t.videoId&&e.uint32(42).string(t.videoId),void 0!==t.unkNum&&e.uint32(16).int32(t.unkNum),void 0!==t.channelId&&e.uint32(186).string(t.channelId),void 0!==t.translateCommentParams&&CU.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e),decode(t,e){const i=t instanceof wU?t:new wU(t);let s=void 0===e?i.len:i.pos+e;const n={type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0};for(;i.pos<s;){const t=i.uint32();switch(t>>>3){case 1:if(8!==t)break;n.type=i.int32();continue;case 3:if(26!==t)break;n.commentId=i.string();continue;case 5:if(42!==t)break;n.videoId=i.string();continue;case 2:if(16!==t)break;n.unkNum=i.int32();continue;case 23:if(186!==t)break;n.channelId=i.string();continue;case 31:if(250!==t)break;n.translateCommentParams=CU.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};const CU={encode:(t,e=new vU)=>(void 0!==t.params&&TU.encode(t.params,e.uint32(26).fork()).join(),""!==t.commentId&&e.uint32(18).string(t.commentId),""!==t.targetLanguage&&e.uint32(34).string(t.targetLanguage),e),decode(t,e){const i=t instanceof wU?t:new wU(t);let s=void 0===e?i.len:i.pos+e;const n={params:void 0,commentId:"",targetLanguage:""};for(;i.pos<s;){const t=i.uint32();switch(t>>>3){case 3:if(26!==t)break;n.params=TU.decode(i,i.uint32());continue;case 2:if(18!==t)break;n.commentId=i.string();continue;case 4:if(34!==t)break;n.targetLanguage=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};const TU={encode:(t,e=new vU)=>(void 0!==t.comment&&IU.encode(t.comment,e.uint32(10).fork()).join(),e),decode(t,e){const i=t instanceof wU?t:new wU(t);let s=void 0===e?i.len:i.pos+e;const n={comment:void 0};for(;i.pos<s;){const t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.comment=IU.decode(i,i.uint32());continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};const IU={encode:(t,e=new vU)=>(""!==t.text&&e.uint32(10).string(t.text),e),decode(t,e){const i=t instanceof wU?t:new wU(t);let s=void 0===e?i.len:i.pos+e;const n={text:""};for(;i.pos<s;){const t=i.uint32();switch(t>>>3){case 1:if(10!==t)break;n.text=i.string();continue}if(4==(7&t)||0===t)break;i.skip(7&t)}return n}};function EU(t,e={}){const i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if("string"!=typeof e.target_language)throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}const s=SU.encode(i);return encodeURIComponent((n=s.finish(),btoa(String.fromCharCode.apply(null,Array.from(n)))));var n}class PU extends KO{static type="OpenPopupAction";popup;popup_type;constructor(t){super(),this.popup=HG(t.popup),this.popup_type=t.popupType}}class RU extends KO{static type="Button";text;label;tooltip;style;size;icon_type;is_disabled;target_id;endpoint;accessibility;constructor(t){super(),Reflect.has(t,"text")&&(this.text=new HU(t.text).toString()),Reflect.has(t,"accessibility")&&Reflect.has(t.accessibility,"label")&&(this.label=t.accessibility.label),"accessibilityData"in t&&"accessibilityData"in t.accessibilityData&&(this.accessibility={accessibility_data:new JO(t.accessibilityData.accessibilityData)}),Reflect.has(t,"tooltip")&&(this.tooltip=t.tooltip),Reflect.has(t,"style")&&(this.style=t.style),Reflect.has(t,"size")&&(this.size=t.size),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"isDisabled")&&(this.is_disabled=t.isDisabled),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),this.endpoint=new NU(t.navigationEndpoint||t.serviceEndpoint||t.command)}}class AU extends KO{static type="DropdownItem";label;selected;value;icon_type;description;endpoint;constructor(t){super(),this.label=new HU(t.label).toString(),this.selected=!!t.isSelected,Reflect.has(t,"int32Value")?this.value=t.int32Value:t.stringValue&&(this.value=t.stringValue),Reflect.has(t,"onSelectCommand")&&(this.endpoint=new NU(t.onSelectCommand)),Reflect.has(t,"icon")&&(this.icon_type=t.icon?.iconType),Reflect.has(t,"descriptionText")&&(this.description=new HU(t.descriptionText))}}class MU extends KO{static type="Dropdown";label;entries;constructor(t){super(),this.label=t.label||"",this.entries=WG(t.entries,AU)}}class LU extends KO{static type="CreatePlaylistDialog";title;title_placeholder;privacy_option;cancel_button;create_button;constructor(t){super(),this.title=new HU(t.dialogTitle).toString(),this.title_placeholder=t.titlePlaceholder||"",this.privacy_option=HG(t.privacyOption,MU),this.create_button=HG(t.cancelButton,RU),this.cancel_button=HG(t.cancelButton,RU)}}class DU extends KO{static type="CommandExecutorCommand";commands;constructor(t){super(),this.commands=function(t){if(Array.isArray(t)){const e=[];for(const i of t){const t=KG(i);t&&e.push(t)}return QO(e)}if(!t)return QO([]);throw new QG("Expected array but got a single item")}(t.commands)}}class NU extends KO{static type="NavigationEndpoint";name;payload;dialog;modal;open_popup;next_endpoint;metadata;command;commands;constructor(t){if(super(),t){if(t.serialCommand||t.parallelCommand){const e=t.serialCommand||t.parallelCommand;this.commands=e.commands.map(t=>new NU(t))}(t.innertubeCommand||t.command||t.performOnceCommand)&&(t=t.innertubeCommand||t.command||t.performOnceCommand)}this.command=KG(t),Reflect.has(t||{},"openPopupAction")&&(this.open_popup=new PU(t.openPopupAction)),this.name=Object.keys(t||{}).find(t=>t.endsWith("Endpoint")||t.endsWith("Command")),this.payload=this.name?Reflect.get(t,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=HG(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=HG(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new NU(this.payload.nextEndpoint)),t?.serviceEndpoint&&(t=t.serviceEndpoint),this.metadata={},t?.commandMetadata?.webCommandMetadata?.url&&(this.metadata.url=t.commandMetadata.webCommandMetadata.url),t?.commandMetadata?.webCommandMetadata?.webPageType&&(this.metadata.page_type=t.commandMetadata.webCommandMetadata.webPageType),t?.commandMetadata?.webCommandMetadata?.apiUrl?this.metadata.api_url=t.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),t?.commandMetadata?.webCommandMetadata?.sendPost&&(this.metadata.send_post=t.commandMetadata.webCommandMetadata.sendPost),t?.createPlaylistEndpoint&&t?.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=HG(t?.createPlaylistEndpoint.createPlaylistDialog,LU))}getPath(t){switch(t){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(t,e){if(!t)throw new Error("An API caller must be provided");if(this.command){let i=this.command;return i.is(DU)&&(i=i.commands.at(-1)),t.execute(i.getApiPath(),{...i.buildRequest(),...e})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return t.execute(this.metadata.api_url,{...this.payload,...e})}toURL(){if(this.metadata.url&&this.metadata.page_type)return"WEB_PAGE_TYPE_UNKNOWN"===this.metadata.page_type?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}}class BU{url;width;height;constructor(t){this.url=t.url,this.width=t.width,this.height=t.height}static fromResponse(t){if(!t)return[];let e;return t.thumbnails?e=t.thumbnails:t.sources&&(e=t.sources),e?e.map(t=>new BU(t)).sort((t,e)=>e.width-t.width):[]}}class VU{text;emoji;constructor(t){this.text=t.emoji?.emojiId||t.emoji?.shortcuts?.[0]||t.text||"",this.emoji={emoji_id:t.emoji.emojiId,shortcuts:t.emoji?.shortcuts||[],search_terms:t.emoji?.searchTerms||[],image:BU.fromResponse(t.emoji.image),is_custom:!!t.emoji?.isCustomEmoji}}toString(){return this.text}toHTML(){const t=UU(this.text);return`<img src="${this.emoji.image[0].url}" alt="${t}" title="${t}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}}class OU{text;text_color;endpoint;bold;bracket;dark_mode_text_color;deemphasize;italics;strikethrough;error_underline;underline;font_face;attachment;constructor(t){this.text=t.text,this.bold=Boolean(t.bold),this.bracket=Boolean(t.bracket),this.italics=Boolean(t.italics),this.strikethrough=Boolean(t.strikethrough),this.error_underline=Boolean(t.error_underline),this.underline=Boolean(t.underline),this.deemphasize=Boolean(t.deemphasize),"textColor"in t&&(this.text_color=t.textColor),"navigationEndpoint"in t&&(this.endpoint=new NU(t.navigationEndpoint)),"darkModeTextColor"in t&&(this.dark_mode_text_color=t.darkModeTextColor),"fontFace"in t&&(this.font_face=t.fontFace),this.attachment=t.attachment}toString(){return this.text}toHTML(){const t=[];if(this.bold&&t.push("b"),this.italics&&t.push("i"),this.strikethrough&&t.push("s"),this.deemphasize&&t.push("small"),this.underline&&t.push("u"),this.error_underline&&t.push("u"),!this.text?.length)return"";const e=UU(this.text),i=`<span style="white-space: pre-wrap;">${t.map(t=>`<${t}>`).join("")+e+t.map(t=>`</${t}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length&&this.endpoint){const{url:t}=this.attachment.element.type.imageType.image.sources[0];let e="";t&&(e=`<img src="${t}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;" alt="">`);const s=this.endpoint.toURL();if(s)return`<a href="${s}" class="yt-ch-link">${e}${i}</a>`}if(this.endpoint){const t=this.endpoint.toURL();if(t)return`<a href="${t}">${i}</a>`}return i}}function UU(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}const FU="Text";let HU=class t{text;runs;endpoint;accessibility;rtl;constructor(t){this.isRunsData(t)?(this.runs=t.runs.map(t=>t.emoji?new VU(t):new OU(t)),this.text=this.runs.map(t=>t.text).join("")):this.text=t?.simpleText,this.isObject(t)&&"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new JO(t.accessibility.accessibilityData)}),this.rtl=!!t?.rtl,this.parseEndpoint(t)}isRunsData(t){return this.isObject(t)&&Reflect.has(t,"runs")&&Array.isArray(t.runs)}parseEndpoint(t){this.isObject(t)&&("navigationEndpoint"in t?this.endpoint=new NU(t.navigationEndpoint):"titleNavigationEndpoint"in t?this.endpoint=new NU(t.titleNavigationEndpoint):this.runs?.[0]?.endpoint&&(this.endpoint=(this.runs?.[0]).endpoint))}isObject(t){return"object"==typeof t&&null!==t}static fromAttributed(e){const{content:i,commandRuns:s,attachmentRuns:n}=e,a=[{text:i,startIndex:0}],o=e.styleRuns?.map(t=>({...t,startIndex:t.startIndex??0,length:t.length??i.length}));return o?.length&&this.processStyleRuns(a,o,e),s?.length&&this.processCommandRuns(a,s,e),n?.length&&this.processAttachmentRuns(a,n,e),new t({runs:a})}static processStyleRuns(t,e,i){for(const s of e)if(s.italic||"LINE_STYLE_SINGLE"===s.strikethrough||"FONT_WEIGHT_MEDIUM"===s.weightLabel||"FONT_WEIGHT_BOLD"===s.weightLabel){const e=WU(t,s);if(!e){GO(FU,"Unable to find matching run for style run. Skipping...",{style_run:s,input_data:i,parsed_runs:JSON.parse(JSON.stringify(t))});continue}jU(t,e,s,{bold:"FONT_WEIGHT_MEDIUM"===s.weightLabel||"FONT_WEIGHT_BOLD"===s.weightLabel,italics:s.italic,strikethrough:"LINE_STYLE_SINGLE"===s.strikethrough})}else $O(FU,"Skipping style run as it is doesn't have any information that we parse.",{style_run:s,input_data:i})}static processCommandRuns(t,e,i){for(const s of e)if(s.onTap){const e=WU(t,s);if(!e){GO(FU,"Unable to find matching run for command run. Skipping...",{command_run:s,input_data:i,parsed_runs:JSON.parse(JSON.stringify(t))});continue}jU(t,e,s,{navigationEndpoint:s.onTap})}else $O(FU,'Skipping command run as it is missing the "doTap" property.',{command_run:s,input_data:i})}static processAttachmentRuns(t,e,i){for(const s of e){const e=WU(t,s);if(e)if(0===s.length)e.attachment=s;else{const i=s.startIndex-e.startIndex,n=e.text.substring(i,i+s.length),a=/^:[^:]+:$/.test(n);if(s.element?.type?.imageType?.image&&(a||/^(?:\p{Emoji}|\u200d)+$/u.test(n))){jU(t,e,s,{emoji:{image:s.element.type.imageType.image,isCustomEmoji:a,shortcuts:a?[n]:void 0}})}else jU(t,e,s,{attachment:s})}else GO(FU,"Unable to find matching run for attachment run. Skipping...",{attachment_run:s,input_data:i,parsed_runs:JSON.parse(JSON.stringify(t))})}}toHTML(){return this.runs?this.runs.map(t=>t.toHTML()).join(""):this.text}isEmpty(){return void 0===this.text}toString(){return this.text||"N/A"}};function WU(t,e){return t.find(t=>t.startIndex<=e.startIndex&&e.startIndex+e.length<=t.startIndex+t.text.length)}function jU(t,e,i,s){const n=t.indexOf(e),a=[],o=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push({...e,text:e.text.substring(0,o)}),a.push({...e,text:e.text.substring(o,o+i.length),startIndex:i.startIndex,...s}),i.startIndex+i.length<e.startIndex+e.text.length&&a.push({...e,text:e.text.substring(o+i.length),startIndex:i.startIndex+i.length}),t.splice(n,1,...a)}class GU extends KO{static type="ChannelExternalLinkView";title;link;favicon;constructor(t){super(),this.title=HU.fromAttributed(t.title),this.link=HU.fromAttributed(t.link),this.favicon=BU.fromResponse(t.favicon)}}class $U extends KO{static type="AboutChannelView";description;description_label;country;custom_links_label;subscriber_count;view_count;joined_date;canonical_channel_url;channel_id;additional_info_label;custom_url_on_tap;video_count;sign_in_for_business_email;links;constructor(t){super(),Reflect.has(t,"description")&&(this.description=t.description),Reflect.has(t,"descriptionLabel")&&(this.description_label=HU.fromAttributed(t.descriptionLabel)),Reflect.has(t,"country")&&(this.country=t.country),Reflect.has(t,"customLinksLabel")&&(this.custom_links_label=HU.fromAttributed(t.customLinksLabel)),Reflect.has(t,"subscriberCountText")&&(this.subscriber_count=t.subscriberCountText),Reflect.has(t,"viewCountText")&&(this.view_count=t.viewCountText),Reflect.has(t,"joinedDateText")&&(this.joined_date=HU.fromAttributed(t.joinedDateText)),Reflect.has(t,"canonicalChannelUrl")&&(this.canonical_channel_url=t.canonicalChannelUrl),Reflect.has(t,"channelId")&&(this.channel_id=t.channelId),Reflect.has(t,"additionalInfoLabel")&&(this.additional_info_label=HU.fromAttributed(t.additionalInfoLabel)),Reflect.has(t,"customUrlOnTap")&&(this.custom_url_on_tap=new NU(t.customUrlOnTap)),Reflect.has(t,"videoCountText")&&(this.video_count=t.videoCountText),Reflect.has(t,"signInForBusinessEmail")&&(this.sign_in_for_business_email=HU.fromAttributed(t.signInForBusinessEmail)),Reflect.has(t,"links")?this.links=WG(t.links,GU):this.links=[]}}class qU extends KO{static type="AccountChannel";title;endpoint;constructor(t){super(),this.title=new HU(t.title),this.endpoint=new NU(t.navigationEndpoint)}}class KU extends KO{static type="AccountItem";account_name;account_photo;is_selected;is_disabled;has_channel;endpoint;account_byline;channel_handle;constructor(t){super(),this.account_name=new HU(t.accountName),this.account_photo=BU.fromResponse(t.accountPhoto),this.is_selected=!!t.isSelected,this.is_disabled=!!t.isDisabled,this.has_channel=!!t.hasChannel,this.endpoint=new NU(t.serviceEndpoint),this.account_byline=new HU(t.accountByline),this.channel_handle=new HU(t.channelHandle)}}class YU extends KO{static type="AccountItemSectionHeader";title;constructor(t){super(),this.title=new HU(t.title)}}class zU extends KO{static type="CompactLink";title;subtitle;endpoint;style;icon_type;secondary_icon_type;constructor(t){super(),this.title=new HU(t.title).toString(),"subtitle"in t&&(this.subtitle=new HU(t.subtitle)),"icon"in t&&"iconType"in t.icon&&(this.icon_type=t.icon.iconType),"secondaryIcon"in t&&"iconType"in t.secondaryIcon&&(this.secondary_icon_type=t.secondaryIcon.iconType),this.endpoint=new NU(t.navigationEndpoint||t.serviceEndpoint),this.style=t.style}}class QU extends KO{static type="AccountItemSection";contents;header;constructor(t){super(),this.contents=WG(t.contents,[KU,zU]),this.header=HG(t.header,YU)}}class XU extends KO{static type="MultiPageMenu";header;sections;style;constructor(t){super(),this.header=HG(t.header),this.sections=WG(t.sections),this.style=t.style}}class JU extends KO{static type="ChannelSwitcherPage";header;contents;constructor(t){super(),this.header=HG(t.header),this.contents=jG(t.contents,!0)}}class ZU extends KO{static type="SortFilterSubMenu";title;icon_type;tooltip;sub_menu_items;accessibility;constructor(t){super(),"title"in t&&(this.title=t.title),"icon"in t&&(this.icon_type=t.icon.iconType),"tooltip"in t&&(this.tooltip=t.tooltip),"subMenuItems"in t&&(this.sub_menu_items=t.subMenuItems.map(t=>({title:t.title,selected:t.selected,continuation:t.continuation?.reloadContinuationData?.continuation,endpoint:new NU(t.serviceEndpoint||t.navigationEndpoint),subtitle:t.subtitle||null}))),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new JO(t.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}}class tF extends KO{static type="TranscriptFooter";language_menu;constructor(t){super(),this.language_menu=HG(t.languageMenu,ZU)}}class eF extends KO{static type="TranscriptSearchBox";formatted_placeholder;clear_button;endpoint;search_button;constructor(t){super(),this.formatted_placeholder=new HU(t.formattedPlaceholder),this.clear_button=HG(t.clearButton,RU),this.endpoint=new NU(t.onTextChangeCommand),this.search_button=HG(t.searchButton,RU)}}class iF extends KO{static type="TranscriptSectionHeader";start_ms;end_ms;snippet;constructor(t){super(),this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new HU(t.snippet)}}class sF extends KO{static type="TranscriptSegment";start_ms;end_ms;snippet;start_time_text;target_id;constructor(t){super(),this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new HU(t.snippet),this.start_time_text=new HU(t.startTimeText),this.target_id=t.targetId}}class nF extends KO{static type="TranscriptSegmentList";initial_segments;no_result_label;retry_label;touch_captions_enabled;constructor(t){super(),this.initial_segments=WG(t.initialSegments,[sF,iF]),this.no_result_label=new HU(t.noResultLabel),this.retry_label=new HU(t.retryLabel),this.touch_captions_enabled=t.touchCaptionsEnabled}}class aF extends KO{static type="TranscriptSearchPanel";header;body;footer;target_id;constructor(t){super(),this.header=HG(t.header,eF),this.body=HG(t.body,nF),this.footer=HG(t.footer,tF),this.target_id=t.targetId}}class oF extends KO{static type="Transcript";content;constructor(t){super(),this.content=HG(t.content,aF)}}class rF extends KO{static type="MenuTitle";title;constructor(t){super(),this.title=new HU(t.title)}}class cF extends KO{static type="PlaylistAddToOption";add_to_playlist_service_endpoint;contains_selected_videos;playlist_id;privacy;privacy_icon;remove_from_playlist_service_endpoint;title;constructor(t){super(),this.add_to_playlist_service_endpoint=new NU(t.addToPlaylistServiceEndpoint),this.contains_selected_videos=t.containsSelectedVideos,this.playlist_id=t.playlistId,this.privacy=t.privacy,this.privacy_icon={icon_type:t.privacyIcon?.iconType||null},this.remove_from_playlist_service_endpoint=new NU(t.removeFromPlaylistServiceEndpoint),this.title=new HU(t.title)}}class lF extends KO{static type="AnimatedThumbnailOverlayView";thumbnail;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail)}}class hF extends KO{static type="AttributionView";text;suffix;constructor(t){super(),this.text=HU.fromAttributed(t.text),this.suffix=HU.fromAttributed(t.suffix)}}class dF extends KO{static type="AutomixPreviewVideo";playlist_video;constructor(t){super(),t?.content?.automixPlaylistVideoRenderer?.navigationEndpoint&&(this.playlist_video={endpoint:new NU(t.content.automixPlaylistVideoRenderer.navigationEndpoint)})}}class uF extends KO{static type="AvatarView";image;image_processor;avatar_image_size;constructor(t){super(),this.image=BU.fromResponse(t.image),this.avatar_image_size=t.avatarImageSize,t.image.processor&&(this.image_processor={border_image_processor:{circular:t.image.processor.borderImageProcessor.circular}})}}class pF{on_focus;on_hidden;on_touch_end;on_touch_move;on_long_press;on_tap;on_touch_start;on_visible;on_first_visible;on_hover;constructor(t){"onFocus"in t&&(this.on_focus=new NU(t.onFocus)),"onHidden"in t&&(this.on_hidden=new NU(t.onHidden)),"onTouchEnd"in t&&(this.on_touch_end=new NU(t.onTouchEnd)),"onTouchMove"in t&&(this.on_touch_move=new NU(t.onTouchMove)),"onLongPress"in t&&(this.on_long_press=new NU(t.onLongPress)),"onTap"in t&&(this.on_tap=new NU(t.onTap)),"onTouchStart"in t&&(this.on_touch_start=new NU(t.onTouchStart)),"onVisible"in t&&(this.on_visible=new NU(t.onVisible)),"onFirstVisible"in t&&(this.on_first_visible=new NU(t.onFirstVisible)),"onHover"in t&&(this.on_hover=new NU(t.onHover))}}class mF{command_context;accessibility_context;constructor(t){t&&("commandContext"in t&&(this.command_context=new pF(t.commandContext)),"accessibilityContext"in t&&(this.accessibility_context=new XO(t.accessibilityContext)))}}class _F extends KO{static type="AvatarStackView";avatars;text;renderer_context;constructor(t){super(),this.avatars=WG(t.avatars,uF),Reflect.has(t,"text")&&(this.text=HU.fromAttributed(t.text)),this.renderer_context=new mF(t.rendererContext)}}class fF extends KO{static type="ButtonView";secondary_icon_image;icon_name;enable_icon_button;tooltip;icon_image_flip_for_rtl;button_size;icon_position;is_full_width;state;on_disabled_tap;custom_border_color;on_tap;style;icon_image;custom_dark_theme_border_color;title;target_id;enable_full_width_margins;custom_font_color;button_type;enabled;accessibility_id;custom_background_color;on_long_press;title_formatted;on_visible;icon_trailing;accessibility_text;constructor(t){super(),"secondaryIconImage"in t&&(this.secondary_icon_image=BU.fromResponse(t.secondaryIconImage)),"iconName"in t&&(this.icon_name=t.iconName),"enableIconButton"in t&&(this.enable_icon_button=t.enableIconButton),"tooltip"in t&&(this.tooltip=t.tooltip),"iconImageFlipForRtl"in t&&(this.icon_image_flip_for_rtl=t.iconImageFlipForRtl),"buttonSize"in t&&(this.button_size=t.buttonSize),"iconPosition"in t&&(this.icon_position=t.iconPosition),"isFullWidth"in t&&(this.is_full_width=t.isFullWidth),"state"in t&&(this.state=t.state),"onDisabledTap"in t&&(this.on_disabled_tap=new NU(t.onDisabledTap)),"customBorderColor"in t&&(this.custom_border_color=t.customBorderColor),"onTap"in t&&(this.on_tap=new NU(t.onTap)),"style"in t&&(this.style=t.style),"iconImage"in t&&(this.icon_image=t.iconImage),"customDarkThemeBorderColor"in t&&(this.custom_dark_theme_border_color=t.customDarkThemeBorderColor),"title"in t&&(this.title=t.title),"targetId"in t&&(this.target_id=t.targetId),"enableFullWidthMargins"in t&&(this.enable_full_width_margins=t.enableFullWidthMargins),"customFontColor"in t&&(this.custom_font_color=t.customFontColor),"type"in t&&(this.button_type=t.type),"enabled"in t&&(this.enabled=t.enabled),"accessibilityId"in t&&(this.accessibility_id=t.accessibilityId),"customBackgroundColor"in t&&(this.custom_background_color=t.customBackgroundColor),"onLongPress"in t&&(this.on_long_press=new NU(t.onLongPress)),"titleFormatted"in t&&(this.title_formatted=t.titleFormatted),"onVisible"in t&&(this.on_visible=t.onVisible),"iconTrailing"in t&&(this.icon_trailing=t.iconTrailing),"accessibilityText"in t&&(this.accessibility_text=t.accessibilityText)}}class yF extends KO{static type="BackstageImage";image;endpoint;constructor(t){super(),this.image=BU.fromResponse(t.image),this.endpoint=new NU(t.command)}}class bF extends KO{static type="ToggleButton";text;toggled_text;tooltip;toggled_tooltip;is_toggled;is_disabled;icon_type;like_count;short_like_count;endpoint;toggled_endpoint;button_id;target_id;constructor(t){super(),this.text=new HU(t.defaultText),this.toggled_text=new HU(t.toggledText),this.tooltip=t.defaultTooltip,this.toggled_tooltip=t.toggledTooltip,this.is_toggled=t.isToggled,this.is_disabled=t.isDisabled,this.icon_type=t.defaultIcon?.iconType;const e=t?.defaultText?.accessibility?.accessibilityData?.label||t?.accessibilityData?.accessibilityData?.label||t?.accessibility?.label;"LIKE"==this.icon_type&&(this.like_count=parseInt(e.replace(/\D/g,"")),this.short_like_count=new HU(t.defaultText).toString()),this.endpoint=t.defaultServiceEndpoint?.commandExecutorCommand?.commands?new NU(t.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new NU(t.defaultServiceEndpoint),this.toggled_endpoint=new NU(t.toggledServiceEndpoint),Reflect.has(t,"toggleButtonSupportedData")&&Reflect.has(t.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=t.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(t,"targetId")&&(this.target_id=t.targetId)}}class gF extends KO{static type="CreatorHeart";creator_thumbnail;heart_icon_type;heart_color;hearted_tooltip;is_hearted;is_enabled;kennedy_heart_color_string;constructor(t){super(),this.creator_thumbnail=BU.fromResponse(t.creatorThumbnail),Reflect.has(t,"heartIcon")&&Reflect.has(t.heartIcon,"iconType")&&(this.heart_icon_type=t.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:t.heartColor?.basicColorPaletteData?.foregroundTitleColor}},this.hearted_tooltip=t.heartedTooltip,this.is_hearted=t.isHearted,this.is_enabled=t.isEnabled,this.kennedy_heart_color_string=t.kennedyHeartColorString}}class vF extends KO{static type="CommentActionButtons";like_button;dislike_button;reply_button;creator_heart;constructor(t){super(),this.like_button=HG(t.likeButton,bF),this.dislike_button=HG(t.dislikeButton,bF),this.reply_button=HG(t.replyButton,RU),this.creator_heart=HG(t.creatorHeart,gF)}}class wF extends KO{static type="ToggleButtonView";default_button;toggled_button;is_toggling_disabled;identifier;is_toggled;constructor(t){super(),this.default_button=HG(t.defaultButtonViewModel,fF),this.toggled_button=HG(t.toggledButtonViewModel,fF),this.is_toggling_disabled=t.isTogglingDisabled,this.identifier=t.identifier,Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled)}}class xF extends KO{static type="LikeButtonView";toggle_button;like_status_entity_key;like_status_entity;constructor(t){super(),this.toggle_button=HG(t.toggleButtonViewModel,wF),this.like_status_entity_key=t.likeStatusEntityKey,this.like_status_entity={key:t.likeStatusEntity.key,like_status:t.likeStatusEntity.likeStatus}}}class kF extends KO{static type="DislikeButtonView";toggle_button;dislike_entity_key;constructor(t){super(),this.toggle_button=HG(t.toggleButtonViewModel,wF),this.dislike_entity_key=t.dislikeEntityKey}}class SF extends KO{static type="SegmentedLikeDislikeButtonView";like_button;dislike_button;icon_type;like_count_entity;dynamic_like_count_update_data;like_count;short_like_count;constructor(t){if(super(),this.like_button=HG(t.likeButtonViewModel,xF),this.dislike_button=HG(t.dislikeButtonViewModel,kF),this.icon_type=t.iconType,this.like_button&&this.like_button.toggle_button){const t=this.like_button.toggle_button;t.default_button?(this.short_like_count=t.default_button.title,t.default_button.accessibility_text&&(this.like_count=parseInt(t.default_button.accessibility_text.replace(/\D/g,"")))):t.toggled_button&&(this.short_like_count=t.toggled_button.title,t.toggled_button.accessibility_text&&(this.like_count=parseInt(t.toggled_button.accessibility_text.replace(/\D/g,""))))}this.like_count_entity={key:t.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:t.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:t.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:t.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:t.dynamicLikeCountUpdateData.updateDelaySec}}}class CF extends RU{static type="MenuServiceItem";constructor(t){super(t)}}class TF extends KO{static type="DownloadButton";style;size;endpoint;target_id;constructor(t){super(),this.style=t.style,this.size=t.size,this.endpoint=new NU(t.command),this.target_id=t.targetId}}class IF extends KO{static type="MenuServiceItemDownload";has_separator;endpoint;constructor(t){super(),this.has_separator=!!t.hasSeparator,this.endpoint=new NU(t.navigationEndpoint||t.serviceEndpoint)}}class EF extends KO{static type="MenuFlexibleItem";menu_item;top_level_button;constructor(t){super(),this.menu_item=HG(t.menuItem,[CF,IF]),this.top_level_button=HG(t.topLevelButton,[TF,fF,RU])}}class PF extends KO{static type="LikeButton";target;like_status;likes_allowed;endpoints;constructor(t){super(),this.target={video_id:t.target.videoId},this.like_status=t.likeStatus,this.likes_allowed=t.likesAllowed,Reflect.has(t,"serviceEndpoints")&&(this.endpoints=t.serviceEndpoints.map(t=>new NU(t)))}}class RF extends KO{static type="FlexibleActionsView";actions_rows;style;constructor(t){super(),this.actions_rows=t.actionsRows.map(t=>({actions:WG(t.actions,[fF,wF])})),this.style=t.style}}class AF extends KO{static type="Menu";items;flexible_items;top_level_buttons;accessibility;constructor(t){super(),this.items=WG(t.items),this.flexible_items=WG(t.flexibleItems,EF),this.top_level_buttons=WG(t.topLevelButtons,[bF,PF,RU,fF,SF,RF]),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new JO(t.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}get contents(){return this.items}}class MF extends KO{static type="BackstagePost";id;author;content;published;poll_status;vote_status;vote_count;menu;action_buttons;vote_button;surface;endpoint;attachment;constructor(t){super(),this.id=t.postId,this.author=new YG({...t.authorText,navigationEndpoint:t.authorEndpoint},null,t.authorThumbnail),this.content=new HU(t.contentText),this.published=new HU(t.publishedTimeText),Reflect.has(t,"pollStatus")&&(this.poll_status=t.pollStatus),Reflect.has(t,"voteStatus")&&(this.vote_status=t.voteStatus),Reflect.has(t,"voteCount")&&(this.vote_count=new HU(t.voteCount)),Reflect.has(t,"actionMenu")&&(this.menu=HG(t.actionMenu,AF)),Reflect.has(t,"actionButtons")&&(this.action_buttons=HG(t.actionButtons,vF)),Reflect.has(t,"voteButton")&&(this.vote_button=HG(t.voteButton,RU)),Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new NU(t.navigationEndpoint)),Reflect.has(t,"backstageAttachment")&&(this.attachment=HG(t.backstageAttachment)),this.surface=t.surface}}class LF extends KO{text;style;accessibility_label;constructor(t){super(),this.text=t.badgeText,this.style=t.badgeStyle,this.accessibility_label=t.accessibilityLabel}}class DF extends KO{static type="SubFeedOption";name;is_selected;endpoint;constructor(t){super(),this.name=new HU(t.name),this.is_selected=t.isSelected,this.endpoint=new NU(t.navigationEndpoint)}}class NF extends KO{static type="SubFeedSelector";title;options;constructor(t){super(),this.title=new HU(t.title),this.options=WG(t.options,DF)}}class BF extends KO{static type="EomSettingsDisclaimer";disclaimer;info_icon;usage_scenario;constructor(t){super(),this.disclaimer=new HU(t.disclaimer),this.info_icon={icon_type:t.infoIcon.iconType},this.usage_scenario=t.usageScenario}}class VF extends KO{static type="SearchBox";endpoint;search_button;clear_button;placeholder_text;constructor(t){super(),this.endpoint=new NU(t.endpoint),this.search_button=HG(t.searchButton,RU),this.clear_button=HG(t.clearButton,RU),this.placeholder_text=new HU(t.placeholderText)}}class OF extends KO{static type="BrowseFeedActions";contents;constructor(t){super(),this.contents=WG(t.contents,[NF,BF,bF,zU,VF,RU])}}class UF extends KO{static type="HeaderLink";endpoint;icon;title;constructor(t){super(),this.endpoint=new NU(t.navigationEndpoint),this.icon=BU.fromResponse(t.icon),this.title=new HU(t.title)}}class FF extends KO{static type="ChannelHeaderLinks";primary;secondary;constructor(t){super(),this.primary=QO(t.primaryLinks?.map(t=>new UF(t))||[]),this.secondary=QO(t.secondaryLinks?.map(t=>new UF(t))||[])}}class HF extends KO{static type="ChannelHeaderLinksView";first_link;more;constructor(t){super(),Reflect.has(t,"firstLink")&&(this.first_link=HU.fromAttributed(t.firstLink)),Reflect.has(t,"more")&&(this.more=HU.fromAttributed(t.more))}}class WF extends KO{static type="ClipCreationTextInput";placeholder_text;max_character_limit;constructor(t){super(),this.placeholder_text=new HU(t.placeholderText),this.max_character_limit=t.maxCharacterLimit}}class jF extends KO{static type="ClipCreationScrubber";length_template;max_length_ms;min_length_ms;default_length_ms;window_size_ms;start_label;end_label;duration_label;constructor(t){super(),this.length_template=t.lengthTemplate,this.max_length_ms=t.maxLengthMs,this.min_length_ms=t.minLengthMs,this.default_length_ms=t.defaultLengthMs,this.window_size_ms=t.windowSizeMs,this.start_label=t.startAccessibility?.accessibilityData?.label,this.end_label=t.endAccessibility?.accessibilityData?.label,this.duration_label=t.durationAccessibility?.accessibilityData?.label}}class GF extends KO{static type="ClipAdState";title;body;constructor(t){super(),this.title=new HU(t.title),this.body=new HU(t.body)}}class $F extends KO{static type="ClipCreation";user_avatar;title_input;scrubber;save_button;display_name;publicity_label;cancel_button;ad_state_overlay;external_video_id;publicity_label_icon;constructor(t){super(),this.user_avatar=BU.fromResponse(t.userAvatar),this.title_input=HG(t.titleInput,[WF]),this.scrubber=HG(t.scrubber,[jF]),this.save_button=HG(t.saveButton,[RU]),this.display_name=new HU(t.displayName),this.publicity_label=t.publicityLabel,this.cancel_button=HG(t.cancelButton,[RU]),this.ad_state_overlay=HG(t.adStateOverlay,[GF]),this.external_video_id=t.externalVideoId,this.publicity_label_icon=t.publicityLabelIcon}}class qF extends KO{static type="ClipSection";contents;constructor(t){super(),this.contents=jG(t.contents,!0,[$F])}}class KF extends KO{static type="ContinuationItem";trigger;button;endpoint;constructor(t){super(),this.trigger=t.trigger,Reflect.has(t,"button")&&(this.button=HG(t.button,RU)),this.endpoint=new NU(t.continuationEndpoint)}}class YF extends KO{static type="EngagementPanelTitleHeader";title;visibility_button;contextual_info;menu;constructor(t){super(),this.title=new HU(t.title),this.contextual_info=t.contextualInfo?new HU(t.contextualInfo):void 0,this.visibility_button=HG(t.visibilityButton,RU),this.menu=HG(t.menu)}}class zF extends KO{static type="MacroMarkersInfoItem";info_text;menu;constructor(t){super(),this.info_text=new HU(t.infoText),this.menu=HG(t.menu,AF)}}class QF extends KO{static type="MacroMarkersListItem";title;time_description;thumbnail;on_tap_endpoint;layout;is_highlighted;constructor(t){super(),this.title=new HU(t.title),this.time_description=new HU(t.timeDescription),this.thumbnail=BU.fromResponse(t.thumbnail),this.on_tap_endpoint=new NU(t.onTap),this.layout=t.layout,this.is_highlighted=!!t.isHighlighted}}class XF extends KO{static type="MacroMarkersList";contents;sync_button_label;constructor(t){super(),this.contents=WG(t.contents,[zF,QF]),this.sync_button_label=new HU(t.syncButtonLabel)}}class JF extends KO{static type="ProductList";contents;constructor(t){super(),this.contents=WG(t.contents)}}class ZF extends KO{static type="SectionList";contents;target_id;continuation;header;sub_menu;constructor(t){super(),this.contents=WG(t.contents),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),Reflect.has(t,"continuations")&&(Reflect.has(t.continuations[0],"nextContinuationData")?this.continuation=t.continuations[0].nextContinuationData.continuation:Reflect.has(t.continuations[0],"reloadContinuationData")&&(this.continuation=t.continuations[0].reloadContinuationData.continuation)),Reflect.has(t,"header")&&(this.header=HG(t.header)),Reflect.has(t,"subMenu")&&(this.sub_menu=HG(t.subMenu))}}class tH extends KO{static type="ExpandableVideoDescriptionBody";show_more_text;show_less_text;attributed_description_body_text;constructor(t){super(),this.show_more_text=new HU(t.showMoreText),this.show_less_text=new HU(t.showLessText),Reflect.has(t,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=HU.fromAttributed(t.attributedDescriptionBodyText))}}class eH extends KO{static type="SearchRefinementCard";thumbnails;endpoint;query;constructor(t){super(),this.thumbnails=BU.fromResponse(t.thumbnail),this.endpoint=new NU(t.searchEndpoint),this.query=new HU(t.query).toString()}}class iH extends KO{static type="GameCard";game;constructor(t){super(),this.game=HG(t.game)}}class sH extends KO{static type="HorizontalList";visible_item_count;items;constructor(t){super(),this.visible_item_count=t.visibleItemCount,this.items=WG(t.items)}get contents(){return this.items}}class nH extends KO{static type="ExpandableMetadata";header;expanded_content;expand_button;collapse_button;constructor(t){super(),Reflect.has(t,"header")&&(this.header={collapsed_title:new HU(t.header.collapsedTitle),collapsed_thumbnail:BU.fromResponse(t.header.collapsedThumbnail),collapsed_label:new HU(t.header.collapsedLabel),expanded_title:new HU(t.header.expandedTitle)}),this.expanded_content=HG(t.expandedContent,[dH,sH]),this.expand_button=HG(t.expandButton,RU),this.collapse_button=HG(t.collapseButton,RU)}}class aH extends KO{static type="MetadataBadge";icon_type;style;label;tooltip;constructor(t){super(),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"style")&&(this.style=t.style),Reflect.has(t,"label")&&(this.label=t.label),(Reflect.has(t,"tooltip")||Reflect.has(t,"iconTooltip"))&&(this.tooltip=t.tooltip||t.iconTooltip)}}class oH extends KO{static type="ThumbnailOverlayTimeStatus";text;style;constructor(t){super(),this.text=new HU(t.text).toString(),this.style=t.style}}class rH extends KO{static type="Video";video_id;title;untranslated_title;description_snippet;snippets;expandable_metadata;additional_metadatas;thumbnails;thumbnail_overlays;rich_thumbnail;author;badges;endpoint;published;view_count;short_view_count;upcoming;length_text;show_action_menu;is_watched;menu;byline_text;search_video_result_entity_key;service_endpoints;service_endpoint;style;constructor(t){super(),this.title=new HU(t.title),this.video_id=t.videoId,this.expandable_metadata=HG(t.expandableMetadata,nH),"untranslatedTitle"in t&&(this.untranslated_title=new HU(t.untranslatedTitle)),"descriptionSnippet"in t&&(this.description_snippet=new HU(t.descriptionSnippet)),"detailedMetadataSnippets"in t&&(this.snippets=t.detailedMetadataSnippets.map(t=>({text:new HU(t.snippetText),hover_text:new HU(t.snippetHoverText)}))),"additionalMetadatas"in t&&(this.additional_metadatas=t.additionalMetadatas.map(t=>new HU(t))),this.thumbnails=BU.fromResponse(t.thumbnail),this.thumbnail_overlays=WG(t.thumbnailOverlays),"richThumbnail"in t&&(this.rich_thumbnail=HG(t.richThumbnail)),this.author=new YG(t.ownerText,t.ownerBadges,t.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail),this.badges=WG(t.badges,aH),"navigationEndpoint"in t&&(this.endpoint=new NU(t.navigationEndpoint)),"publishedTimeText"in t&&(this.published=new HU(t.publishedTimeText)),"viewCountText"in t&&(this.view_count=new HU(t.viewCountText)),"shortViewCountText"in t&&(this.short_view_count=new HU(t.shortViewCountText)),"upcomingEventData"in t&&(this.upcoming=new Date(Number(`${t.upcomingEventData.startTime}000`))),this.show_action_menu=!!t.showActionMenu,this.is_watched=!!t.isWatched,this.menu=HG(t.menu,AF),"searchVideoResultEntityKey"in t&&(this.search_video_result_entity_key=t.searchVideoResultEntityKey),"bylineText"in t&&(this.byline_text=new HU(t.bylineText)),"lengthText"in t&&(this.length_text=new HU(t.lengthText)),"serviceEndpoints"in t&&(this.service_endpoints=t.serviceEndpoints.map(t=>new NU(t))),"serviceEndpoint"in t&&(this.service_endpoint=new NU(t.serviceEndpoint)),"style"in t&&(this.style=t.style)}get id(){return this.video_id}get description(){return this.snippets?this.snippets.map(t=>t.text.toString()).join(""):this.description_snippet?.toString()||""}get is_live(){return this.badges.some(t=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===t.style||"LIVE"===t.label)return!0})||"LIVE"===this.thumbnail_overlays.firstOfType(oH)?.style}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(t=>"PREMIERE"===t.label)}get is_4k(){return this.badges.some(t=>"4K"===t.label)}get has_captions(){return this.badges.some(t=>"CC"===t.label)}get best_thumbnail(){return this.thumbnails[0]}get duration(){const t=this.thumbnail_overlays.firstOfType(oH),e=this.length_text?.toString()||t?.text.toString();return{text:e,seconds:e?JG(e):0}}}class cH extends rH{static type="VideoCard";metadata_text;constructor(t){super(t),Reflect.has(t,"metadataText")&&(this.metadata_text=new HU(t.metadataText),this.metadata_text.text&&(this.short_view_count=new HU({simpleText:this.metadata_text.text.split("·")[0]?.trim()}),this.published=new HU({simpleText:this.metadata_text.text.split("·")[1]?.trim()}))),Reflect.has(t,"bylineText")&&(this.author=new YG(t.bylineText,t.ownerBadges,t.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail))}}class lH extends KO{static type="ContentPreviewImageView";image;style;constructor(t){super(),this.image=BU.fromResponse(t.image),this.style=t.style}}class hH extends KO{static type="VideoAttributeView";image;image_style;title;subtitle;secondary_subtitle;orientation;sizing_rule;overflow_menu_on_tap;overflow_menu_a11y_label;constructor(t){super(),t.image?.sources?this.image=BU.fromResponse(t.image):this.image=HG(t.image,lH),this.image_style=t.imageStyle,this.title=t.title,this.subtitle=t.subtitle,Reflect.has(t,"secondarySubtitle")&&(this.secondary_subtitle={content:t.secondarySubtitle.content}),this.orientation=t.orientation,this.sizing_rule=t.sizingRule,this.overflow_menu_on_tap=new NU(t.overflowMenuOnTap),this.overflow_menu_a11y_label=t.overflowMenuA11yLabel}}class dH extends KO{static type="HorizontalCardList";cards;header;previous_button;next_button;constructor(t){super(),this.cards=WG(t.cards,[hH,eH,QF,iH,cH]),this.header=HG(t.header),this.previous_button=HG(t.previousButton,RU),this.next_button=HG(t.nextButton,RU)}}class uH extends KO{static type="Factoid";label;value;accessibility_text;constructor(t){super(),this.label=new HU(t.label),this.value=new HU(t.value),this.accessibility_text=t.accessibilityText}}class pH extends KO{static type="UploadTimeFactoid";factoid;constructor(t){super(),this.factoid=HG(t.factoid,uH)}}class mH extends KO{static type="ViewCountFactoid";view_count_entity_key;factoid;view_count_type;constructor(t){super(),this.view_count_entity_key=t.viewCountEntityKey,this.factoid=HG(t.factoid,[uH]),this.view_count_type=t.viewCountType}}class _H extends KO{static type="HypePointsFactoid";factoid;constructor(t){super(),this.factoid=HG(t.factoid,uH)}}class fH extends KO{static type="VideoDescriptionHeader";channel;channel_navigation_endpoint;channel_thumbnail;factoids;publish_date;title;views;constructor(t){super(),this.title=new HU(t.title),this.channel=new HU(t.channel),this.channel_navigation_endpoint=new NU(t.channelNavigationEndpoint),this.channel_thumbnail=BU.fromResponse(t.channelThumbnail),this.publish_date=new HU(t.publishDate),this.views=new HU(t.views),this.factoids=WG(t.factoid,[uH,_H,mH,pH])}}class yH extends KO{static type="VideoDescriptionInfocardsSection";section_title;creator_videos_button;creator_about_button;section_subtitle;channel_avatar;channel_endpoint;constructor(t){super(),this.section_title=new HU(t.sectionTitle),this.creator_videos_button=HG(t.creatorVideosButton,RU),this.creator_about_button=HG(t.creatorAboutButton,RU),this.section_subtitle=new HU(t.sectionSubtitle),this.channel_avatar=BU.fromResponse(t.channelAvatar),this.channel_endpoint=new NU(t.channelEndpoint)}}class bH extends KO{static type="InfoRow";title;default_metadata;expanded_metadata;info_row_expand_status_key;constructor(t){super(),this.title=new HU(t.title),Reflect.has(t,"defaultMetadata")&&(this.default_metadata=new HU(t.defaultMetadata)),Reflect.has(t,"expandedMetadata")&&(this.expanded_metadata=new HU(t.expandedMetadata)),Reflect.has(t,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=t.infoRowExpandStatusKey)}}class gH extends KO{static type="CompactVideo";video_id;thumbnails;rich_thumbnail;title;author;view_count;short_view_count;short_byline_text;long_byline_text;published;badges;thumbnail_overlays;endpoint;menu;length_text;is_watched;service_endpoints;service_endpoint;style;constructor(t){super(),this.video_id=t.videoId,this.thumbnails=BU.fromResponse(t.thumbnail),this.title=new HU(t.title),this.author=new YG(t.longBylineText,t.ownerBadges,t.channelThumbnail),this.is_watched=!!t.isWatched,this.thumbnail_overlays=WG(t.thumbnailOverlays),this.menu=HG(t.menu,AF),this.badges=WG(t.badges,aH),"publishedTimeText"in t&&(this.published=new HU(t.publishedTimeText)),"shortBylineText"in t&&(this.view_count=new HU(t.viewCountText)),"shortViewCountText"in t&&(this.short_view_count=new HU(t.shortViewCountText)),"richThumbnail"in t&&(this.rich_thumbnail=HG(t.richThumbnail)),"shortBylineText"in t&&(this.short_byline_text=new HU(t.shortBylineText)),"longBylineText"in t&&(this.long_byline_text=new HU(t.longBylineText)),"lengthText"in t&&(this.length_text=new HU(t.lengthText)),"serviceEndpoints"in t&&(this.service_endpoints=t.serviceEndpoints.map(t=>new NU(t))),"serviceEndpoint"in t&&(this.service_endpoint=new NU(t.serviceEndpoint)),"navigationEndpoint"in t&&(this.endpoint=new NU(t.navigationEndpoint)),"style"in t&&(this.style=t.style)}get id(){return this.video_id}get duration(){const t=this.thumbnail_overlays.firstOfType(oH),e=this.length_text?.toString()||t?.text.toString();return{text:e,seconds:e?JG(e):0}}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(t=>"Fundraiser"===t.label)}get is_live(){return this.badges.some(t=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===t.style||"LIVE"===t.label)return!0})}get is_new(){return this.badges.some(t=>"New"===t.label)}get is_premiere(){return this.badges.some(t=>"PREMIERE"===t.style)}}class vH extends KO{static type="CarouselLockup";info_rows;video_lockup;constructor(t){super(),this.info_rows=WG(t.infoRows,bH),this.video_lockup=HG(t.videoLockup,gH)}}class wH extends KO{static type="VideoDescriptionMusicSection";carousel_lockups;section_title;constructor(t){super(),this.carousel_lockups=WG(t.carouselLockups,vH),this.section_title=new HU(t.sectionTitle)}}class xH extends KO{static type="VideoDescriptionTranscriptSection";section_title;sub_header_text;primary_button;constructor(t){super(),this.section_title=new HU(t.sectionTitle),this.sub_header_text=new HU(t.subHeaderText),this.primary_button=HG(t.primaryButton,RU)}}class kH extends KO{static type="StructuredDescriptionPlaylistLockup";thumbnail;title;short_byline_text;video_count_short_text;endpoint;thumbnail_width;aspect_ratio;max_lines_title;max_lines_short_byline_text;overlay_position;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail),this.title=new HU(t.title),this.short_byline_text=new HU(t.shortBylineText),this.video_count_short_text=new HU(t.videoCountShortText),this.endpoint=new NU(t.navigationEndpoint),this.thumbnail_width=t.thumbnailWidth,this.aspect_ratio=t.aspectRatio,this.max_lines_title=t.maxLinesTitle,this.max_lines_short_byline_text=t.maxLinesShortBylineText,this.overlay_position=t.overlayPosition}}class SH extends KO{static type="VideoDescriptionCourseSection";section_title;media_lockups;constructor(t){super(),this.section_title=new HU(t.sectionTitle),this.media_lockups=WG(t.mediaLockups,[kH])}}class CH extends KO{static type="VideoAttributesSectionView";header_title;header_subtitle;video_attributes;previous_button;next_button;constructor(t){super(),this.header_title=t.headerTitle,this.header_subtitle=t.headerSubtitle,this.video_attributes=WG(t.videoAttributeViewModels,hH),this.previous_button=HG(t.previousButton,fF),this.next_button=HG(t.nextButton,fF)}}class TH extends KO{static type="HowThisWasMadeSectionView";section_title;body_text;body_header;constructor(t){super(),Reflect.has(t,"sectionText")&&(this.section_title=HU.fromAttributed(t.sectionText)),Reflect.has(t,"bodyText")&&(this.body_text=HU.fromAttributed(t.bodyText)),Reflect.has(t,"bodyHeader")&&(this.body_header=HU.fromAttributed(t.bodyHeader))}}class IH extends KO{static type="ReelShelf";title;items;endpoint;constructor(t){super(),this.title=new HU(t.title),this.items=WG(t.items),Reflect.has(t,"endpoint")&&(this.endpoint=new NU(t.endpoint))}get contents(){return this.items}}class EH extends KO{static type="StructuredDescriptionContent";items;constructor(t){super(),this.items=WG(t.items,[fH,tH,wH,yH,SH,xH,xH,dH,IH,CH,TH])}}class PH extends KO{static type="EngagementPanelSectionList";header;content;target_id;panel_identifier;identifier;visibility;constructor(t){super(),this.header=HG(t.header,YF),this.content=HG(t.content,[hH,ZF,KF,qF,EH,XF,JF]),this.panel_identifier=t.panelIdentifier,this.identifier=t.identifier?{surface:t.identifier.surface,tag:t.identifier.tag}:void 0,this.target_id=t.targetId,this.visibility=t.visibility}}class RH extends KO{static type="ChannelTagline";content;max_lines;more_endpoint;more_icon_type;more_label;target_id;constructor(t){super(),this.content=t.content,this.max_lines=t.maxLines,this.more_endpoint=t.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:HG(t.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,PH),engagement_panel_popup_type:t.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:t.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:t.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new NU(t.moreEndpoint),this.more_icon_type=t.moreIcon.iconType,this.more_label=t.moreLabel,this.target_id=t.targetId}}class AH extends KO{static type="SubscriptionNotificationToggleButton";states;current_state_id;target_id;constructor(t){super(),this.states=t.states.map(t=>({id:t.stateId,next_id:t.nextStateId,state:jG(t.state)})),this.current_state_id=t.currentStateId,this.target_id=t.targetId}}class MH extends KO{static type="SubscribeButton";button_text;subscribed;enabled;item_type;channel_id;show_preferences;subscribed_text;unsubscribed_text;unsubscribe_text;notification_preference_button;service_endpoints;on_subscribe_endpoints;on_unsubscribe_endpoints;subscribed_entity_key;target_id;subscribe_accessibility_label;unsubscribe_accessibility_label;constructor(t){super(),this.button_text=new HU(t.buttonText),this.subscribed=t.subscribed,this.enabled=t.enabled,this.item_type=t.type,this.channel_id=t.channelId,this.show_preferences=t.showPreferences,Reflect.has(t,"subscribedButtonText")&&(this.subscribed_text=new HU(t.subscribedButtonText)),Reflect.has(t,"unsubscribedButtonText")&&(this.unsubscribed_text=new HU(t.unsubscribedButtonText)),Reflect.has(t,"unsubscribeButtonText")&&(this.unsubscribe_text=new HU(t.unsubscribeButtonText)),this.notification_preference_button=HG(t.notificationPreferenceButton,AH),Reflect.has(t,"serviceEndpoints")&&(this.service_endpoints=t.serviceEndpoints.map(t=>new NU(t))),Reflect.has(t,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=t.onSubscribeEndpoints.map(t=>new NU(t))),Reflect.has(t,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=t.onUnsubscribeEndpoints.map(t=>new NU(t))),Reflect.has(t,"subscribedEntityKey")&&(this.subscribed_entity_key=t.subscribedEntityKey),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),Reflect.has(t,"subscribeAccessibility")&&(this.subscribe_accessibility_label=t.subscribeAccessibility.accessibilityData?.label),Reflect.has(t,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=t.unsubscribeAccessibility.accessibilityData?.label)}}class LH extends KO{static type="TextCarouselItemView";icon_name;text;on_tap_endpoint;button;constructor(t){super(),this.icon_name=t.iconName,this.text=HU.fromAttributed(t.text),this.on_tap_endpoint=new NU(t.onTap),this.button=HG(t.button,fF)}}class DH extends KO{static type="CarouselItemView";item_type;carousel_item;constructor(t){super(),this.item_type=t.itemType,this.carousel_item=HG(t.carouselItem,LH)}}class NH extends KO{static type="CarouselTitleView";title;previous_button;next_button;constructor(t){super(),this.title=t.title,this.previous_button=HG(t.previousButton,fF),this.next_button=HG(t.nextButton,fF)}}class BH extends KO{static type="ChannelOptions";avatar;endpoint;name;links;constructor(t){super(),this.avatar=BU.fromResponse(t.avatar),this.endpoint=new NU(t.avatarEndpoint),this.name=t.name,this.links=t.links.map(t=>new HU(t))}}class VH extends KO{static type="Chapter";title;time_range_start_millis;thumbnail;constructor(t){super(),this.title=new HU(t.title),this.time_range_start_millis=t.timeRangeStartMillis,this.thumbnail=BU.fromResponse(t.thumbnail)}}class OH extends KO{static type="ChipView";text;display_type;endpoint;chip_entity_key;constructor(t){super(),this.text=t.text,this.display_type=t.displayType,this.endpoint=new NU(t.tapCommand),this.chip_entity_key=t.chipEntityKey}}class UH extends KO{static type="ChipCloudChip";is_selected;endpoint;text;constructor(t){super(),this.is_selected=t.isSelected,Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new NU(t.navigationEndpoint)),this.text=new HU(t.text).toString()}}class FH extends KO{static type="ChipCloud";chips;next_button;previous_button;horizontal_scrollable;constructor(t){super(),this.chips=WG(t.chips,UH),this.next_button=HG(t.nextButton,RU),this.previous_button=HG(t.previousButton,RU),this.horizontal_scrollable=t.horizontalScrollable}}class HH extends KO{static type="ThumbnailHoverOverlayView";icon_name;text;style;constructor(t){super(),this.icon_name=t.icon.sources[0].clientResource.imageName,this.text=HU.fromAttributed(t.text),this.style=t.style}}class WH extends KO{static type="ThumbnailBadgeView";icon_name;text;badge_style;background_color;constructor(t){super(),this.text=t.text,this.badge_style=t.badgeStyle,t.backgroundColor&&(this.background_color={light_theme:t.backgroundColor.lightTheme,dark_theme:t.backgroundColor.darkTheme}),t.iconName&&(this.icon_name=t.icon.sources[0].clientResource.imageName)}}class jH extends KO{static type="ThumbnailOverlayBadgeView";badges;position;constructor(t){super(),this.badges=WG(t.thumbnailBadges,WH),this.position=t.position}}class GH extends KO{static type="ThumbnailHoverOverlayToggleActionsView";buttons;constructor(t){super(),this.buttons=WG(t.buttons,wF)}}class $H extends KO{static type="ThumbnailOverlayProgressBarView";start_percent;constructor(t){super(),this.start_percent=t.startPercent}}class qH extends KO{static type="ThumbnailBottomOverlayView";progress_bar;badges;constructor(t){super(),this.progress_bar=HG(t.progressBar,$H),this.badges=WG(t.badges,WH)}}class KH extends KO{static type="ThumbnailView";image;overlays;background_color;constructor(t){super(),this.image=BU.fromResponse(t.image),this.overlays=WG(t.overlays,[GH,qH,jH,HH,lF]),"backgroundColor"in t&&(this.background_color={light_theme:t.backgroundColor.lightTheme,dark_theme:t.backgroundColor.darkTheme})}}class YH extends KO{static type="CollectionThumbnailView";primary_thumbnail;stack_color;constructor(t){super(),this.primary_thumbnail=HG(t.primaryThumbnail,KH),t.stackColor&&(this.stack_color={light_theme:t.stackColor.lightTheme,dark_theme:t.stackColor.darkTheme})}}class zH extends KO{static type="EmojiPicker";id;categories;category_buttons;search_placeholder;search_no_results;pick_skin_tone;clear_search_label;skin_tone_generic_label;skin_tone_light_label;skin_tone_medium_light_label;skin_tone_medium_label;skin_tone_medium_dark_label;skin_tone_dark_label;constructor(t){super(),this.id=t.id,this.categories=WG(t.categories),this.category_buttons=WG(t.categoryButtons),this.search_placeholder=new HU(t.searchPlaceholderText),this.search_no_results=new HU(t.searchNoResultsText),this.pick_skin_tone=new HU(t.pickSkinToneText),this.clear_search_label=t.clearSearchLabel,this.skin_tone_generic_label=t.skinToneGenericLabel,this.skin_tone_light_label=t.skinToneLightLabel,this.skin_tone_medium_light_label=t.skinToneMediumLightLabel,this.skin_tone_medium_label=t.skinToneMediumLabel,this.skin_tone_medium_dark_label=t.skinToneMediumDarkLabel,this.skin_tone_dark_label=t.skinToneDarkLabel}}class QH extends KO{static type="CommentReplies";contents;view_replies;hide_replies;view_replies_creator_thumbnail;has_channel_owner_replied;constructor(t){super(),this.contents=WG(t.contents),this.view_replies=HG(t.viewReplies,RU),this.hide_replies=HG(t.hideReplies,RU),this.view_replies_creator_thumbnail=BU.fromResponse(t.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!t.viewRepliesCreatorThumbnail}}class XH extends KO{static type="CommentReplyDialog";reply_button;cancel_button;author_thumbnail;placeholder;error_message;constructor(t){super(),this.reply_button=HG(t.replyButton,RU),this.cancel_button=HG(t.cancelButton,RU),this.author_thumbnail=BU.fromResponse(t.authorThumbnail),this.placeholder=new HU(t.placeholderText),this.error_message=new HU(t.errorMessage)}}class JH extends KO{static type="CommentsSimplebox";simplebox_avatar;simplebox_placeholder;constructor(t){super(),this.simplebox_avatar=BU.fromResponse(t.simpleboxAvatar),this.simplebox_placeholder=new HU(t.simpleboxPlaceholder)}}class ZH extends KO{static type="CommentsEntryPointTeaser";teaser_avatar;teaser_content;constructor(t){super(),Reflect.has(t,"teaserAvatar")&&(this.teaser_avatar=BU.fromResponse(t.teaserAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new HU(t.teaserContent))}}class tW extends KO{static type="CommentsHeader";title;count;comments_count;create_renderer;sort_menu;custom_emojis;constructor(t){super(),this.title=new HU(t.titleText),this.count=new HU(t.countText),this.comments_count=new HU(t.commentsCount),this.create_renderer=HG(t.createRenderer),this.sort_menu=HG(t.sortMenu,ZU),Reflect.has(t,"customEmojis")&&(this.custom_emojis=t.customEmojis.map(t=>({emoji_id:t.emojiId,shortcuts:t.shortcuts,search_terms:t.searchTerms,image:BU.fromResponse(t.image),is_custom_emoji:t.isCustomEmoji})))}}class eW extends KO{static type="VoiceReplyContainerView";voice_reply_unavailable_text;transcript_text;constructor(t){super(),this.voice_reply_unavailable_text=HU.fromAttributed(t.voiceReplyUnavailableText),this.transcript_text=HU.fromAttributed(t.transcriptText)}}class iW extends KO{static type="CommentView";#n;like_command;dislike_command;unlike_command;undislike_command;reply_command;prepare_account_command;comment_id;is_pinned;keys;content;published_time;author_is_channel_owner;creator_thumbnail_url;like_button_a11y;like_count;like_count_liked;like_count_a11y;like_active_tooltip;like_inactive_tooltip;dislike_active_tooltip;dislike_inactive_tooltip;heart_active_tooltip;reply_count;reply_count_a11y;is_member;member_badge;author;is_liked;is_disliked;is_hearted;voice_reply_container;constructor(t){super(),this.comment_id=t.commentId,this.is_pinned=!!t.pinnedText,this.keys={comment:t.commentKey,comment_surface:t.commentSurfaceKey,toolbar_state:t.toolbarStateKey,toolbar_surface:t.toolbarSurfaceKey,shared:t.sharedKey}}applyMutations(t,e,i,s){t&&(this.content=HU.fromAttributed(t.properties.content),this.published_time=t.properties.publishedTime,this.author_is_channel_owner=!!t.author.isCreator,this.creator_thumbnail_url=t.toolbar.creatorThumbnailUrl,this.like_count=t.toolbar.likeCountNotliked?t.toolbar.likeCountNotliked:"0",this.like_count_liked=t.toolbar.likeCountLiked?t.toolbar.likeCountLiked:"0",this.like_count_a11y=t.toolbar.likeCountA11y,this.like_active_tooltip=t.toolbar.likeActiveTooltip,this.like_inactive_tooltip=t.toolbar.likeInactiveTooltip,this.dislike_active_tooltip=t.toolbar.dislikeActiveTooltip,this.dislike_inactive_tooltip=t.toolbar.dislikeInactiveTooltip,this.like_button_a11y=t.toolbar.likeButtonA11y,this.heart_active_tooltip=t.toolbar.heartActiveTooltip,this.reply_count_a11y=t.toolbar.replyCountA11y,this.reply_count=t.toolbar.replyCount?t.toolbar.replyCount:"0",this.is_member=!!t.author.sponsorBadgeUrl,Reflect.has(t.author,"sponsorBadgeUrl")&&(this.member_badge={url:t.author.sponsorBadgeUrl,a11y:t.author.A11y}),this.author=new YG({simpleText:t.author.displayName,navigationEndpoint:t.avatar.endpoint},t.author,t.avatar.image,t.author.channelId)),e&&(this.is_hearted="TOOLBAR_HEART_STATE_HEARTED"===e.heartState,this.is_liked="TOOLBAR_LIKE_STATE_LIKED"===e.likeState,this.is_disliked="TOOLBAR_LIKE_STATE_DISLIKED"===e.likeState),i&&("prepareAccountCommand"in i?this.prepare_account_command=new NU(i.prepareAccountCommand):(this.like_command=new NU(i.likeCommand),this.dislike_command=new NU(i.dislikeCommand),this.unlike_command=new NU(i.unlikeCommand),this.undislike_command=new NU(i.undislikeCommand),this.reply_command=new NU(i.replyCommand))),s&&"voiceReplyContainerViewModel"in s&&(this.voice_reply_container=HG(s.voiceReplyContainerViewModel,eW))}async like(){if(!this.#n)throw new zG("Actions instance not set for this comment.");if(!this.like_command)throw new zG("Like command not found.");if(this.is_liked)throw new zG("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(this.#n)}async dislike(){if(!this.#n)throw new zG("Actions instance not set for this comment.");if(!this.dislike_command)throw new zG("Dislike command not found.");if(this.is_disliked)throw new zG("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(this.#n)}async unlike(){if(!this.#n)throw new zG("Actions instance not set for this comment.");if(!this.unlike_command)throw new zG("Unlike command not found.");if(!this.is_liked)throw new zG("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(this.#n)}async undislike(){if(!this.#n)throw new zG("Actions instance not set for this comment.");if(!this.undislike_command)throw new zG("Undislike command not found.");if(!this.is_disliked)throw new zG("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(this.#n)}async reply(t){if(!this.#n)throw new zG("Actions instance not set for this comment.");if(!this.reply_command)throw new zG("Reply command not found.");const e=this.reply_command.dialog?.as(XH);if(!e)throw new zG("Reply dialog not found.");const i=e.reply_button;if(!i)throw new zG("Reply button not found in the dialog.");if(!i.endpoint)throw new zG("Reply button endpoint not found.");return i.endpoint.call(this.#n,{commentText:t})}async translate(t){if(!this.#n)throw new zG("Actions instance not set for this comment.");if(!this.content)throw new zG("Comment content not found.",{comment_id:this.comment_id});const e=EU(22,{text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:t}),i=await this.#n.execute("comment/perform_comment_action",{action:e}),s=i.data.frameworkUpdates?.entityBatchUpdate?.mutations,n=s?.[0]?.payload?.commentEntityPayload?.translatedContent?.content;return{...i,content:n}}setActions(t){this.#n=t}}class sW extends KO{static type="PlaylistCustomThumbnail";thumbnail;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail)}}class nW extends KO{static type="PlaylistVideoThumbnail";thumbnail;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail)}}class aW extends KO{static type="Playlist";id;title;author;thumbnails;thumbnail_renderer;video_count;video_count_short;first_videos;share_url;menu;badges;endpoint;thumbnail_overlays;view_playlist;constructor(t){super(),this.id=t.playlistId,this.title=new HU(t.title),this.author=t.shortBylineText?.simpleText?new HU(t.shortBylineText):new YG(t.longBylineText,t.ownerBadges,null),this.thumbnails=BU.fromResponse(t.thumbnail||{thumbnails:t.thumbnails.map(t=>t.thumbnails).flat(1)}),this.video_count=new HU(t.thumbnailText),this.video_count_short=new HU(t.videoCountShortText),this.first_videos=WG(t.videos),this.share_url=t.shareUrl||null,this.menu=HG(t.menu),this.badges=WG(t.ownerBadges),this.endpoint=new NU(t.navigationEndpoint),this.thumbnail_overlays=WG(t.thumbnailOverlays),Reflect.has(t,"thumbnailRenderer")&&(this.thumbnail_renderer=HG(t.thumbnailRenderer,[nW,sW])||void 0),Reflect.has(t,"viewPlaylistText")&&(this.view_playlist=new HU(t.viewPlaylistText))}}class oW extends KO{static type="ContentMetadataView";metadata_rows;delimiter;constructor(t){super(),this.metadata_rows=t.metadataRows.map(e=>({metadata_parts:e.metadataParts?.map(e=>({text:e.text?HU.fromAttributed(e.text):null,avatar_stack:HG(e.avatarStack,_F),enable_truncation:t.enableTruncation})),badges:WG(e.badges,LF)})),this.delimiter=t.delimiter}}class rW extends KO{static type="Message";text;constructor(t){super(),this.text=new HU(t.text)}}class cW extends KO{static type="CopyLink";copy_button;short_url;style;constructor(t){super(),this.copy_button=HG(t.copyButton,RU),this.short_url=t.shortUrl,this.style=t.style}}class lW extends KO{static type="DropdownView";label;placeholder_text;disabled;options;dropdown_type;id;constructor(t){super(),this.label=new HU(t.label),this.placeholder_text=new HU(t.placeholderText),this.disabled=!!t.disabled,this.dropdown_type=t.type,this.id=t.id,Reflect.has(t,"options")&&(this.options=t.options.map(t=>({title:new HU(t.title),subtitle:new HU(t.subtitle),leading_image:BU.fromResponse(t.leadingImage),value:{privacy_status_value:t.value?.privacyStatusValue},on_tap:new NU(t.onTap),is_selected:!!t.isSelected})))}}class hW extends KO{static type="TextFieldView";display_properties;content_properties;initial_state;form_field_metadata;constructor(t){super(),Reflect.has(t,"displayProperties")&&(this.display_properties={isMultiline:!!t.displayProperties.isMultiline,disableNewLines:!!t.displayProperties.disableNewLines}),Reflect.has(t,"contentProperties")&&(this.content_properties={labelText:t.contentProperties.labelText,placeholderText:t.contentProperties.placeholderText,maxCharacterCount:t.contentProperties.maxCharacterCount}),Reflect.has(t,"initialState")&&(this.initial_state={isFocused:!!t.initialState.isFocused}),Reflect.has(t,"formFieldMetadata")&&(this.form_field_metadata={formId:t.formFieldMetadata.formId,fieldId:t.formFieldMetadata.fieldId})}}class dW extends KO{static type="CreatePlaylistDialogFormView";playlist_title;playlist_visibility;disable_playlist_collaborate;create_playlist_params_collaboration_enabled;create_playlist_params_collaboration_disabled;video_ids;constructor(t){super(),this.playlist_title=HG(t.playlistTitle,hW),this.playlist_visibility=HG(t.playlistVisibility,lW),this.disable_playlist_collaborate=!!t.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=t.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=t.createPlaylistParamsCollaborationDisabled,this.video_ids=t.videoIds}}class uW extends KO{static type="DecoratedAvatarView";avatar;a11y_label;renderer_context;constructor(t){super(),this.avatar=HG(t.avatar,uF),this.a11y_label=t.a11yLabel,this.renderer_context=new mF(t.rendererContext)}}class pW extends KO{static type="HeatMarker";time_range_start_millis;marker_duration_millis;heat_marker_intensity_score_normalized;constructor(t){super(),this.time_range_start_millis=Number.parseInt(t.startMillis,10),this.marker_duration_millis=Number.parseInt(t.durationMillis,10),this.heat_marker_intensity_score_normalized=t.intensityScoreNormalized}}class mW extends KO{static type="TimedMarkerDecoration";visible_time_range_start_millis;visible_time_range_end_millis;decoration_time_millis;label;icon;constructor(t){super(),this.visible_time_range_start_millis=t.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=t.visibleTimeRangeEndMillis,this.decoration_time_millis=t.decorationTimeMillis,this.label=new HU(t.label),this.icon=t.icon}}class _W extends KO{static type="Heatmap";max_height_dp;min_height_dp;show_hide_animation_duration_millis;heat_markers;heat_markers_decorations;constructor(t){super(),this.max_height_dp=t.maxHeightDp,this.min_height_dp=t.minHeightDp,this.show_hide_animation_duration_millis=t.showHideAnimationDurationMillis,this.heat_markers=WG(t.heatMarkers,pW),this.heat_markers_decorations=WG(t.heatMarkersDecorations,mW)}}class fW extends KO{static type="Marker";marker_key;value;constructor(t){super(),this.marker_key=t.key,this.value={},Reflect.has(t,"value")&&(Reflect.has(t.value,"heatmap")&&(this.value.heatmap=HG(t.value.heatmap,_W)),Reflect.has(t.value,"chapters")&&(this.value.chapters=WG(t.value.chapters,VH)))}}class yW extends KO{static type="MultiMarkersPlayerBar";markers_map;constructor(t){super(),this.markers_map=QO(t.markersMap?.map(t=>new fW(t))||[])}}class bW extends KO{static type="DecoratedPlayerBar";player_bar;player_bar_action_button;constructor(t){super(),this.player_bar=HG(t.playerBar,yW),this.player_bar_action_button=HG(t.playerBarActionButton,RU)}}class gW extends KO{static type="DescriptionPreviewView";description;max_lines;truncation_text;always_show_truncation_text;more_endpoint;renderer_context;constructor(t){if(super(),Reflect.has(t,"description")&&(this.description=HU.fromAttributed(t.description)),Reflect.has(t,"maxLines")&&(this.max_lines=parseInt(t.maxLines)),Reflect.has(t,"truncationText")&&(this.truncation_text=HU.fromAttributed(t.truncationText)),this.always_show_truncation_text=!!t.alwaysShowTruncationText,t.rendererContext.commandContext?.onTap?.innertubeCommand?.showEngagementPanelEndpoint){const e=t.rendererContext.commandContext?.onTap?.innertubeCommand?.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:HG(e.engagementPanel,PH),engagement_panel_popup_type:e.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.identifier.surface,tag:e.identifier.tag}}}}this.renderer_context=new mF(t.rendererContext)}}class vW extends KO{static type="DialogHeaderView";headline;constructor(t){super(),this.headline=HU.fromAttributed(t.headline)}}class wW extends KO{static type="PanelFooterView";primary_button;secondary_button;should_hide_divider;constructor(t){super(),this.primary_button=HG(t.primaryButton,fF),this.secondary_button=HG(t.secondaryButton,fF),this.should_hide_divider=!!t.shouldHideDivider}}class xW extends KO{static type="FormFooterView";panel_footer;form_id;container_type;constructor(t){super(),this.panel_footer=HG(t.panelFooter,wW),this.form_id=t.formId,this.container_type=t.containerType}}class kW extends KO{static type="SubscribeButtonView";subscribe_button_content;unsubscribe_button_content;disable_notification_bell;button_style;is_signed_out;background_style;disable_subscribe_button;on_show_subscription_options;channel_id;enable_subscribe_button_post_click_animation;bell_accessiblity_data;constructor(t){super(),this.subscribe_button_content=this.#a(t.subscribeButtonContent),this.unsubscribe_button_content=this.#a(t.unsubscribeButtonContent),this.disable_notification_bell=t.disableNotificationBell,this.button_style={unsubscribed_state_style:t.buttonStyle.unsubscribedStateStyle,subscribed_state_style:t.buttonStyle.subscribedStateStyle},this.is_signed_out=t.isSignedOut,this.background_style=t.backgroundStyle,this.disable_subscribe_button=t.disableSubscribeButton,this.on_show_subscription_options=new NU(t.onShowSubscriptionOptions),this.channel_id=t.channelId,this.enable_subscribe_button_post_click_animation=t.enableSubscribeButtonPostClickAnimation,this.bell_accessiblity_data={off_label:t.bellAccessibilityData.offLabel,all_label:t.bellAccessibilityData.allLabel,occasional_label:t.bellAccessibilityData.occasionalLabel,disabled_label:t.bellAccessibilityData.disabledLabel}}#a(t){return{button_text:t.buttonText,accessibility_text:t.accessibilityText,image_name:t.imageName,subscribe_state_subscribed:t.subscribeState.subscribed,endpoint:new NU(t.onTapCommand)}}}class SW extends KO{static type="ListItemView";title;subtitle;leading_accessory;renderer_context;trailing_buttons;constructor(t){super(),this.title=HU.fromAttributed(t.title),this.subtitle=HU.fromAttributed(t.subtitle),this.leading_accessory=HG(t.leadingAccessory,uF),this.renderer_context=new mF(t.rendererContext),"trailingButtons"in t&&(this.trailing_buttons=WG(t.trailingButtons.buttons,kW))}}class CW extends KO{static type="ListView";items;constructor(t){super(),this.items=WG(t.listItems,SW)}}class TW extends KO{static type="DismissableDialogContentSection";title;subtitle;constructor(t){super(),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle)}}class IW extends KO{static type="DynamicTextView";text;max_lines;constructor(t){super(),this.text=HU.fromAttributed(t.text),this.max_lines=parseInt(t.maxLines)}}class EW extends KO{static type="ChildElement";text;properties;child_elements;constructor(t){super(),Reflect.has(t,"type")&&Reflect.has(t.type,"textType")&&(this.text=t.type.textType.text?.content),this.properties=t.properties,Reflect.has(t,"childElements")&&(this.child_elements=t.childElements.map(t=>new EW(t)))}}class PW extends KO{static type="Element";model;child_elements;constructor(t){if(super(),Reflect.has(t,"elementRenderer"))return HG(t,PW);const e=t.newElement.type.componentType;this.model=HG(e?.model),Reflect.has(t,"newElement")&&Reflect.has(t.newElement,"childElements")&&(this.child_elements=QO(t.newElement.childElements?.map(t=>new EW(t))||[]))}}class RW extends KO{static type="AddToPlaylistServiceEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"playlist/get_add_to_playlist"}buildRequest(){const t={};return t.videoIds=this.#o.videoIds?this.#o.videoIds:[this.#o.videoId],this.#o.playlistId&&(t.playlistId=this.#o.playlistId),this.#o.params&&(t.params=this.#o.params),t.excludeWatchLater=!!this.#o.excludeWatchLater,t}}class AW extends KO{static type="WatchEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"player"}buildRequest(){const t={};return this.#o.videoId&&(t.videoId=this.#o.videoId),this.#o.playlistId&&(t.playlistId=this.#o.playlistId),void 0===this.#o.index&&void 0===this.#o.playlistIndex||(t.playlistIndex=this.#o.index||this.#o.playlistIndex),(this.#o.playerParams||this.#o.params)&&(t.params=this.#o.playerParams||this.#o.params),this.#o.startTimeSeconds&&(t.startTimeSecs=this.#o.startTimeSeconds),this.#o.overrideMutedAtStart&&(t.overrideMutedAtStart=this.#o.overrideMutedAtStart),t.racyCheckOk=!!this.#o.racyCheckOk,t.contentCheckOk=!!this.#o.contentCheckOk,t}}class MW extends KO{static type="ShareEntityServiceEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"share/get_share_panel"}buildRequest(){const t={};return this.#o.serializedShareEntity&&(t.serializedSharedEntity=this.#o.serializedShareEntity),this.#o.clientParams&&(t.clientParams=this.#o.clientParams),t}}class LW extends KO{static type="EndScreenPlaylist";id;title;author;endpoint;thumbnails;video_count;constructor(t){super(),this.id=t.playlistId,this.title=new HU(t.title),this.author=new HU(t.longBylineText),this.endpoint=new NU(t.navigationEndpoint),this.thumbnails=BU.fromResponse(t.thumbnail),this.video_count=new HU(t.videoCountText)}}class DW extends KO{static type="EndScreenVideo";id;title;thumbnails;thumbnail_overlays;author;endpoint;short_view_count;badges;duration;constructor(t){super(),this.id=t.videoId,this.title=new HU(t.title),this.thumbnails=BU.fromResponse(t.thumbnail),this.thumbnail_overlays=WG(t.thumbnailOverlays),this.author=new YG(t.shortBylineText,t.ownerBadges),this.endpoint=new NU(t.navigationEndpoint),this.short_view_count=new HU(t.shortViewCountText),this.badges=WG(t.badges),this.duration={text:new HU(t.lengthText).toString(),seconds:t.lengthInSeconds}}}class NW extends KO{static type="ExpandableTab";title;endpoint;selected;content;constructor(t){super(),this.title=t.title,this.endpoint=new NU(t.endpoint),this.selected=t.selected,this.content=HG(t.content)}}class BW extends KO{static type="FeedFilterChipBar";contents;constructor(t){super(),this.contents=WG(t.contents,UH)}}class VW extends KO{static type="ShowCustomThumbnail";thumbnail;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail)}}class OW extends KO{static type="ThumbnailOverlayBottomPanel";text;icon_type;constructor(t){super(),Reflect.has(t,"text")&&(this.text=new HU(t.text)),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}}class UW extends KO{static type="GuideEntry";title;endpoint;icon_type;thumbnails;badges;is_primary;constructor(t){super(),this.title=new HU(t.formattedTitle),this.endpoint=new NU(t.navigationEndpoint||t.serviceEndpoint),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"thumbnail")&&(this.thumbnails=BU.fromResponse(t.thumbnail)),Reflect.has(t,"badges")&&(this.badges=t.badges),this.is_primary=!!t.isPrimary}}class FW extends KO{static type="GuideSection";title;items;constructor(t){super(),Reflect.has(t,"formattedTitle")&&(this.title=new HU(t.formattedTitle)),this.items=WG(t.items)}}let HW=class extends KO{static type="Panel";thumbnail;background_image;strapline;title;description;text_on_tap_endpoint;cta;constructor(t){super(),t.thumbnail&&(this.thumbnail={image:BU.fromResponse(t.thumbnail.image),endpoint:new NU(t.thumbnail.onTap),on_long_press_endpoint:new NU(t.thumbnail.onLongPress),content_mode:t.thumbnail.contentMode,crop_options:t.thumbnail.cropOptions}),this.background_image={image:BU.fromResponse(t.backgroundImage.image),gradient_image:BU.fromResponse(t.backgroundImage.gradientImage)},this.strapline=t.strapline,this.title=t.title,this.description=t.description,this.cta={icon_name:t.cta.iconName,title:t.cta.title,endpoint:new NU(t.cta.onTap),accessibility_text:t.cta.accessibilityText,state:t.cta.state},this.text_on_tap_endpoint=new NU(t.textOnTap)}};class WW extends KO{static type="SearchSuggestion";suggestion;endpoint;icon_type;service_endpoint;constructor(t){super(),this.suggestion=new HU(t.suggestion),this.endpoint=new NU(t.navigationEndpoint),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"serviceEndpoint")&&(this.service_endpoint=new NU(t.serviceEndpoint))}}class jW extends KO{static type="IconLink";icon_type;tooltip;endpoint;constructor(t){super(),this.icon_type=t.icon?.iconType,Reflect.has(t,"tooltip")&&(this.tooltip=new HU(t.tooltip).toString()),this.endpoint=new NU(t.navigationEndpoint)}}class GW extends KO{static type="ImageBannerView";image;style;constructor(t){super(),this.image=BU.fromResponse(t.image),this.style=t.style}}class $W extends KO{static type="InfoPanelContent";title;source;paragraphs;attributed_paragraphs;thumbnail;source_endpoint;truncate_paragraphs;background;inline_link_icon_type;constructor(t){super(),this.title=new HU(t.title),this.source=new HU(t.source),Reflect.has(t,"paragraphs")&&(this.paragraphs=t.paragraphs.map(t=>new HU(t))),Reflect.has(t,"attributedParagraphs")&&(this.attributed_paragraphs=t.attributedParagraphs.map(t=>HU.fromAttributed(t))),this.thumbnail=BU.fromResponse(t.thumbnail),this.source_endpoint=new NU(t.sourceEndpoint),this.truncate_paragraphs=!!t.truncateParagraphs,this.background=t.background,Reflect.has(t,"inlineLinkIcon")&&Reflect.has(t.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=t.inlineLinkIcon.iconType)}}class qW extends KO{static type="InfoPanelContainer";title;menu;content;header_endpoint;background;title_style;icon_type;constructor(t){super(),this.title=new HU(t.title),this.menu=HG(t.menu,AF),this.content=HG(t.content,$W),t.headerEndpoint&&(this.header_endpoint=new NU(t.headerEndpoint)),this.background=t.background,this.title_style=t.titleStyle,Reflect.has(t,"icon")&&(this.icon_type=t.icon?.iconType)}}class KW extends KO{static type="ItemSectionHeader";title;constructor(t){super(),this.title=new HU(t.title)}}class YW extends KO{static type="Tab";title;selected;endpoint;constructor(t){super(),this.title=new HU(t.title),this.selected=!!t.selected,this.endpoint=new NU(t.endpoint)}}class zW extends KO{static type="ItemSectionTabbedHeader";title;tabs;end_items;constructor(t){super(),this.title=new HU(t.title),this.tabs=WG(t.tabs,YW),Reflect.has(t,"endItems")&&(this.end_items=WG(t.endItems))}}class QW extends KO{static type="SortFilterHeader";filter_menu;constructor(t){super(),this.filter_menu=HG(t.filterMenu,ZU)}}class XW extends KO{static type="LiveChatBannerHeader";text;icon_type;context_menu_button;constructor(t){super(),this.text=new HU(t.text),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.context_menu_button=HG(t.contextMenuButton,RU)}}class JW extends KO{static type="LiveChatBanner";header;contents;action_id;viewer_is_creator;target_id;is_stackable;background_type;banner_type;banner_properties_is_ephemeral;banner_properties_auto_collapse_delay_seconds;constructor(t){super(),this.header=HG(t.header,XW),this.contents=HG(t.contents),this.action_id=t.actionId,Reflect.has(t,"viewerIsCreator")&&(this.viewer_is_creator=t.viewerIsCreator),this.target_id=t.targetId,this.is_stackable=t.isStackable,Reflect.has(t,"backgroundType")&&(this.background_type=t.backgroundType),this.banner_type=t.bannerType,Reflect.has(t,"bannerProperties")&&Reflect.has(t.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=Boolean(t.bannerProperties.isEphemeral)),Reflect.has(t,"bannerProperties")&&Reflect.has(t.bannerProperties,"autoCollapseDelay")&&Reflect.has(t.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=t.bannerProperties.autoCollapseDelay.seconds)}}class ZW extends KO{static type="BumperUserEduContentView";text;image_name;image_color;constructor(t){super(),this.text=HU.fromAttributed(t.text),this.image_name=t.image.sources[0].clientResource.imageName,this.image_color=t.image.sources[0].clientResource.imageColor}}class tj extends KO{static type="CreatorHeartView";creator_thumbnail;hearted_icon_name;unhearted_icon_name;unhearted_icon_processor;hearted_hover_text;hearted_accessibility_label;unhearted_accessibility_label;engagement_state_key;constructor(t){super(),this.creator_thumbnail=BU.fromResponse(t.creatorThumbnail),this.hearted_icon_name=t.heartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_name=t.unheartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_processor={border_image_processor:{image_tint:{color:t.unheartedIcon.processor.borderImageProcessor.imageTint.color}}},this.hearted_hover_text=t.heartedHoverText,this.hearted_accessibility_label=t.heartedAccessibilityLabel,this.unhearted_accessibility_label=t.unheartedAccessibilityLabel,this.engagement_state_key=t.engagementStateKey}}class ej extends KO{static type="LiveChatItemBumperView";content;constructor(t){super(),this.content=HG(t.content,ZW)}}class ij extends KO{static type="PdgReplyButtonView";reply_button;reply_count_entity_key;reply_count_placeholder;constructor(t){super(),this.reply_button=HG(t.replyButton,fF),this.reply_count_entity_key=t.replyCountEntityKey,this.reply_count_placeholder=HU.fromAttributed(t.replyCountPlaceholder)}}class sj extends aH{static type="LiveChatAuthorBadge";custom_thumbnail;constructor(t){super(t),this.custom_thumbnail=BU.fromResponse(t.customThumbnail)}}class nj extends KO{static type="LiveChatSponsorshipsHeader";author_name;author_photo;author_badges;primary_text;menu_endpoint;context_menu_accessibility_label;image;constructor(t){super(),this.author_name=new HU(t.authorName),this.author_photo=BU.fromResponse(t.authorPhoto),this.author_badges=WG(t.authorBadges,sj),this.primary_text=new HU(t.primaryText),this.menu_endpoint=new NU(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label,this.image=BU.fromResponse(t.image)}}class aj extends KO{static type="LiveChatActionPanel";id;contents;target_id;constructor(t){super(),this.id=t.id,this.contents=jG(t.contents),this.target_id=t.targetId}}class oj extends KO{static type="LiveChatParticipant";name;photo;badges;constructor(t){super(),this.name=new HU(t.authorName),this.photo=BU.fromResponse(t.authorPhoto),this.badges=WG(t.authorBadges)}}class rj extends KO{static type="LockupMetadataView";title;metadata;image;menu_button;constructor(t){super(),this.title=HU.fromAttributed(t.title),this.metadata=HG(t.metadata,oW),this.image=HG(t.image,[uW,_F]),this.menu_button=HG(t.menuButton,fF)}}class cj extends KO{static type="LockupView";content_image;metadata;content_id;content_type;renderer_context;constructor(t){super(),this.content_image=HG(t.contentImage,[YH,KH]),this.metadata=HG(t.metadata,rj),this.content_id=t.contentId,this.content_type=t.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.renderer_context=new mF(t.rendererContext)}}class lj extends RU{static type="MenuNavigationItem";constructor(t){super(t)}}class hj extends KO{static type="Notification";thumbnails;video_thumbnails;short_message;sent_time;notification_id;endpoint;record_click_endpoint;menu;read;constructor(t){super(),this.thumbnails=BU.fromResponse(t.thumbnail),this.video_thumbnails=BU.fromResponse(t.videoThumbnail),this.short_message=new HU(t.shortMessage),this.sent_time=new HU(t.sentTimeText),this.notification_id=t.notificationId,this.endpoint=new NU(t.navigationEndpoint),this.record_click_endpoint=new NU(t.recordClickEndpoint),this.menu=HG(t.contextualMenu),this.read=t.read}}class dj extends KO{static type="MusicMenuItemDivider";constructor(t){super()}}class uj extends KO{static type="MusicMultiSelectMenuItem";title;form_item_entity_key;selected_icon_type;endpoint;selected;constructor(t){super(),this.title=new HU(t.title).toString(),this.form_item_entity_key=t.formItemEntityKey,Reflect.has(t,"selectedIcon")&&(this.selected_icon_type=t.selectedIcon.iconType),Reflect.has(t,"selectedCommand")&&(this.endpoint=new NU(t.selectedCommand)),this.selected=!!this.endpoint}}class pj extends KO{static type="MusicMultiSelectMenu";title;options;constructor(t){super(),Reflect.has(t,"title")&&Reflect.has(t.title,"musicMenuTitleRenderer")&&(this.title=new HU(t.title.musicMenuTitleRenderer?.primaryText)),this.options=WG(t.options,[uj,dj])}}class mj extends KO{static type="MetadataRowContainer";rows;collapsed_item_count;constructor(t){super(),this.rows=WG(t.rows),this.collapsed_item_count=t.collapsedItemCount}}class _j extends KO{static type="MusicCardShelfHeaderBasic";title;constructor(t){super(),this.title=new HU(t.title)}}class fj extends KO{static type="MusicInlineBadge";icon_type;accessibility;constructor(t){super(),this.icon_type=t.icon.iconType,"accessibilityData"in t&&"accessibilityData"in t.accessibilityData&&(this.accessibility={accessibility_data:new JO(t.accessibilityData.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}}class yj extends KO{static type="MusicPlayButton";endpoint;play_icon_type;pause_icon_type;icon_color;accessibility_play_data;accessibility_pause_data;constructor(t){super(),this.endpoint=new NU(t.playNavigationEndpoint),this.play_icon_type=t.playIcon.iconType,this.pause_icon_type=t.pauseIcon.iconType,"accessibilityPlayData"in t&&"accessibilityData"in t.accessibilityPlayData&&(this.accessibility_play_data={accessibility_data:new JO(t.accessibilityPlayData.accessibilityData)}),"accessibilityPauseData"in t&&"accessibilityData"in t.accessibilityPauseData&&(this.accessibility_pause_data={accessibility_data:new JO(t.accessibilityPauseData.accessibilityData)}),this.icon_color=t.iconColor}get play_label(){return this.accessibility_play_data?.accessibility_data?.label}get pause_label(){return this.accessibility_pause_data?.accessibility_data?.label}}class bj extends KO{static type="MusicItemThumbnailOverlay";content;content_position;display_style;constructor(t){super(),this.content=HG(t.content,yj),this.content_position=t.contentPosition,this.display_style=t.displayStyle}}class gj extends KO{static type="MusicThumbnail";contents;constructor(t){super(),this.contents=BU.fromResponse(t.thumbnail)}}class vj extends KO{static type="MusicCarouselShelfBasicHeader";title;strapline;thumbnail;more_content;end_icons;constructor(t){super(),this.title=new HU(t.title),Reflect.has(t,"strapline")&&(this.strapline=new HU(t.strapline)),Reflect.has(t,"thumbnail")&&(this.thumbnail=HG(t.thumbnail,gj)),Reflect.has(t,"moreContentButton")&&(this.more_content=HG(t.moreContentButton,RU)),Reflect.has(t,"endIcons")&&(this.end_icons=WG(t.endIcons,jW))}}class wj extends KO{static type="MusicMultiRowListItem";thumbnail;overlay;on_tap;menu;subtitle;title;second_title;description;display_style;constructor(t){super(),this.thumbnail=HG(t.thumbnail,gj),this.overlay=HG(t.overlay,bj),this.on_tap=new NU(t.onTap),this.menu=HG(t.menu,AF),this.subtitle=new HU(t.subtitle),this.title=new HU(t.title),Reflect.has(t,"secondTitle")&&(this.second_title=new HU(t.secondTitle)),Reflect.has(t,"description")&&(this.description=new HU(t.description)),Reflect.has(t,"displayStyle")&&(this.display_style=t.displayStyle)}}class xj extends KO{static type="MusicNavigationButton";button_text;endpoint;constructor(t){super(),this.button_text=new HU(t.buttonText).toString(),this.endpoint=new NU(t.clickCommand)}}class kj extends KO{static type="musicResponsiveListItemFlexColumnRenderer";title;display_priority;constructor(t){super(),this.title=new HU(t.text),this.display_priority=t.displayPriority}}class Sj extends KO{static type="MusicResponsiveListItemFlexColumn";title;display_priority;constructor(t){super(),this.title=new HU(t.text),this.display_priority=t.displayPriority}}class Cj extends KO{static type="MusicResponsiveListItem";flex_columns;fixed_columns;endpoint;item_type;index;thumbnail;badges;menu;overlay;id;title;duration;album;artists;views;authors;name;subtitle;subscribers;song_count;author;item_count;year;constructor(t){super(),this.flex_columns=WG(t.flexColumns,Sj),this.fixed_columns=WG(t.fixedColumns,kj);const e={video_id:t?.playlistItemData?.videoId||null,playlist_set_video_id:t?.playlistItemData?.playlistSetVideoId||null};Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new NU(t.navigationEndpoint));let i=this.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType;if(!i){this.flex_columns.find(t=>"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"===t.title.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType)&&(i="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE")}switch(i){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",this.#r();break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",this.#c();break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",this.#l();break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",this.#h();break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",this.#d(e);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",this.#u();break;default:this.flex_columns[1]?this.#p(e):this.#m()}Reflect.has(t,"index")&&(this.index=new HU(t.index)),Reflect.has(t,"thumbnail")&&(this.thumbnail=HG(t.thumbnail,gj)),Reflect.has(t,"badges")&&(this.badges=WG(t.badges)),Reflect.has(t,"menu")&&(this.menu=HG(t.menu,AF)),Reflect.has(t,"overlay")&&(this.overlay=HG(t.overlay,bj))}#m(){this.title=this.flex_columns[0].title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"}#p(t){const e=this.flex_columns.at(0)?.title.runs?.at(0)?.endpoint?.payload?.watchEndpointMusicSupportedConfigs?.watchEndpointMusicConfig?.musicVideoType;switch(e){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",this.#_(t);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",this.#f(t);break;default:this.#m()}}#f(t){this.id=t.video_id||this.endpoint?.payload?.videoId,this.title=this.flex_columns[0].title.toString();const e=this.flex_columns.at(1)?.title.runs?.find(t=>/^\d+$/.test(t.text.replace(/:/g,"")))?.text||this.fixed_columns[0]?.title?.toString();e&&(this.duration={text:e,seconds:JG(e)});const i=this.flex_columns.at(1)?.title.runs?.find(t=>ZG(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("MPR"))||this.flex_columns.at(2)?.title.runs?.find(t=>ZG(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("MPR"));i&&ZG(i)&&(this.album={id:i.endpoint?.payload?.browseId,name:i.text,endpoint:i.endpoint});const s=this.flex_columns.at(1)?.title.runs?.filter(t=>ZG(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC"));s&&(this.artists=s.map(t=>({name:t.text,channel_id:ZG(t)?t.endpoint?.payload?.browseId:void 0,endpoint:ZG(t)?t.endpoint:void 0})))}#_(t){this.id=t.video_id,this.title=this.flex_columns[0].title.toString(),this.views=this.flex_columns.at(1)?.title.runs?.find(t=>t.text.match(/(.*?) views/))?.toString();const e=this.flex_columns.at(1)?.title.runs?.filter(t=>ZG(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC"));e&&(this.authors=e.map(t=>({name:t.text,channel_id:ZG(t)?t.endpoint?.payload?.browseId:void 0,endpoint:ZG(t)?t.endpoint:void 0})));const i=this.flex_columns[1].title.runs?.find(t=>/^\d+$/.test(t.text.replace(/:/g,"")))?.text||this.fixed_columns[0]?.title.runs?.find(t=>/^\d+$/.test(t.text.replace(/:/g,"")))?.text;i&&(this.duration={text:i,seconds:JG(i)})}#l(){this.id=this.endpoint?.payload?.browseId,this.name=this.flex_columns[0].title.toString(),this.subtitle=this.flex_columns.at(1)?.title,this.subscribers=this.subtitle?.runs?.find(t=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(t.text))?.text||""}#h(){this.name=this.flex_columns[0].title.toString(),this.subtitle=this.flex_columns.at(1)?.title,this.song_count=this.subtitle?.runs?.find(t=>/^\d+(,\d+)? songs?$/i.test(t.text))?.text||""}#d(t){this.id=t.video_id||this.endpoint?.payload?.videoId,this.title=this.flex_columns[0].title.toString()}#u(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString()}#r(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString();const t=this.flex_columns.at(1)?.title.runs?.find(t=>ZG(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC"));t&&ZG(t)&&(this.author={name:t.text,channel_id:t.endpoint?.payload?.browseId,endpoint:t.endpoint}),this.year=this.flex_columns.at(1)?.title.runs?.find(t=>/^[12][0-9]{3}$/.test(t.text))?.text}#c(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString();const t=this.flex_columns.at(1)?.title.runs?.find(t=>t.text.match(/\d+ (song|songs)/));this.item_count=t?t.text:void 0;const e=this.flex_columns.at(1)?.title.runs?.find(t=>ZG(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC"));e&&ZG(e)&&(this.author={name:e.text,channel_id:e.endpoint?.payload?.browseId,endpoint:e.endpoint})}get thumbnails(){return this.thumbnail?.contents||[]}}class Tj extends KO{static type="MusicTwoRowItem";title;endpoint;id;subtitle;badges;item_type;subscribers;item_count;year;views;artists;author;thumbnail;thumbnail_overlay;menu;constructor(t){super(),this.title=new HU(t.title),this.endpoint=new NU(t.navigationEndpoint),this.id=this.endpoint?.payload?.browseId||this.endpoint?.payload?.videoId,this.subtitle=new HU(t.subtitle),this.badges=jG(t.subtitleBadges);const e=this.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType;switch(e){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:"/next"===this.endpoint?.metadata?.api_url?this.item_type="endpoint":this.subtitle.runs?.[0]?"Song"!==this.subtitle.runs[0].text?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown"}if("artist"==this.item_type)this.subscribers=this.subtitle.runs?.find(t=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(t.text))?.text||"";else if("playlist"==this.item_type){const t=this.subtitle.runs?.find(t=>t.text.match(/\d+ songs|song/));this.item_count=t?t.text:null}else if("album"==this.item_type){const t=this.subtitle.runs?.filter(t=>t.endpoint?.payload?.browseId.startsWith("UC"));t&&(this.artists=t.map(t=>({name:t.text,channel_id:t.endpoint?.payload?.browseId,endpoint:t.endpoint}))),this.year=this.subtitle.runs?.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if("video"==this.item_type){this.views=this?.subtitle.runs?.find(t=>t?.text.match(/(.*?) views/))?.text||"N/A";const t=this.subtitle.runs?.find(t=>t.endpoint?.payload?.browseId?.startsWith("UC"));t&&(this.author={name:t?.text,channel_id:t?.endpoint?.payload?.browseId,endpoint:t?.endpoint})}else if("song"==this.item_type){const t=this.subtitle.runs?.filter(t=>t.endpoint?.payload?.browseId.startsWith("UC"));t&&(this.artists=t.map(t=>({name:t?.text,channel_id:t?.endpoint?.payload?.browseId,endpoint:t?.endpoint})))}this.thumbnail=BU.fromResponse(t.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=HG(t.thumbnailOverlay,bj),this.menu=HG(t.menu,AF)}}class Ij extends KO{static type="MusicDescriptionShelf";description;max_collapsed_lines;max_expanded_lines;footer;constructor(t){super(),this.description=new HU(t.description),Reflect.has(t,"maxCollapsedLines")&&(this.max_collapsed_lines=t.maxCollapsedLines),Reflect.has(t,"maxExpandedLines")&&(this.max_expanded_lines=t.maxExpandedLines),this.footer=new HU(t.footer)}}class Ej{static type="ActionButton";icon_name;endpoint;a11y_text;style;constructor(t){this.icon_name=t.iconName,this.endpoint=new NU(t.onTap),this.a11y_text=t.a11yText,this.style=t.style}}class Pj{static type="Panel";image;content_mode;crop_options;image_aspect_ratio;caption;action_buttons;constructor(t){this.image=BU.fromResponse(t.image.image),this.content_mode=t.image.contentMode,this.crop_options=t.image.cropOptions,this.image_aspect_ratio=t.imageAspectRatio,this.caption=t.caption,this.action_buttons=t.actionButtons.map(t=>new Ej(t))}}class Rj extends KO{static type="PlaylistPanelVideo";title;thumbnail;endpoint;selected;video_id;duration;author;album;artists;badges;menu;set_video_id;constructor(t){super(),this.title=new HU(t.title),this.thumbnail=BU.fromResponse(t.thumbnail),this.endpoint=new NU(t.navigationEndpoint),this.selected=t.selected,this.video_id=t.videoId,this.duration={text:new HU(t.lengthText).toString(),seconds:JG(new HU(t.lengthText).toString())};const e=new HU(t.longBylineText).runs?.find(t=>t.endpoint?.payload?.browseId?.startsWith("MPR")),i=new HU(t.longBylineText).runs?.filter(t=>t.endpoint?.payload?.browseId?.startsWith("UC"));this.author=new HU(t.shortBylineText).toString(),e&&(this.album={id:e.endpoint?.payload?.browseId,name:e.text,year:new HU(t.longBylineText).runs?.slice(-1)[0].text,endpoint:e.endpoint}),i&&(this.artists=i.map(t=>({name:t.text,channel_id:t.endpoint?.payload?.browseId,endpoint:t.endpoint}))),this.badges=WG(t.badges),this.menu=HG(t.menu),this.set_video_id=t.playlistSetVideoId}}class Aj extends KO{static type="PlaylistPanelVideoWrapper";primary;counterpart;constructor(t){super(),this.primary=HG(t.primaryRenderer,Rj),Reflect.has(t,"counterpart")&&(this.counterpart=QO(t.counterpart.map(t=>HG(t.counterpartRenderer,Rj))||[]))}}class Mj extends KO{static type="PlaylistPanel";title;title_text;contents;playlist_id;is_infinite;continuation;is_editable;preview_description;num_items_to_show;constructor(t){super(),this.title=t.title,this.title_text=new HU(t.titleText),this.contents=WG(t.contents,[Aj,Rj,dF]),this.playlist_id=t.playlistId,this.is_infinite=t.isInfinite,this.continuation=t.continuations?.[0]?.nextRadioContinuationData?.continuation||t.continuations?.[0]?.nextContinuationData?.continuation,this.is_editable=t.isEditable,this.preview_description=t.previewDescription,this.num_items_to_show=t.numItemsToShow}}class Lj extends KO{static type="MusicQueue";content;constructor(t){super(),this.content=HG(t.content,Mj)}}class Dj extends KO{static type="MusicShelf";title;contents;endpoint;continuation;bottom_text;bottom_button;subheaders;constructor(t){super(),this.title=new HU(t.title),this.contents=WG(t.contents,Cj),Reflect.has(t,"bottomEndpoint")&&(this.endpoint=new NU(t.bottomEndpoint)),Reflect.has(t,"continuations")&&(this.continuation=t.continuations?.[0].nextContinuationData?.continuation||t.continuations?.[0].reloadContinuationData?.continuation),Reflect.has(t,"bottomText")&&(this.bottom_text=new HU(t.bottomText)),Reflect.has(t,"bottomButton")&&(this.bottom_button=HG(t.bottomButton,RU)),Reflect.has(t,"subheaders")&&(this.subheaders=WG(t.subheaders))}}class Nj extends KO{static type="MusicTastebuilderShelfThumbnail";thumbnail;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail)}}class Bj extends KO{static type="PageHeaderView";title;image;animated_image;hero_image;metadata;actions;description;attributation;banner;constructor(t){super(),this.title=HG(t.title,IW),this.image=HG(t.image,[lH,uW]),this.animated_image=HG(t.animatedImage,lH),this.hero_image=HG(t.heroImage,lH),this.metadata=HG(t.metadata,oW),this.actions=HG(t.actions,RF),this.description=HG(t.description,gW),this.attributation=HG(t.attributation,hF),this.banner=HG(t.banner,GW)}}class Vj extends KO{static type="PivotButton";thumbnail;endpoint;content_description;target_id;sound_attribution_title;waveform_animation_style;background_animation_style;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail),this.endpoint=new NU(t.onClickCommand),this.content_description=new HU(t.contentDescription),this.target_id=t.targetId,this.sound_attribution_title=new HU(t.soundAttributionTitle),this.waveform_animation_style=t.waveformAnimationStyle,this.background_animation_style=t.backgroundAnimationStyle}}class Oj extends KO{static type="PlayerOverflow";endpoint;enable_listen_first;constructor(t){super(),this.endpoint=new NU(t.endpoint),this.enable_listen_first=t.enableListenFirst}}class Uj extends KO{static type="YpcTrailer";video_message;player_response;constructor(t){super(),this.video_message=t.fullVideoMessage,this.player_response=t.unserializedPlayerResponse}}class Fj extends KO{static type="PlayerOverlayAutoplay";title;video_id;video_title;short_view_count;prefer_immediate_redirect;count_down_secs_for_fullscreen;published;background;thumbnail_overlays;author;cancel_button;next_button;close_button;constructor(t){super(),this.title=new HU(t.title),this.video_id=t.videoId,this.video_title=new HU(t.videoTitle),this.short_view_count=new HU(t.shortViewCountText),this.prefer_immediate_redirect=t.preferImmediateRedirect,this.count_down_secs_for_fullscreen=t.countDownSecsForFullscreen,this.published=new HU(t.publishedTimeText),this.background=BU.fromResponse(t.background),this.thumbnail_overlays=WG(t.thumbnailOverlays),this.author=new YG(t.byline),this.cancel_button=HG(t.cancelButton,RU),this.next_button=HG(t.nextButton,RU),this.close_button=HG(t.closeButton,RU)}}class Hj extends KO{static type="PlayerOverlayVideoDetails";title;subtitle;constructor(t){super(),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle)}}class Wj extends KO{static type="WatchNextEndScreen";results;title;constructor(t){super(),this.results=WG(t.results,[DW,LW]),this.title=new HU(t.title).toString()}}class jj extends MF{static type="Post";constructor(t){super(t)}}class Gj extends KO{static type="ProfileColumn";items;constructor(t){super(),this.items=WG(t.items)}get contents(){return this.items}}class $j extends KO{static type="ReelPlayerHeader";reel_title_text;timestamp_text;channel_title_text;channel_thumbnail;author;constructor(t){super(),this.reel_title_text=new HU(t.reelTitleText),this.timestamp_text=new HU(t.timestampText),this.channel_title_text=new HU(t.channelTitleText),this.channel_thumbnail=BU.fromResponse(t.channelThumbnail),this.author=new YG(t.channelNavigationEndpoint,void 0)}}class qj extends KO{static type="RichGrid";header;contents;target_id;constructor(t){super(),this.header=HG(t.header),this.contents=WG(t.contents),Reflect.has(t,"targetId")&&(this.target_id=t.targetId)}}class Kj extends KO{static type="SearchFilter";label;endpoint;tooltip;status;constructor(t){super(),this.label=new HU(t.label),this.endpoint=new NU(t.endpoint||t.navigationEndpoint),this.tooltip=t.tooltip,Reflect.has(t,"status")&&(this.status=t.status)}get disabled(){return"FILTER_STATUS_DISABLED"===this.status}get selected(){return"FILTER_STATUS_SELECTED"===this.status}}class Yj extends KO{static type="SearchFilterGroup";title;filters;constructor(t){super(),this.title=new HU(t.title),this.filters=WG(t.filters,Kj)}}class zj extends KO{static type="UniversalWatchCard";header;call_to_action;sections;collapsed_label;constructor(t){super(),this.header=HG(t.header),this.call_to_action=HG(t.callToAction),this.sections=WG(t.sections),Reflect.has(t,"collapsedLabel")&&(this.collapsed_label=new HU(t.collapsedLabel))}}class Qj extends KO{static type="SecondarySearchContainer";target_id;contents;constructor(t){super(),this.contents=WG(t.contents,[zj])}}class Xj extends KO{static type="SettingsCheckbox";title;help_text;enabled;disabled;id;constructor(t){super(),this.title=new HU(t.title),this.help_text=new HU(t.helpText),this.enabled=t.enabled,this.disabled=t.disabled,this.id=t.id}}class Jj extends KO{static type="SettingsSwitch";title;subtitle;enabled;enable_endpoint;disable_endpoint;constructor(t){super(),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle),this.enabled=t.enabled,this.enable_endpoint=new NU(t.enableServiceEndpoint),this.disable_endpoint=new NU(t.disableServiceEndpoint)}}class Zj extends KO{static type="SharePanelHeader";title;constructor(t){super(),this.title=HG(t.title)}}class tG extends KO{static type="ShareTarget";endpoint;service_name;target_id;title;constructor(t){super(),Reflect.has(t,"serviceEndpoint")?this.endpoint=new NU(t.serviceEndpoint):Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new NU(t.navigationEndpoint)),this.service_name=t.serviceName,this.target_id=t.targetId,this.title=new HU(t.title)}}class eG extends KO{static type="Tab";title;selected;endpoint;content;constructor(t){super(),this.title=t.title||"N/A",this.selected=!!t.selected,this.endpoint=new NU(t.endpoint),this.content=HG(t.content,[ZF,Lj,qj])}}class iG extends KO{static type="StartAt";start_at_option_label;constructor(t){super(),this.start_at_option_label=new HU(t.startAtOptionLabel)}}class sG extends KO{static type="ThirdPartyShareTargetSection";share_targets;constructor(t){super(),this.share_targets=WG(t.shareTargets,tG)}}class nG extends KO{static type="TwoColumnBrowseResults";tabs;secondary_contents;constructor(t){super(),this.tabs=WG(t.tabs,[eG,NW]),this.secondary_contents=HG(t.secondaryContents,[ZF,OF,Gj])}}class aG{static type="SubscriptionButton";text;subscribed;subscription_type;constructor(t){this.text=new HU(t.text),this.subscribed=t.isSubscribed,"subscriptionType"in t&&(this.subscription_type=t.subscriptionType)}}class oG extends KO{static type="VideoOwner";subscription_button;subscriber_count;author;constructor(t){super(),"subscriptionButton"in t&&(this.subscription_button=new aG(t.subscriptionButton)),this.subscriber_count=new HU(t.subscriberCountText),this.author=new YG({...t.title,navigationEndpoint:t.navigationEndpoint},t.badges,t.thumbnail)}}class rG extends KO{static type="VideoViewCount";original_view_count;short_view_count;extra_short_view_count;view_count;constructor(t){super(),this.original_view_count=t.originalViewCount,this.short_view_count=new HU(t.shortViewCount),this.extra_short_view_count=new HU(t.extraShortViewCount),this.view_count=new HU(t.viewCount)}}class cG extends KO{static type="AnchoredSection";title;content;endpoint;category_assets;category_type;constructor(t){super(),this.title=t.title,this.content=HG(t.content,ZF),this.endpoint=new NU(t.navigationEndpoint),this.category_assets={asset_key:t.categoryAssets?.assetKey,background_color:t.categoryAssets?.backgroundColor},this.category_type=t.categoryType}}class lG extends KO{static type="KidsBlocklistPickerItem";#n;child_display_name;child_account_description;avatar;block_button;blocked_entity_key;constructor(t){super(),this.child_display_name=new HU(t.childDisplayName),this.child_account_description=new HU(t.childAccountDescription),this.avatar=BU.fromResponse(t.avatar),this.block_button=HG(t.blockButton,[bF]),this.blocked_entity_key=t.blockedEntityKey}async blockChannel(){if(!this.#n)throw new zG("An active caller must be provide to perform this operation.");const t=this.block_button;if(!t)throw new zG("Block button was not found.",{child_display_name:this.child_display_name});if(t.is_toggled)throw new zG("This channel is already blocked.",{child_display_name:this.child_display_name});return await t.endpoint.call(this.#n,{parse:!1})}setActions(t){this.#n=t}}class hG extends KO{static type="KidsCategoryTab";title;category_assets;category_type;endpoint;constructor(t){super(),this.title=new HU(t.title),this.category_assets={asset_key:t.categoryAssets?.assetKey,background_color:t.categoryAssets?.backgroundColor},this.category_type=t.categoryType,this.endpoint=new NU(t.endpoint)}}var dG=Object.freeze({__proto__:null,AboutChannel:class extends KO{static type="AboutChannel";metadata;share_channel;constructor(t){super(),this.metadata=HG(t.metadata,$U),this.share_channel=HG(t.shareChannel,RU)}},AboutChannelView:$U,AccountChannel:qU,AccountItem:KU,AccountItemSection:QU,AccountItemSectionHeader:YU,AccountSectionList:class extends KO{static type="AccountSectionList";contents;footers;constructor(t){super(),this.contents=WG(t.contents,QU),this.footers=WG(t.footers,qU)}},ActiveAccountHeader:class extends KO{static type="ActiveAccountHeader";account_name;account_photo;endpoint;manage_account_title;channel_handle;constructor(t){super(),this.account_name=new HU(t.accountName),this.account_photo=BU.fromResponse(t.accountPhoto),this.endpoint=new NU(t.serviceEndpoint),this.manage_account_title=new HU(t.manageAccountTitle),this.channel_handle=new HU(t.channelHandle)}},AddBannerToLiveChatCommand:class extends KO{static type="AddBannerToLiveChatCommand";banner;constructor(t){super(),this.banner=HG(t.bannerRenderer,JW)}},AddChatItemAction:class extends KO{static type="AddChatItemAction";item;client_id;constructor(t){super(),this.item=HG(t.item),Reflect.has(t,"clientId")&&(this.client_id=t.clientId)}},AddLiveChatTickerItemAction:class extends KO{static type="AddLiveChatTickerItemAction";item;duration_sec;constructor(t){super(),this.item=HG(t.item),this.duration_sec=t.durationSec}},AddToPlaylist:class extends KO{static type="AddToPlaylist";actions;playlists;constructor(t){super(),this.actions=WG(t.actions,[rF,RU]),this.playlists=WG(t.playlists,cF)}},AddToPlaylistCommand:class extends KO{static type="AddToPlaylistCommand";open_miniplayer;video_id;list_type;endpoint;video_ids;constructor(t){super(),this.open_miniplayer=t.openMiniplayer,this.video_id=t.videoId,this.list_type=t.listType,this.endpoint=new NU(t.onCreateListCommand),this.video_ids=t.videoIds}},AddToPlaylistEndpoint:class extends RW{static type="AddToPlaylistEndpoint";constructor(t){super(t)}},AddToPlaylistServiceEndpoint:RW,Alert:class extends KO{static type="Alert";text;alert_type;constructor(t){super(),this.text=new HU(t.text),this.alert_type=t.type}},AlertWithButton:class extends KO{static type="AlertWithButton";text;alert_type;dismiss_button;constructor(t){super(),this.text=new HU(t.text),this.alert_type=t.type,this.dismiss_button=HG(t.dismissButton,RU)}},AnchoredSection:cG,AnimatedThumbnailOverlayView:lF,AppendContinuationItemsAction:class extends KO{static type="AppendContinuationItemsAction";contents;target;constructor(t){super(),this.contents=WG(t.continuationItems),this.target=t.target}},AttributionView:hF,AudioOnlyPlayability:class extends KO{static type="AudioOnlyPlayability";audio_only_availability;constructor(t){super(),this.audio_only_availability=t.audioOnlyAvailability}},AuthorCommentBadge:class extends KO{static type="AuthorCommentBadge";#o;icon_type;tooltip;style;constructor(t){super(),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.tooltip=t.iconTooltip,"Verified"===this.tooltip&&(this.style="BADGE_STYLE_TYPE_VERIFIED",t.style="BADGE_STYLE_TYPE_VERIFIED"),this.#o=t}get orig_badge(){return this.#o}},AutomixPreviewVideo:dF,AvatarStackView:_F,AvatarView:uF,BackgroundPromo:class extends KO{static type="BackgroundPromo";body_text;cta_button;icon_type;title;constructor(t){super(),this.body_text=new HU(t.bodyText),this.cta_button=HG(t.ctaButton,[RU,fF]),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.title=new HU(t.title)}},BackstageImage:yF,BackstagePost:MF,BackstagePostThread:class extends KO{static type="BackstagePostThread";post;constructor(t){super(),this.post=HG(t.post)}},BadgeView:LF,BrowseEndpoint:class extends KO{static type="BrowseEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"browse"}buildRequest(){const t={};return this.#o.browseId&&(t.browseId=this.#o.browseId),this.#o.params&&(t.params=this.#o.params),this.#o.query&&(t.query=this.#o.query),"FEsubscriptions"===this.#o.browseId&&(t.subscriptionSettingsState=this.#o.subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),"SPaccount_playback"===this.#o.browseId&&(t.formData=this.#o.formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),"FEwhat_to_watch"===this.#o.browseId&&(this.#o.browseRequestSupportedMetadata&&(t.browseRequestSupportedMetadata=this.#o.browseRequestSupportedMetadata),this.#o.inlineSettingStatus&&(t.inlineSettingStatus=this.#o.inlineSettingStatus)),t}},BrowseFeedActions:OF,BrowserMediaSession:class extends KO{static type="BrowserMediaSession";album;thumbnails;constructor(t){super(),this.album=new HU(t.album),this.thumbnails=BU.fromResponse(t.thumbnailDetails)}},BumperUserEduContentView:ZW,Button:RU,ButtonCardView:class extends KO{static type="ButtonCardView";title;icon_name;renderer_context;constructor(t){super(),this.title=t.title,this.icon_name=t.image.sources[0].clientResource.imageName,this.renderer_context=new mF(t.rendererContext)}},ButtonView:fF,C4TabbedHeader:class extends KO{static type="C4TabbedHeader";author;banner;tv_banner;mobile_banner;subscribers;videos_count;sponsor_button;subscribe_button;header_links;channel_handle;channel_id;tagline;constructor(t){super(),this.author=new YG({simpleText:t.title,navigationEndpoint:t.navigationEndpoint},t.badges,t.avatar),Reflect.has(t,"banner")&&(this.banner=BU.fromResponse(t.banner)),Reflect.has(t,"tv_banner")&&(this.tv_banner=BU.fromResponse(t.tvBanner)),Reflect.has(t,"mobile_banner")&&(this.mobile_banner=BU.fromResponse(t.mobileBanner)),Reflect.has(t,"subscriberCountText")&&(this.subscribers=new HU(t.subscriberCountText)),Reflect.has(t,"videosCountText")&&(this.videos_count=new HU(t.videosCountText)),Reflect.has(t,"sponsorButton")&&(this.sponsor_button=HG(t.sponsorButton,RU)),Reflect.has(t,"subscribeButton")&&(this.subscribe_button=HG(t.subscribeButton,[MH,RU])),Reflect.has(t,"headerLinks")&&(this.header_links=HG(t.headerLinks,[FF,HF])),Reflect.has(t,"channelHandleText")&&(this.channel_handle=new HU(t.channelHandleText)),Reflect.has(t,"channelId")&&(this.channel_id=t.channelId),Reflect.has(t,"tagline")&&(this.tagline=HG(t.tagline,RH))}},CallToActionButton:class extends KO{static type="CallToActionButton";label;icon_type;style;constructor(t){super(),this.label=new HU(t.label),this.icon_type=t.icon.iconType,this.style=t.style}},Card:class extends KO{static type="Card";teaser;content;card_id;feature;cue_ranges;constructor(t){super(),this.teaser=HG(t.teaser),this.content=HG(t.content),Reflect.has(t,"cardId")&&(this.card_id=t.cardId),Reflect.has(t,"feature")&&(this.feature=t.feature),this.cue_ranges=t.cueRanges.map(t=>({start_card_active_ms:t.startCardActiveMs,end_card_active_ms:t.endCardActiveMs,teaser_duration_ms:t.teaserDurationMs,icon_after_teaser_ms:t.iconAfterTeaserMs}))}},CardCollection:class extends KO{static type="CardCollection";cards;header;allow_teaser_dismiss;constructor(t){super(),this.cards=WG(t.cards),this.header=new HU(t.headerText),this.allow_teaser_dismiss=t.allowTeaserDismiss}},CarouselHeader:class extends KO{static type="CarouselHeader";contents;constructor(t){super(),this.contents=WG(t.contents)}},CarouselItem:class extends KO{static type="CarouselItem";items;background_color;layout_style;pagination_thumbnails;paginator_alignment;constructor(t){super(),this.items=WG(t.carouselItems),this.background_color=t.backgroundColor,this.layout_style=t.layoutStyle,this.pagination_thumbnails=BU.fromResponse(t.paginationThumbnails),this.paginator_alignment=t.paginatorAlignment}get contents(){return this.items}},CarouselItemView:DH,CarouselLockup:vH,CarouselTitleView:NH,ChangeEngagementPanelVisibilityAction:class extends KO{static type="ChangeEngagementPanelVisibilityAction";target_id;visibility;constructor(t){super(),this.target_id=t.targetId,this.visibility=t.visibility}},Channel:class extends KO{static type="Channel";id;author;subscriber_count;video_count;long_byline;short_byline;endpoint;subscribe_button;description_snippet;constructor(t){super(),this.id=t.channelId,this.author=new YG({...t.title,navigationEndpoint:t.navigationEndpoint},t.ownerBadges,t.thumbnail),this.subscriber_count=new HU(t.subscriberCountText),this.video_count=new HU(t.videoCountText),this.long_byline=new HU(t.longBylineText),this.short_byline=new HU(t.shortBylineText),this.endpoint=new NU(t.navigationEndpoint),this.subscribe_button=HG(t.subscribeButton,[MH,RU]),this.description_snippet=new HU(t.descriptionSnippet)}},ChannelAboutFullMetadata:class extends KO{static type="ChannelAboutFullMetadata";id;name;avatar;canonical_channel_url;primary_links;view_count;joined_date;description;email_reveal;can_reveal_email;country;buttons;constructor(t){super(),this.id=t.channelId,this.name=new HU(t.title),this.avatar=BU.fromResponse(t.avatar),this.canonical_channel_url=t.canonicalChannelUrl,this.primary_links=t.primaryLinks?.map(t=>({endpoint:new NU(t.navigationEndpoint),icon:BU.fromResponse(t.icon),title:new HU(t.title)}))??[],this.view_count=new HU(t.viewCountText),this.joined_date=new HU(t.joinedDateText),this.description=new HU(t.description),this.email_reveal=new NU(t.onBusinessEmailRevealClickCommand),this.can_reveal_email=!t.signInForBusinessEmail,this.country=new HU(t.country),this.buttons=WG(t.actionButtons,RU)}},ChannelAgeGate:class extends KO{static type="ChannelAgeGate";channel_title;avatar;header;main_text;sign_in_button;secondary_text;constructor(t){super(),this.channel_title=t.channelTitle,this.avatar=BU.fromResponse(t.avatar),this.header=new HU(t.header),this.main_text=new HU(t.mainText),this.sign_in_button=HG(t.signInButton,RU),this.secondary_text=new HU(t.secondaryText)}},ChannelExternalLinkView:GU,ChannelFeaturedContent:class extends KO{static type="ChannelFeaturedContent";title;items;constructor(t){super(),this.title=new HU(t.title),this.items=WG(t.items)}},ChannelHeaderLinks:FF,ChannelHeaderLinksView:HF,ChannelMetadata:class extends KO{static type="ChannelMetadata";title;description;url;rss_url;vanity_channel_url;external_id;is_family_safe;keywords;avatar;music_artist_name;available_countries;android_deep_link;android_appindexing_link;ios_appindexing_link;constructor(t){super(),this.title=t.title,this.description=t.description,this.url=t.channelUrl,this.rss_url=t.rssUrl,this.vanity_channel_url=t.vanityChannelUrl,this.external_id=t.externalId,this.is_family_safe=t.isFamilySafe,this.keywords=t.keywords,this.avatar=BU.fromResponse(t.avatar),this.music_artist_name="string"==typeof t.musicArtistName&&t.musicArtistName.length>0?t.musicArtistName:void 0,this.available_countries=t.availableCountryCodes,this.android_deep_link=t.androidDeepLink,this.android_appindexing_link=t.androidAppindexingLink,this.ios_appindexing_link=t.iosAppindexingLink}},ChannelMobileHeader:class extends KO{static type="ChannelMobileHeader";title;constructor(t){super(),this.title=new HU(t.title)}},ChannelOptions:BH,ChannelOwnerEmptyState:class extends KO{static type="ChannelOwnerEmptyState";illustration;description;constructor(t){super(),this.illustration=BU.fromResponse(t.illustration),this.description=new HU(t.description)}},ChannelSubMenu:class extends KO{static type="ChannelSubMenu";content_type_sub_menu_items;sort_setting;constructor(t){super(),this.content_type_sub_menu_items=t.contentTypeSubMenuItems.map(t=>({endpoint:new NU(t.navigationEndpoint||t.endpoint),selected:t.selected,title:t.title})),this.sort_setting=HG(t.sortSetting)}},ChannelSwitcherHeader:class extends KO{static type="ChannelSwitcherHeader";title;button;constructor(t){super(),this.title=new HU(t.title).toString(),Reflect.has(t,"button")&&(this.button=HG(t.button,RU))}},ChannelSwitcherPage:JU,ChannelTagline:RH,ChannelThumbnailWithLink:class extends KO{static type="ChannelThumbnailWithLink";thumbnails;endpoint;accessibility;constructor(t){super(),this.thumbnails=BU.fromResponse(t.thumbnail),this.endpoint=new NU(t.navigationEndpoint),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new JO(t.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}},ChannelVideoPlayer:class extends KO{static type="ChannelVideoPlayer";id;title;description;view_count;published_time;constructor(t){super(),this.id=t.videoId,this.title=new HU(t.title),this.description=new HU(t.description),this.view_count=new HU(t.viewCountText),this.published_time=new HU(t.publishedTimeText)}},Chapter:VH,ChildVideo:class extends KO{static type="ChildVideo";id;title;duration;endpoint;constructor(t){super(),this.id=t.videoId,this.title=new HU(t.title),this.duration={text:t.lengthText.simpleText,seconds:JG(t.lengthText.simpleText)},this.endpoint=new NU(t.navigationEndpoint)}},ChipBarView:class extends KO{static type="ChipBarView";chips;constructor(t){super(),this.chips=WG(t.chips,OH)}},ChipCloud:FH,ChipCloudChip:UH,ChipView:OH,ClientSideToggleMenuItem:class extends KO{static type="ClientSideToggleMenuItem";text;icon_type;toggled_text;toggled_icon_type;is_toggled;menu_item_identifier;endpoint;logging_directives;constructor(t){super(),this.text=new HU(t.defaultText),this.icon_type=t.defaultIcon.iconType,this.toggled_text=new HU(t.toggledText),this.toggled_icon_type=t.toggledIcon.iconType,Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled),this.menu_item_identifier=t.menuItemIdentifier,this.endpoint=new NU(t.command),Reflect.has(t,"loggingDirectives")&&(this.logging_directives={visibility:{types:t.loggingDirectives.visibility.types},enable_displaylogger_experiment:t.loggingDirectives.enableDisplayloggerExperiment})}},ClipAdState:GF,ClipCreation:$F,ClipCreationScrubber:jF,ClipCreationTextInput:WF,ClipSection:qF,CollaboratorInfoCardContent:class extends KO{static type="CollaboratorInfoCardContent";channel_avatar;custom_text;channel_name;subscriber_count;endpoint;constructor(t){super(),this.channel_avatar=BU.fromResponse(t.channelAvatar),this.custom_text=new HU(t.customText),this.channel_name=new HU(t.channelName),this.subscriber_count=new HU(t.subscriberCountText),this.endpoint=new NU(t.endpoint)}},CollageHeroImage:class extends KO{static type="CollageHeroImage";left;top_right;bottom_right;endpoint;constructor(t){super(),this.left=BU.fromResponse(t.leftThumbnail),this.top_right=BU.fromResponse(t.topRightThumbnail),this.bottom_right=BU.fromResponse(t.bottomRightThumbnail),this.endpoint=new NU(t.navigationEndpoint)}},CollectionThumbnailView:YH,CommandExecutorCommand:DU,CommentActionButtons:vF,CommentDialog:class extends KO{static type="CommentDialog";editable_text;author_thumbnail;submit_button;cancel_button;placeholder;emoji_button;emoji_picker;constructor(t){super(),this.editable_text=new HU(t.editableText),this.author_thumbnail=BU.fromResponse(t.authorThumbnail),this.submit_button=HG(t.submitButton,RU),this.cancel_button=HG(t.cancelButton,RU),this.placeholder=new HU(t.placeholderText),this.emoji_button=HG(t.emojiButton,RU),this.emoji_picker=HG(t.emojiPicker,zH)}},CommentReplies:QH,CommentReplyDialog:XH,CommentSimplebox:class extends KO{static type="CommentSimplebox";submit_button;cancel_button;author_thumbnail;placeholder;avatar_size;constructor(t){super(),this.submit_button=HG(t.submitButton,RU),this.cancel_button=HG(t.cancelButton,RU),this.author_thumbnail=BU.fromResponse(t.authorThumbnail),this.placeholder=new HU(t.placeholderText),this.avatar_size=t.avatarSize}},CommentThread:class extends KO{static type="CommentThread";comment;replies;comment_replies_data;is_moderated_elq_comment;has_replies;#n;#y;constructor(t){super(),this.comment=HG(t.commentViewModel,iW),this.comment_replies_data=HG(t.replies,QH),this.is_moderated_elq_comment=t.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new zG("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!this.#y}async getReplies(){if(!this.#n)throw new zG("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new zG("This comment has no replies.",this);const t=this.comment_replies_data.contents?.firstOfType(KF);if(!t)throw new zG("Replies continuation not found.");const e=await t.endpoint.call(this.#n,{parse:!0});if(!e.on_response_received_endpoints_memo)throw new zG("Unexpected response.",e);return this.replies=this.#b(e.on_response_received_endpoints_memo),this.#y=e.on_response_received_endpoints_memo.getType(KF)[0],this}async getContinuation(){if(!this.replies)throw new zG("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!this.#y)throw new zG("Continuation not found.");if(!this.#n)throw new zG("Actions instance not set for this thread.");const t=this.#y.button?.as(RU);if(!t)throw new zG('"Load more" button not found.');const e=await t.endpoint.call(this.#n,{parse:!0});if(!e.on_response_received_endpoints_memo)throw new zG("Unexpected response.",e);return this.replies=this.#b(e.on_response_received_endpoints_memo),this.#y=e.on_response_received_endpoints_memo.getType(KF)[0],this}setActions(t){this.#n=t}#b(t){return QO(t.getType(iW).map(t=>(t.setActions(this.#n),t)))}},CommentView:iW,CommentsEntryPointHeader:class extends KO{static type="CommentsEntryPointHeader";header;comment_count;teaser_avatar;teaser_content;content_renderer;simplebox_placeholder;constructor(t){super(),Reflect.has(t,"headerText")&&(this.header=new HU(t.headerText)),Reflect.has(t,"commentCount")&&(this.comment_count=new HU(t.commentCount)),(Reflect.has(t,"teaserAvatar")||Reflect.has(t,"simpleboxAvatar"))&&(this.teaser_avatar=BU.fromResponse(t.teaserAvatar||t.simpleboxAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new HU(t.teaserContent)),Reflect.has(t,"contentRenderer")&&(this.content_renderer=HG(t.contentRenderer,[ZH,JH])),Reflect.has(t,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new HU(t.simpleboxPlaceholder))}},CommentsEntryPointTeaser:ZH,CommentsHeader:tW,CommentsSimplebox:JH,CompactChannel:class extends KO{static type="CompactChannel";title;channel_id;thumbnail;display_name;video_count;subscriber_count;endpoint;tv_banner;menu;constructor(t){super(),this.title=new HU(t.title),this.channel_id=t.channelId,this.thumbnail=BU.fromResponse(t.thumbnail),this.display_name=new HU(t.displayName),this.video_count=new HU(t.videoCountText),this.subscriber_count=new HU(t.subscriberCountText),this.endpoint=new NU(t.navigationEndpoint),this.tv_banner=BU.fromResponse(t.tvBanner),this.menu=HG(t.menu,AF)}},CompactLink:zU,CompactMix:class extends aW{static type="CompactMix";constructor(t){super(t)}},CompactMovie:class extends KO{static type="CompactMovie";id;title;top_metadata_items;thumbnails;thumbnail_overlays;author;duration;endpoint;badges;use_vertical_poster;menu;constructor(t){super();const e=t.thumbnailOverlays.find(t=>t.thumbnailOverlayTimeStatusRenderer)?.thumbnailOverlayTimeStatusRenderer.text||"N/A";this.id=t.videoId,this.title=new HU(t.title),this.top_metadata_items=new HU(t.topMetadataItems),this.thumbnails=BU.fromResponse(t.thumbnail),this.thumbnail_overlays=WG(t.thumbnailOverlays),this.author=new YG(t.shortBylineText);const i=t.lengthText?new HU(t.lengthText).toString():new HU(e).toString();this.duration={text:i,seconds:JG(i)},this.endpoint=new NU(t.navigationEndpoint),this.badges=WG(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.menu=HG(t.menu,AF)}},CompactPlaylist:class extends aW{static type="CompactPlaylist";constructor(t){super(t)}},CompactStation:class extends KO{static type="CompactStation";title;description;video_count;endpoint;thumbnail;constructor(t){super(),this.title=new HU(t.title),this.description=new HU(t.description),this.video_count=new HU(t.videoCountText),this.endpoint=new NU(t.navigationEndpoint),this.thumbnail=BU.fromResponse(t.thumbnail)}},CompactVideo:gH,CompositeVideoPrimaryInfo:class extends KO{static type="CompositeVideoPrimaryInfo";constructor(t){super()}},ConfirmDialog:class extends KO{static type="ConfirmDialog";title;confirm_button;cancel_button;dialog_messages;constructor(t){super(),this.title=new HU(t.title),this.confirm_button=HG(t.confirmButton,RU),this.cancel_button=HG(t.cancelButton,RU),this.dialog_messages=t.dialogMessages.map(t=>new HU(t))}},ContentMetadataView:oW,ContentPreviewImageView:lH,ContinuationCommand:class extends KO{static type="ContinuationCommand";#o;constructor(t){super(),this.#o=t}getApiPath(){switch(this.#o.request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){const t={};return this.#o.formData&&(t.formData=this.#o.formData),this.#o.token&&(t.continuation=this.#o.token),"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"===this.#o.request&&(t.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",this.#o.token&&(t.fetchCommentsParams={continuation:this.#o.token},delete t.continuation)),t}},ContinuationItem:KF,ConversationBar:class extends KO{static type="ConversationBar";availability_message;constructor(t){super(),this.availability_message=HG(t.availabilityMessage,rW)}},CopyLink:cW,CreateCommentEndpoint:class extends KO{static type="CreateCommentEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"comment/create_comment"}buildRequest(){const t={};if(this.#o.createCommentParams&&(t.createCommentParams=this.#o.createCommentParams),this.#o.commentText&&(t.commentText=this.#o.commentText),this.#o.attachedVideoId?t.videoAttachment={videoId:this.#o.attachedVideoId}:this.#o.pollOptions?t.pollAttachment={choices:this.#o.pollOptions}:this.#o.imageBlobId?t.imageAttachment={encryptedBlobId:this.#o.imageBlobId}:this.#o.sharedPostId&&(t.sharedPostAttachment={postId:this.#o.sharedPostId}),this.#o.accessRestrictions&&"number"==typeof this.#o.accessRestrictions){const e=1===this.#o.accessRestrictions?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";t.accessRestrictions={restriction:e}}return this.#o.botguardResponse&&(t.botguardResponse=this.#o.botguardResponse),t}},CreatePlaylistDialog:LU,CreatePlaylistDialogFormView:dW,CreatePlaylistServiceEndpoint:class extends KO{static type="CreatePlaylistServiceEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"playlist/create"}buildRequest(){const t={};return this.#o.title&&(t.title=this.#o.title),this.#o.privacyStatus&&(t.privacyStatus=this.#o.privacyStatus),this.#o.description&&(t.description=this.#o.description),this.#o.videoIds&&(t.videoIds=this.#o.videoIds),this.#o.params&&(t.params=this.#o.params),this.#o.sourcePlaylistId&&(t.sourcePlaylistId=this.#o.sourcePlaylistId),t}},CreatorHeart:gF,CreatorHeartView:tj,DecoratedAvatarView:uW,DecoratedPlayerBar:bW,DefaultPromoPanel:class extends KO{static type="DefaultPromoPanel";title;description;endpoint;large_form_factor_background_thumbnail;small_form_factor_background_thumbnail;scrim_color_values;min_panel_display_duration_ms;min_video_play_duration_ms;scrim_duration;metadata_order;panel_layout;constructor(t){super(),this.title=new HU(t.title),this.description=new HU(t.description),this.endpoint=new NU(t.navigationEndpoint),this.large_form_factor_background_thumbnail=HG(t.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=HG(t.smallFormFactorBackgroundThumbnail),this.scrim_color_values=t.scrimColorValues,this.min_panel_display_duration_ms=t.minPanelDisplayDurationMs,this.min_video_play_duration_ms=t.minVideoPlayDurationMs,this.scrim_duration=t.scrimDuration,this.metadata_order=t.metadataOrder,this.panel_layout=t.panelLayout}},DeletePlaylistEndpoint:class extends KO{static type="DeletePlaylistEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"playlist/delete"}buildRequest(){const t={};return this.#o.playlistId&&(t.playlistId=this.#o.sourcePlaylistId),t}},DescriptionPreviewView:gW,DialogHeaderView:vW,DialogView:class extends KO{static type="DialogView";header;footer;custom_content;constructor(t){super(),this.header=HG(t.header,vW),this.footer=HG(t.footer,[xW,wW]),this.custom_content=HG(t.customContent,[dW,CW])}},DidYouMean:class extends KO{static type="DidYouMean";text;corrected_query;endpoint;constructor(t){super(),this.text=new HU(t.didYouMean).toString(),this.corrected_query=new HU(t.correctedQuery),this.endpoint=new NU(t.navigationEndpoint||t.correctedQueryEndpoint)}},DimChatItemAction:class extends KO{static type="DimChatItemAction";client_assigned_id;constructor(t){super(),this.client_assigned_id=t.clientAssignedId}},DislikeButtonView:kF,DismissableDialog:class extends KO{static type="DismissableDialog";title;sections;metadata;display_style;constructor(t){super(),this.title=t.title,this.sections=WG(t.sections,TW),this.metadata=HG(t.metadata),this.display_style=t.displayStyle}},DismissableDialogContentSection:TW,DownloadButton:TF,Dropdown:MU,DropdownItem:AU,DropdownView:lW,DynamicTextView:IW,Element:PW,EmergencyOnebox:class extends KO{static type="EmergencyOnebox";title;first_option;menu;constructor(t){super(),this.title=new HU(t.title),this.first_option=HG(t.firstOption),this.menu=HG(t.menu,AF)}},EmojiPicker:zH,EmojiPickerCategory:class extends KO{static type="EmojiPickerCategory";category_id;title;emoji_ids;image_loading_lazy;category_type;constructor(t){super(),this.category_id=t.categoryId,this.title=new HU(t.title),this.emoji_ids=t.emojiIds,this.image_loading_lazy=!!t.imageLoadingLazy,this.category_type=t.categoryType}},EmojiPickerCategoryButton:class extends KO{static type="EmojiPickerCategoryButton";category_id;icon_type;tooltip;constructor(t){super(),this.category_id=t.categoryId,Reflect.has(t,"icon")&&(this.icon_type=t.icon?.iconType),this.tooltip=t.tooltip}},EmojiPickerUpsellCategory:class extends KO{static type="EmojiPickerUpsellCategory";category_id;title;upsell;emoji_tooltip;endpoint;emoji_ids;constructor(t){super(),this.category_id=t.categoryId,this.title=new HU(t.title),this.upsell=new HU(t.upsell),this.emoji_tooltip=t.emojiTooltip,this.endpoint=new NU(t.command),this.emoji_ids=t.emojiIds}},EndScreenPlaylist:LW,EndScreenVideo:DW,Endscreen:class extends KO{static type="Endscreen";elements;start_ms;constructor(t){super(),this.elements=WG(t.elements),this.start_ms=t.startMs}},EndscreenElement:class extends KO{static type="EndscreenElement";style;title;endpoint;image;icon;metadata;call_to_action;hovercard_button;is_subscribe;playlist_length;thumbnail_overlays;left;top;width;aspect_ratio;start_ms;end_ms;id;constructor(t){super(),this.style=t.style,this.title=new HU(t.title),this.endpoint=new NU(t.endpoint),Reflect.has(t,"image")&&(this.image=BU.fromResponse(t.image)),Reflect.has(t,"icon")&&(this.icon=BU.fromResponse(t.icon)),Reflect.has(t,"metadata")&&(this.metadata=new HU(t.metadata)),Reflect.has(t,"callToAction")&&(this.call_to_action=new HU(t.callToAction)),Reflect.has(t,"hovercardButton")&&(this.hovercard_button=HG(t.hovercardButton)),Reflect.has(t,"isSubscribe")&&(this.is_subscribe=!!t.isSubscribe),Reflect.has(t,"playlistLength")&&(this.playlist_length=new HU(t.playlistLength)),Reflect.has(t,"thumbnailOverlays")&&(this.thumbnail_overlays=WG(t.thumbnailOverlays)),this.left=parseFloat(t.left),this.width=parseFloat(t.width),this.top=parseFloat(t.top),this.aspect_ratio=parseFloat(t.aspectRatio),this.start_ms=parseFloat(t.startMs),this.end_ms=parseFloat(t.endMs),this.id=t.id}},EngagementPanelSectionList:PH,EngagementPanelTitleHeader:YF,EomSettingsDisclaimer:BF,ExpandableMetadata:nH,ExpandableTab:NW,ExpandableVideoDescriptionBody:tH,ExpandedShelfContents:class extends KO{static type="ExpandedShelfContents";items;constructor(t){super(),this.items=WG(t.items)}get contents(){return this.items}},Factoid:uH,FancyDismissibleDialog:class extends KO{static type="FancyDismissibleDialog";dialog_message;confirm_label;constructor(t){super(),this.dialog_message=new HU(t.dialogMessage),this.confirm_label=new HU(t.confirmLabel)}},FeedFilterChipBar:BW,FeedNudge:class extends KO{static type="FeedNudge";title;subtitle;endpoint;apply_modernized_style;trim_style;background_style;constructor(t){super(),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle),this.endpoint=new NU(t.impressionEndpoint),this.apply_modernized_style=t.applyModernizedStyle,this.trim_style=t.trimStyle,this.background_style=t.backgroundStyle}},FeedTabbedHeader:class extends KO{static type="FeedTabbedHeader";title;constructor(t){super(),this.title=new HU(t.title)}},FeedbackEndpoint:class extends KO{static type="FeedbackEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"feedback"}buildRequest(){const t={};return this.#o.feedbackToken&&(t.feedbackTokens=[this.#o.feedbackToken]),this.#o.cpn&&(t.feedbackContext={cpn:this.#o.cpn}),t.isFeedbackTokenUnencrypted=!!this.#o.isFeedbackTokenUnencrypted,t.shouldMerge=!!this.#o.shouldMerge,t}},FlexibleActionsView:RF,FormFooterView:xW,GameCard:iH,GameDetails:class extends KO{static type="GameDetails";title;box_art;box_art_overlay_text;endpoint;is_official_box_art;constructor(t){super(),this.title=new HU(t.title),this.box_art=BU.fromResponse(t.boxArt),this.box_art_overlay_text=new HU(t.boxArtOverlayText),this.endpoint=new NU(t.endpoint),this.is_official_box_art=!!t.isOfficialBoxArt}},GetAccountsListInnertubeEndpoint:class extends KO{static type="GetAccountsListInnertubeEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"account/accounts_list"}buildRequest(){const t={};return this.#o.requestType&&(t.requestType=this.#o.requestType,"ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"!==this.#o.requestType&&"ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT"!==this.#o.requestType||this.#o.nextUrl&&(t.nextNavendpoint={urlEndpoint:{url:this.#o.nextUrl}})),this.#o.channelSwitcherQuery&&(t.channelSwitcherQuery=this.#o.channelSwitcherQuery),this.#o.triggerChannelCreation&&(t.triggerChannelCreation=this.#o.triggerChannelCreation),this.#o.contentOwnerConfig&&this.#o.contentOwnerConfig.externalContentOwnerId&&(t.contentOwnerConfig=this.#o.contentOwnerConfig),this.#o.obfuscatedSelectedGaiaId&&(t.obfuscatedSelectedGaiaId=this.#o.obfuscatedSelectedGaiaId),this.#o.selectedSerializedDelegationContext&&(t.selectedSerializedDelegationContext=this.#o.selectedSerializedDelegationContext),this.#o.callCircumstance&&(t.callCircumstance=this.#o.callCircumstance),t}},GetKidsBlocklistPickerCommand:class extends KO{static type="GetKidsBlocklistPickerCommand";#o;constructor(t){super(),this.#o=t}getApiPath(){return"kids/get_kids_blocklist_picker"}buildRequest(){const t={};return this.#o.blockedForKidsContent&&(t.blockedForKidsContent=this.#o.blockedForKidsContent),t}},GetMultiPageMenuAction:class extends KO{static type="GetMultiPageMenuAction";menu;constructor(t){super(),this.menu=HG(t.menu,XU)}},Grid:class extends KO{static type="Grid";items;is_collapsible;visible_row_count;target_id;continuation;header;constructor(t){super(),this.items=WG(t.items),Reflect.has(t,"header")&&(this.header=HG(t.header)),Reflect.has(t,"isCollapsible")&&(this.is_collapsible=t.isCollapsible),Reflect.has(t,"visibleRowCount")&&(this.visible_row_count=t.visibleRowCount),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),this.continuation=t.continuations?.[0]?.nextContinuationData?.continuation||null}get contents(){return this.items}},GridChannel:class extends KO{static type="GridChannel";id;author;subscribers;video_count;endpoint;subscribe_button;constructor(t){super(),this.id=t.channelId,this.author=new YG({...t.title,navigationEndpoint:t.navigationEndpoint},t.ownerBadges,t.thumbnail),this.subscribers=new HU(t.subscriberCountText),this.video_count=new HU(t.videoCountText),this.endpoint=new NU(t.navigationEndpoint),this.subscribe_button=HG(t.subscribeButton)}},GridHeader:class extends KO{static type="GridHeader";title;constructor(t){super(),this.title=new HU(t.title)}},GridMix:class extends KO{static type="GridMix";id;title;author;thumbnails;video_count;video_count_short;endpoint;secondary_endpoint;thumbnail_overlays;constructor(t){super(),this.id=t.playlistId,this.title=new HU(t.title),this.author=t.shortBylineText?.simpleText?new HU(t.shortBylineText):t.longBylineText?.simpleText?new HU(t.longBylineText):null,this.thumbnails=BU.fromResponse(t.thumbnail),this.video_count=new HU(t.videoCountText),this.video_count_short=new HU(t.videoCountShortText),this.endpoint=new NU(t.navigationEndpoint),this.secondary_endpoint=new NU(t.secondaryNavigationEndpoint),this.thumbnail_overlays=WG(t.thumbnailOverlays)}},GridMovie:class extends KO{static type="GridMovie";id;title;thumbnails;duration;endpoint;badges;metadata;thumbnail_overlays;constructor(t){super();const e=t.thumbnailOverlays.find(t=>t.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))?.thumbnailOverlayTimeStatusRenderer;this.id=t.videoId,this.title=new HU(t.title),this.thumbnails=BU.fromResponse(t.thumbnail),this.duration=t.lengthText?new HU(t.lengthText):e?.text?new HU(e.text):null,this.endpoint=new NU(t.navigationEndpoint),this.badges=WG(t.badges,aH),this.metadata=new HU(t.metadata),this.thumbnail_overlays=WG(t.thumbnailOverlays)}},GridPlaylist:class extends KO{static type="GridPlaylist";id;title;author;badges;endpoint;view_playlist;thumbnails;thumbnail_renderer;sidebar_thumbnails;video_count;video_count_short;constructor(t){super(),this.id=t.playlistId,this.title=new HU(t.title),Reflect.has(t,"shortBylineText")&&(this.author=new YG(t.shortBylineText,t.ownerBadges)),this.badges=WG(t.ownerBadges),this.endpoint=new NU(t.navigationEndpoint),this.view_playlist=new HU(t.viewPlaylistText),this.thumbnails=BU.fromResponse(t.thumbnail),this.thumbnail_renderer=HG(t.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...t.sidebarThumbnails?.map(t=>BU.fromResponse(t))||[])||null,this.video_count=new HU(t.thumbnailText),this.video_count_short=new HU(t.videoCountShortText)}},GridShelfView:class extends KO{static type="GridShelfView";contents;header;content_aspect_ratio;enable_vertical_expansion;show_more_button;show_less_button;min_collapsed_item_count;constructor(t){super(),this.contents=WG(t.contents),this.header=HG(t.header),this.content_aspect_ratio=t.contentAspectRatio,this.enable_vertical_expansion=t.enableVerticalExpansion,this.show_more_button=HG(t.showMoreButton,fF),this.show_less_button=HG(t.showLessButton,fF),this.min_collapsed_item_count=t.minCollapsedItemCount}},GridShow:class extends KO{static type="GridShow";title;thumbnail_renderer;endpoint;long_byline_text;thumbnail_overlays;author;constructor(t){super(),this.title=new HU(t.title),this.thumbnail_renderer=HG(t.thumbnailRenderer,VW),this.endpoint=new NU(t.navigationEndpoint),this.long_byline_text=new HU(t.longBylineText),this.thumbnail_overlays=WG(t.thumbnailOverlays,OW),this.author=new YG(t.shortBylineText,void 0)}},GridVideo:class extends KO{static type="GridVideo";video_id;title;thumbnails;thumbnail_overlays;rich_thumbnail;published;duration;author;views;short_view_count;endpoint;menu;buttons;upcoming;upcoming_text;is_reminder_set;constructor(t){super();const e=t.thumbnailOverlays.find(t=>t.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))?.thumbnailOverlayTimeStatusRenderer;this.video_id=t.videoId,this.title=new HU(t.title),this.thumbnails=BU.fromResponse(t.thumbnail),this.thumbnail_overlays=WG(t.thumbnailOverlays),this.rich_thumbnail=HG(t.richThumbnail),this.published=new HU(t.publishedTimeText),this.duration=t.lengthText?new HU(t.lengthText):e?.text?new HU(e.text):null,this.author=t.shortBylineText&&new YG(t.shortBylineText,t.ownerBadges),this.views=new HU(t.viewCountText),this.short_view_count=new HU(t.shortViewCountText),this.endpoint=new NU(t.navigationEndpoint),this.menu=HG(t.menu,AF),Reflect.has(t,"buttons")&&(this.buttons=WG(t.buttons)),Reflect.has(t,"upcomingEventData")&&(this.upcoming=new Date(Number(`${t.upcomingEventData.startTime}000`)),this.upcoming_text=new HU(t.upcomingEventData.upcomingEventText),this.is_reminder_set=!!t.upcomingEventData?.isReminderSet)}get id(){return this.video_id}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}},GuideCollapsibleEntry:class extends KO{static type="GuideCollapsibleEntry";expander_item;collapser_item;expandable_items;constructor(t){super(),this.expander_item=HG(t.expanderItem,UW),this.collapser_item=HG(t.collapserItem,UW),this.expandable_items=WG(t.expandableItems)}},GuideCollapsibleSectionEntry:class extends KO{static type="GuideCollapsibleSectionEntry";header_entry;expander_icon;collapser_icon;section_items;constructor(t){super(),this.header_entry=HG(t.headerEntry),this.expander_icon=t.expanderIcon.iconType,this.collapser_icon=t.collapserIcon.iconType,this.section_items=WG(t.sectionItems)}},GuideDownloadsEntry:class extends UW{static type="GuideDownloadsEntry";always_show;constructor(t){super(t.entryRenderer.guideEntryRenderer),this.always_show=!!t.alwaysShow}},GuideEntry:UW,GuideSection:FW,GuideSubscriptionsSection:class extends FW{static type="GuideSubscriptionsSection"},HashtagHeader:class extends KO{static type="HashtagHeader";hashtag;hashtag_info;constructor(t){super(),this.hashtag=new HU(t.hashtag),this.hashtag_info=new HU(t.hashtagInfoText)}},HashtagTile:class extends KO{static type="HashtagTile";hashtag;hashtag_info_text;hashtag_thumbnail;endpoint;hashtag_background_color;hashtag_video_count;hashtag_channel_count;constructor(t){super(),this.hashtag=new HU(t.hashtag),this.hashtag_info_text=new HU(t.hashtagInfoText),this.hashtag_thumbnail=BU.fromResponse(t.hashtagThumbnail),this.endpoint=new NU(t.onTapCommand),this.hashtag_background_color=t.hashtagBackgroundColor,this.hashtag_video_count=new HU(t.hashtagVideoCount),this.hashtag_channel_count=new HU(t.hashtagChannelCount)}},HeatMarker:pW,Heatmap:_W,HeroPlaylistThumbnail:class extends KO{static type="HeroPlaylistThumbnail";thumbnails;on_tap_endpoint;constructor(t){super(),this.thumbnails=BU.fromResponse(t.thumbnail),this.on_tap_endpoint=new NU(t.onTap)}},HideEngagementPanelEndpoint:class extends KO{static type="HideEngagementPanelEndpoint";panel_identifier;constructor(t){super(),this.panel_identifier=t.panelIdentifier}},HighlightsCarousel:class extends KO{static type="HighlightsCarousel";panels;constructor(t){super(),this.panels=QO(t.highlightsCarousel.panels.map(t=>new HW(t)))}},HistorySuggestion:class extends WW{static type="HistorySuggestion";constructor(t){super(t)}},HorizontalCardList:dH,HorizontalList:sH,HorizontalMovieList:class extends KO{static type="HorizontalMovieList";items;previous_button;next_button;constructor(t){super(),this.items=WG(t.items),this.previous_button=HG(t.previousButton,RU),this.next_button=HG(t.nextButton,RU)}get contents(){return this.items}},HowThisWasMadeSectionView:TH,HypePointsFactoid:_H,IconLink:jW,ImageBannerView:GW,IncludingResultsFor:class extends KO{static type="IncludingResultsFor";including_results_for;corrected_query;corrected_query_endpoint;search_only_for;original_query;original_query_endpoint;constructor(t){super(),this.including_results_for=new HU(t.includingResultsFor),this.corrected_query=new HU(t.correctedQuery),this.corrected_query_endpoint=new NU(t.correctedQueryEndpoint),this.search_only_for=Reflect.has(t,"searchOnlyFor")?new HU(t.searchOnlyFor):void 0,this.original_query=Reflect.has(t,"originalQuery")?new HU(t.originalQuery):void 0,this.original_query_endpoint=Reflect.has(t,"originalQueryEndpoint")?new NU(t.originalQueryEndpoint):void 0}},InfoPanelContainer:qW,InfoPanelContent:$W,InfoRow:bH,InteractiveTabbedHeader:class extends KO{static type="InteractiveTabbedHeader";header_type;title;description;metadata;badges;box_art;banner;buttons;auto_generated;constructor(t){super(),this.header_type=t.type,this.title=new HU(t.title),this.description=new HU(t.description),this.metadata=new HU(t.metadata),this.badges=WG(t.badges,aH),this.box_art=BU.fromResponse(t.boxArt),this.banner=BU.fromResponse(t.banner),this.buttons=WG(t.buttons,[MH,RU]),this.auto_generated=new HU(t.autoGenerated)}},ItemSection:class extends KO{static type="ItemSection";header;contents;target_id;continuation;constructor(t){super(),this.header=HG(t.header,[tW,KW,zW,QW,BW]),this.contents=WG(t.contents),(t.targetId||t.sectionIdentifier)&&(this.target_id=t.targetId||t.sectionIdentifier),t.continuations&&(this.continuation=t.continuations?.at(0)?.nextContinuationData?.continuation)}},ItemSectionHeader:KW,ItemSectionTab:YW,ItemSectionTabbedHeader:zW,KidsBlocklistPicker:class extends KO{static type="KidsBlocklistPicker";title;child_rows;done_button;successful_toast_action_message;constructor(t){super(),this.title=new HU(t.title),this.child_rows=jG(t.childRows,!0,[lG]),this.done_button=HG(t.doneButton,[RU]),this.successful_toast_action_message=new HU(t.successfulToastActionMessage)}},KidsBlocklistPickerItem:lG,KidsCategoriesHeader:class extends KO{static type="kidsCategoriesHeader";category_tabs;privacy_button;constructor(t){super(),this.category_tabs=WG(t.categoryTabs,hG),this.privacy_button=HG(t.privacyButtonRenderer,RU)}},KidsCategoryTab:hG,KidsHomeScreen:class extends KO{static type="kidsHomeScreen";anchors;constructor(t){super(),this.anchors=WG(t.anchors,cG)}},LikeButton:PF,LikeButtonView:xF,LikeEndpoint:class extends KO{static type="LikeEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"DISLIKE"===this.#o.status?"like/dislike":"INDIFFERENT"===this.#o.status?"like/removelike":"like/like"}buildRequest(){const t={};this.#o.target&&(t.target=this.#o.target);const e=this.getParams();return e&&(t.params=e),t}getParams(){switch(this.#o.status){case"LIKE":return this.#o.likeParams;case"DISLIKE":return this.#o.dislikeParams;case"INDIFFERENT":return this.#o.removeLikeParams;default:return}}},ListItemView:SW,ListView:CW,LiveChat:class extends KO{static type="LiveChat";header;initial_display_state;continuation;client_messages;is_replay;constructor(t){super(),this.header=HG(t.header),this.initial_display_state=t.initialDisplayState,this.continuation=t.continuations[0]?.reloadContinuationData?.continuation,this.client_messages={reconnect_message:new HU(t.clientMessages.reconnectMessage),unable_to_reconnect_message:new HU(t.clientMessages.unableToReconnectMessage),fatal_error:new HU(t.clientMessages.fatalError),reconnected_message:new HU(t.clientMessages.reconnectedMessage),generic_error:new HU(t.clientMessages.genericError)},this.is_replay=!!t.isReplay}},LiveChatActionPanel:aj,LiveChatAuthorBadge:sj,LiveChatAutoModMessage:class extends KO{static type="LiveChatAutoModMessage";menu_endpoint;moderation_buttons;auto_moderated_item;header_text;timestamp;id;constructor(t){super(),this.menu_endpoint=new NU(t.contextMenuEndpoint),this.moderation_buttons=WG(t.moderationButtons,RU),this.auto_moderated_item=HG(t.autoModeratedItem),this.header_text=new HU(t.headerText),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.id=t.id}},LiveChatBanner:JW,LiveChatBannerChatSummary:class extends KO{static type="LiveChatBannerChatSummary";id;chat_summary;icon_type;like_feedback_button;dislike_feedback_button;constructor(t){super(),this.id=t.liveChatSummaryId,this.chat_summary=new HU(t.chatSummary),this.icon_type=t.icon.iconType,this.like_feedback_button=HG(t.likeFeedbackButton,wF),this.dislike_feedback_button=HG(t.dislikeFeedbackButton,wF)}},LiveChatBannerHeader:XW,LiveChatBannerPoll:class extends KO{static type="LiveChatBannerPoll";poll_question;author_photo;choices;collapsed_state_entity_key;live_chat_poll_state_entity_key;context_menu_button;constructor(t){super(),this.poll_question=new HU(t.pollQuestion),this.author_photo=BU.fromResponse(t.authorPhoto),this.choices=t.pollChoices.map(t=>({option_id:t.pollOptionId,text:new HU(t.text).toString()})),this.collapsed_state_entity_key=t.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=t.liveChatPollStateEntityKey,this.context_menu_button=HG(t.contextMenuButton,RU)}},LiveChatBannerRedirect:class extends KO{static type="LiveChatBannerRedirect";banner_message;author_photo;inline_action_button;context_menu_button;constructor(t){super(),this.banner_message=new HU(t.bannerMessage),this.author_photo=BU.fromResponse(t.authorPhoto),this.inline_action_button=HG(t.inlineActionButton,RU),this.context_menu_button=HG(t.contextMenuButton,RU)}},LiveChatDialog:class extends KO{static type="LiveChatDialog";confirm_button;dialog_messages;constructor(t){super(),this.confirm_button=HG(t.confirmButton,RU),this.dialog_messages=t.dialogMessages.map(t=>new HU(t))}},LiveChatHeader:class extends KO{static type="LiveChatHeader";overflow_menu;collapse_button;view_selector;constructor(t){super(),this.overflow_menu=HG(t.overflowMenu,AF),this.collapse_button=HG(t.collapseButton,RU),this.view_selector=HG(t.viewSelector,ZU)}},LiveChatItemBumperView:ej,LiveChatItemContextMenuEndpoint:class extends KO{static type="LiveChatItemContextMenuEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"live_chat/get_item_context_menu"}buildRequest(){const t={};return this.#o.params&&(t.params=this.#o.params),t}},LiveChatItemList:class extends KO{static type="LiveChatItemList";max_items_to_display;more_comments_below_button;constructor(t){super(),this.max_items_to_display=t.maxItemsToDisplay,this.more_comments_below_button=HG(t.moreCommentsBelowButton,RU)}},LiveChatMembershipItem:class extends KO{static type="LiveChatMembershipItem";id;timestamp;timestamp_usec;timestamp_text;header_primary_text;header_subtext;message;author;menu_endpoint;context_menu_accessibility_label;constructor(t){super(),this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,Reflect.has(t,"timestampText")&&(this.timestamp_text=new HU(t.timestampText)),Reflect.has(t,"headerPrimaryText")&&(this.header_primary_text=new HU(t.headerPrimaryText)),this.header_subtext=new HU(t.headerSubtext),Reflect.has(t,"message")&&(this.message=new HU(t.message)),this.author=new YG(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.menu_endpoint=new NU(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label}},LiveChatMessageInput:class extends KO{static type="LiveChatMessageInput";author_name;author_photo;send_button;target_id;constructor(t){super(),this.author_name=new HU(t.authorName),this.author_photo=BU.fromResponse(t.authorPhoto),this.send_button=HG(t.sendButton,RU),this.target_id=t.targetId}},LiveChatModeChangeMessage:class extends KO{static type="LiveChatModeChangeMessage";id;icon_type;text;subtext;timestamp;timestamp_usec;timestamp_text;constructor(t){super(),this.id=t.id,this.icon_type=t.icon.iconType,this.text=new HU(t.text),this.subtext=new HU(t.subtext),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,this.timestamp_text=new HU(t.timestampText)}},LiveChatPaidMessage:class extends KO{static type="LiveChatPaidMessage";id;message;author;author_name_text_color;header_background_color;header_text_color;body_background_color;body_text_color;purchase_amount;menu_endpoint;context_menu_accessibility_label;timestamp;timestamp_usec;timestamp_text;timestamp_color;header_overlay_image;text_input_background_color;lower_bumper;creator_heart_button;is_v2_style;reply_button;constructor(t){super(),this.id=t.id,this.message=new HU(t.message),this.author=new YG(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.author_name_text_color=t.authorNameTextColor,this.header_background_color=t.headerBackgroundColor,this.header_text_color=t.headerTextColor,this.body_background_color=t.bodyBackgroundColor,this.body_text_color=t.bodyTextColor,this.purchase_amount=new HU(t.purchaseAmountText).toString(),this.menu_endpoint=new NU(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,Reflect.has(t,"timestampText")&&(this.timestamp_text=new HU(t.timestampText).toString()),this.timestamp_color=t.timestampColor,Reflect.has(t,"headerOverlayImage")&&(this.header_overlay_image=BU.fromResponse(t.headerOverlayImage)),this.text_input_background_color=t.textInputBackgroundColor,this.lower_bumper=HG(t.lowerBumper,ej),this.creator_heart_button=HG(t.creatorHeartButton,tj),this.is_v2_style=t.isV2Style,this.reply_button=HG(t.replyButton,ij)}},LiveChatPaidSticker:class extends KO{static type="LiveChatPaidSticker";id;author;money_chip_background_color;money_chip_text_color;background_color;author_name_text_color;sticker;sticker_accessibility_label;sticker_display_width;sticker_display_height;purchase_amount;menu_endpoint;context_menu;context_menu_accessibility_label;timestamp;timestamp_usec;is_v2_style;constructor(t){super(),this.id=t.id,this.author=new YG(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.money_chip_background_color=t.moneyChipBackgroundColor,this.money_chip_text_color=t.moneyChipTextColor,this.background_color=t.backgroundColor,this.author_name_text_color=t.authorNameTextColor,this.sticker=BU.fromResponse(t.sticker),this.sticker_accessibility_label=t.sticker.accessibility.accessibilityData.label,this.sticker_display_width=t.stickerDisplayWidth,this.sticker_display_height=t.stickerDisplayHeight,this.purchase_amount=new HU(t.purchaseAmountText).toString(),this.menu_endpoint=new NU(t.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,this.is_v2_style=t.isV2Style}},LiveChatParticipant:oj,LiveChatParticipantsList:class extends KO{static type="LiveChatParticipantsList";title;participants;constructor(t){super(),this.title=new HU(t.title),this.participants=WG(t.participants,oj)}},LiveChatPlaceholderItem:class extends KO{static type="LiveChatPlaceholderItem";id;timestamp;constructor(t){super(),this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3)}},LiveChatProductItem:class extends KO{static type="LiveChatProductItem";title;accessibility_title;thumbnail;price;vendor_name;from_vendor_text;information_button;endpoint;creator_message;creator_name;author_photo;information_dialog;is_verified;creator_custom_message;constructor(t){super(),this.title=t.title,this.accessibility_title=t.accessibilityTitle,this.thumbnail=BU.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.from_vendor_text=t.fromVendorText,this.information_button=HG(t.informationButton),this.endpoint=new NU(t.onClickCommand),this.creator_message=t.creatorMessage,this.creator_name=t.creatorName,this.author_photo=BU.fromResponse(t.authorPhoto),this.information_dialog=HG(t.informationDialog),this.is_verified=t.isVerified,this.creator_custom_message=new HU(t.creatorCustomMessage)}},LiveChatRestrictedParticipation:class extends KO{static type="LiveChatRestrictedParticipation";message;icon_type;constructor(t){super(),this.message=new HU(t.message),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}},LiveChatSponsorshipsGiftPurchaseAnnouncement:class extends KO{static type="LiveChatSponsorshipsGiftPurchaseAnnouncement";id;timestamp_usec;author_external_channel_id;header;constructor(t){super(),this.id=t.id,this.timestamp_usec=t.timestampUsec,this.author_external_channel_id=t.authorExternalChannelId,this.header=HG(t.header,nj)}},LiveChatSponsorshipsGiftRedemptionAnnouncement:class extends KO{static type="LiveChatSponsorshipsGiftRedemptionAnnouncement";id;timestamp_usec;timestamp_text;author;message;menu_endpoint;context_menu_accessibility_label;constructor(t){super(),this.id=t.id,this.timestamp_usec=t.timestampUsec,this.timestamp_text=new HU(t.timestampText),this.author=new YG(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.message=new HU(t.message),this.menu_endpoint=new NU(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label}},LiveChatSponsorshipsHeader:nj,LiveChatTextMessage:class extends KO{static type="LiveChatTextMessage";id;message;inline_action_buttons;timestamp;timestamp_usec;timestamp_text;author;menu_endpoint;context_menu_accessibility_label;before_content_buttons;constructor(t){super(),this.id=t.id,this.message=new HU(t.message),this.inline_action_buttons=WG(t.inlineActionButtons,RU),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,Reflect.has(t,"timestampText")&&(this.timestamp_text=new HU(t.timestampText).toString()),this.author=new YG(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),Reflect.has(t,"contextMenuEndpoint")&&(this.menu_endpoint=new NU(t.contextMenuEndpoint)),Reflect.has(t,"contextMenuAccessibility")&&Reflect.has(t.contextMenuAccessibility,"accessibilityData")&&Reflect.has(t.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label),this.before_content_buttons=WG(t.beforeContentButtons,fF)}},LiveChatTickerPaidMessageItem:class extends KO{static type="LiveChatTickerPaidMessageItem";id;author;amount;amount_text_color;start_background_color;end_background_color;duration_sec;full_duration_sec;show_item;show_item_endpoint;animation_origin;open_engagement_panel_command;constructor(t){super(),this.id=t.id,this.author=new YG(t.authorName||t.authorUsername,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),Reflect.has(t,"amount")&&(this.amount=new HU(t.amount)),this.amount_text_color=t.amountTextColor,this.start_background_color=t.startBackgroundColor,this.end_background_color=t.endBackgroundColor,this.duration_sec=t.durationSec,this.full_duration_sec=t.fullDurationSec,this.show_item=HG(t.showItemEndpoint?.showLiveChatItemEndpoint?.renderer),this.show_item_endpoint=new NU(t.showItemEndpoint),this.animation_origin=t.animationOrigin,this.open_engagement_panel_command=new NU(t.openEngagementPanelCommand)}},LiveChatTickerPaidStickerItem:class extends KO{static type="LiveChatTickerPaidStickerItem";id;author_external_channel_id;author_photo;start_background_color;end_background_color;duration_sec;full_duration_sec;show_item;show_item_endpoint;ticker_thumbnails;constructor(t){super(),this.id=t.id,this.author_external_channel_id=t.authorExternalChannelId,this.author_photo=BU.fromResponse(t.authorPhoto),this.start_background_color=t.startBackgroundColor,this.end_background_color=t.endBackgroundColor,this.duration_sec=t.durationSec,this.full_duration_sec=t.fullDurationSec,this.show_item=HG(t.showItemEndpoint?.showLiveChatItemEndpoint?.renderer),this.show_item_endpoint=new NU(t.showItemEndpoint),this.ticker_thumbnails=t.tickerThumbnails.map(t=>({thumbnails:BU.fromResponse(t),label:t?.accessibility?.accessibilityData?.label}))}},LiveChatTickerSponsorItem:class extends KO{static type="LiveChatTickerSponsorItem";id;detail;author;duration_sec;constructor(t){super(),this.id=t.id,this.detail=new HU(t.detailText),this.author=new YG(t.authorName,t.authorBadges,t.sponsorPhoto,t.authorExternalChannelId),this.duration_sec=t.durationSec}},LiveChatViewerEngagementMessage:class extends KO{static type="LiveChatViewerEngagementMessage";id;timestamp;timestamp_usec;icon_type;message;action_button;menu_endpoint;context_menu_accessibility_label;constructor(t){super(),this.id=t.id,Reflect.has(t,"timestampUsec")&&(this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.message=new HU(t.message),this.action_button=HG(t.actionButton),Reflect.has(t,"contextMenuEndpoint")&&(this.menu_endpoint=new NU(t.contextMenuEndpoint)),Reflect.has(t,"contextMenuAccessibility")&&Reflect.has(t.contextMenuAccessibility,"accessibilityData")&&Reflect.has(t.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label)}},LockupMetadataView:rj,LockupView:cj,MacroMarkersInfoItem:zF,MacroMarkersList:XF,MacroMarkersListEntity:class extends KO{static type="MacroMarkersListEntity";marker_entity_key;external_video_id;marker_type;markers;max_height_dp;min_height_dp;show_hide_animation_duration_millis;timed_marker_decorations;raw_api_markers;raw_api_decorations;constructor(t){super(),this.marker_entity_key=t.key,this.external_video_id=t.externalVideoId,this.marker_type=t.markersList?.markerType||"",this.raw_api_markers=t.markersList?.markers||[],this.raw_api_decorations=t.markersList?.markersDecoration?.timedMarkerDecorations||[],this.markers=QO(this.raw_api_markers.map(t=>new pW(t)));const e=t.markersList?.markersMetadata?.heatmapMetadata;this.max_height_dp=e?.maxHeightDp||40,this.min_height_dp=e?.minHeightDp||4,this.show_hide_animation_duration_millis=e?.showHideAnimationDurationMillis||200,this.timed_marker_decorations=QO(this.raw_api_decorations.map(t=>new mW(t)))}isHeatmap(){return"MARKER_TYPE_HEATMAP"===this.marker_type}toHeatmap(){if(!this.isHeatmap())return null;const t=this.raw_api_markers.map(t=>({HeatMarker:t})),e=this.raw_api_decorations.map(t=>({TimedMarkerDecoration:t}));return HG({Heatmap:{maxHeightDp:this.max_height_dp,minHeightDp:this.min_height_dp,showHideAnimationDurationMillis:this.show_hide_animation_duration_millis,heatMarkers:t,heatMarkersDecorations:e}},_W)}},MacroMarkersListItem:QF,MarkChatItemAsDeletedAction:class extends KO{static type="MarkChatItemAsDeletedAction";deleted_state_message;target_item_id;constructor(t){super(),this.deleted_state_message=new HU(t.deletedStateMessage),this.target_item_id=t.targetItemId}},MarkChatItemsByAuthorAsDeletedAction:class extends KO{static type="MarkChatItemsByAuthorAsDeletedAction";deleted_state_message;external_channel_id;constructor(t){super(),this.deleted_state_message=new HU(t.deletedStateMessage),this.external_channel_id=t.externalChannelId}},Menu:AF,MenuFlexibleItem:EF,MenuNavigationItem:lj,MenuPopup:class extends KO{static type="MenuPopup";items;constructor(t){super(),this.items=WG(t.items,[lj,CF])}},MenuServiceItem:CF,MenuServiceItemDownload:IF,MenuTitle:rF,MerchandiseItem:class extends KO{static type="MerchandiseItem";title;description;thumbnails;price;vendor_name;button_text;button_accessibility_text;from_vendor_text;additional_fees_text;region_format;endpoint;constructor(t){super(),this.title=t.title,this.description=t.description,this.thumbnails=BU.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.button_text=t.buttonText,this.button_accessibility_text=t.buttonAccessibilityText,this.from_vendor_text=t.fromVendorText,this.additional_fees_text=t.additionalFeesText,this.region_format=t.regionFormat,this.endpoint=new NU(t.buttonCommand)}},MerchandiseShelf:class extends KO{static type="MerchandiseShelf";title;menu;items;constructor(t){super(),this.title=t.title,this.menu=HG(t.actionButton),this.items=WG(t.items)}get contents(){return this.items}},Message:rW,MetadataBadge:aH,MetadataRow:class extends KO{static type="MetadataRow";title;contents;constructor(t){super(),this.title=new HU(t.title),this.contents=t.contents.map(t=>new HU(t))}},MetadataRowContainer:mj,MetadataRowHeader:class extends KO{static type="MetadataRowHeader";content;has_divider_line;constructor(t){super(),this.content=new HU(t.content),this.has_divider_line=t.hasDividerLine}},MetadataScreen:class extends KO{static type="MetadataScreen";section_list;constructor(t){super(),this.section_list=HG(t)}},MicroformatData:class extends KO{static type="MicroformatData";url_canonical;title;description;thumbnail;site_name;app_name;android_package;ios_app_store_id;ios_app_arguments;og_type;url_applinks_web;url_applinks_ios;url_applinks_android;url_twitter_ios;url_twitter_android;twitter_card_type;twitter_site_handle;schema_dot_org_type;noindex;is_unlisted;is_family_safe;tags;available_countries;constructor(t){super(),this.url_canonical=t.urlCanonical,this.title=t.title,this.description=t.description,this.thumbnail=BU.fromResponse(t.thumbnail),this.site_name=t.siteName,this.app_name=t.appName,this.android_package=t.androidPackage,this.ios_app_store_id=t.iosAppStoreId,this.ios_app_arguments=t.iosAppArguments,this.og_type=t.ogType,this.url_applinks_web=t.urlApplinksWeb,this.url_applinks_ios=t.urlApplinksIos,this.url_applinks_android=t.urlApplinksAndroid,this.url_twitter_ios=t.urlTwitterIos,this.url_twitter_android=t.urlTwitterAndroid,this.twitter_card_type=t.twitterCardType,this.twitter_site_handle=t.twitterSiteHandle,this.schema_dot_org_type=t.schemaDotOrgType,this.noindex=t.noindex,this.is_unlisted=t.unlisted,this.is_family_safe=t.familySafe,this.tags=t.tags,this.available_countries=t.availableCountries}},Mix:class extends aW{static type="Mix";constructor(t){super(t)}},MobileTopbar:class extends KO{static type="MobileTopbar";placeholder_text;buttons;logo_type;constructor(t){super(),this.placeholder_text=new HU(t.placeholderText),this.buttons=WG(t.buttons),Reflect.has(t,"logo")&&Reflect.has(t.logo,"iconType")&&(this.logo_type=t.logo.iconType)}},ModalWithTitleAndButton:class extends KO{static type="ModalWithTitleAndButton";title;content;button;constructor(t){super(),this.title=new HU(t.title),this.content=new HU(t.content),this.button=HG(t.button,RU)}},ModifyChannelNotificationPreferenceEndpoint:class extends KO{static type="ModifyChannelNotificationPreferenceEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"notification/modify_channel_preference"}buildRequest(){const t={};return this.#o.params&&(t.params=this.#o.params),this.#o.secondaryParams&&(t.secondaryParams=this.#o.secondaryParams),t}},Movie:class extends KO{static type="Movie";id;title;description_snippet;top_metadata_items;thumbnails;thumbnail_overlays;author;duration;endpoint;badges;use_vertical_poster;show_action_menu;menu;constructor(t){super();const e=t.thumbnailOverlays.find(t=>t.thumbnailOverlayTimeStatusRenderer)?.thumbnailOverlayTimeStatusRenderer.text||"N/A";this.id=t.videoId,this.title=new HU(t.title),Reflect.has(t,"descriptionSnippet")&&(this.description_snippet=new HU(t.descriptionSnippet)),this.top_metadata_items=new HU(t.topMetadataItems),this.thumbnails=BU.fromResponse(t.thumbnail),this.thumbnail_overlays=WG(t.thumbnailOverlays),this.author=new YG(t.longBylineText,t.ownerBadges,t.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail),this.duration={text:t.lengthText?new HU(t.lengthText).toString():new HU(e).toString(),seconds:JG(t.lengthText?new HU(t.lengthText).toString():new HU(e).toString())},this.endpoint=new NU(t.navigationEndpoint),this.badges=WG(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.show_action_menu=t.showActionMenu,this.menu=HG(t.menu,AF)}},MovingThumbnail:class extends KO{static type="MovingThumbnail";constructor(t){return super(),t.movingThumbnailDetails?.thumbnails.map(t=>new BU(t)).sort((t,e)=>e.width-t.width)}},MultiMarkersPlayerBar:yW,MultiPageMenu:XU,MultiPageMenuNotificationSection:class extends KO{static type="MultiPageMenuNotificationSection";notification_section_title;items;constructor(t){super(),"notificationSectionTitle"in t&&(this.notification_section_title=new HU(t.notificationSectionTitle)),this.items=WG(t.items,[hj,rW,KF])}get contents(){return this.items}},MultiPageMenuSection:class extends KO{static type="MultiPageMenuSection";items;constructor(t){super(),this.items=WG(t.items)}},MusicCardShelf:class extends KO{static type="MusicCardShelf";thumbnail;title;subtitle;buttons;menu;on_tap;header;end_icon_type;subtitle_badges;thumbnail_overlay;contents;constructor(t){super(),this.thumbnail=HG(t.thumbnail,gj),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle),this.buttons=WG(t.buttons,RU),this.menu=HG(t.menu,AF),this.on_tap=new NU(t.onTap),this.header=HG(t.header,_j),Reflect.has(t,"endIcon")&&Reflect.has(t.endIcon,"iconType")&&(this.end_icon_type=t.endIcon.iconType),this.subtitle_badges=WG(t.subtitleBadges,fj),this.thumbnail_overlay=HG(t.thumbnailOverlay,bj),Reflect.has(t,"contents")&&(this.contents=WG(t.contents))}},MusicCardShelfHeaderBasic:_j,MusicCarouselShelf:class extends KO{static type="MusicCarouselShelf";header;contents;num_items_per_column;constructor(t){super(),this.header=HG(t.header,vj),this.contents=WG(t.contents,[Tj,Cj,wj,xj]),Reflect.has(t,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(t.numItemsPerColumn))}},MusicCarouselShelfBasicHeader:vj,MusicDescriptionShelf:Ij,MusicDetailHeader:class extends KO{static type="MusicDetailHeader";title;description;subtitle;second_subtitle;year;song_count;total_duration;thumbnails;badges;author;menu;constructor(t){super(),this.title=new HU(t.title),this.description=new HU(t.description),this.subtitle=new HU(t.subtitle),this.second_subtitle=new HU(t.secondSubtitle),this.year=this.subtitle.runs?.find(t=>/^[12][0-9]{3}$/.test(t.text))?.text||"",this.song_count=this.second_subtitle.runs?.[0]?.text||"",this.total_duration=this.second_subtitle.runs?.[2]?.text||"",this.thumbnails=BU.fromResponse(t.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=WG(t.subtitleBadges);const e=this.subtitle.runs?.find(t=>t?.endpoint?.payload?.browseId.startsWith("UC"));e&&(this.author={name:e.text,channel_id:e.endpoint?.payload?.browseId,endpoint:e.endpoint}),this.menu=HG(t.menu)}},MusicDownloadStateBadge:class extends KO{static type="MusicDownloadStateBadge";playlist_id;supported_download_states;constructor(t){super(),this.playlist_id=t.playlistId,this.supported_download_states=t.supportedDownloadStates}},MusicEditablePlaylistDetailHeader:class extends KO{static type="MusicEditablePlaylistDetailHeader";header;edit_header;playlist_id;constructor(t){super(),this.header=HG(t.header),this.edit_header=HG(t.editHeader),this.playlist_id=t.playlistId}},MusicElementHeader:class extends KO{static type="MusicElementHeader";element;constructor(t){super(),this.element=Reflect.has(t,"elementRenderer")?HG(t,PW):null}},MusicHeader:class extends KO{static type="MusicHeader";header;title;constructor(t){super(),Reflect.has(t,"header")&&(this.header=HG(t.header)),Reflect.has(t,"title")&&(this.title=new HU(t.title))}},MusicImmersiveHeader:class extends KO{static type="MusicImmersiveHeader";title;menu;more_button;play_button;share_endpoint;start_radio_button;subscription_button;description;thumbnail;constructor(t){super(),this.title=new HU(t.title),this.menu=HG(t.menu,AF),this.more_button=HG(t.moreButton,bF),this.play_button=HG(t.playButton,RU),"shareEndpoint"in t&&(this.share_endpoint=new NU(t.shareEndpoint)),this.start_radio_button=HG(t.startRadioButton,RU),this.subscription_button=HG(t.subscriptionButton,MH),this.description=new HU(t.description),this.thumbnail=HG(t.thumbnail,gj)}},MusicInlineBadge:fj,MusicItemThumbnailOverlay:bj,MusicLargeCardItemCarousel:class extends KO{static type="MusicLargeCardItemCarousel";panels;header;constructor(t){super(),this.header=t.shelf.header,this.panels=t.shelf.panels.map(t=>new Pj(t))}},MusicMenuItemDivider:dj,MusicMultiRowListItem:wj,MusicMultiSelectMenu:pj,MusicMultiSelectMenuItem:uj,MusicNavigationButton:xj,MusicPlayButton:yj,MusicPlaylistEditHeader:class extends KO{static type="MusicPlaylistEditHeader";title;edit_title;edit_description;privacy;playlist_id;endpoint;privacy_dropdown;constructor(t){super(),this.title=new HU(t.title),this.edit_title=new HU(t.editTitle),this.edit_description=new HU(t.editDescription),this.privacy=t.privacy,this.playlist_id=t.playlistId,this.endpoint=new NU(t.collaborationSettingsCommand),this.privacy_dropdown=HG(t.privacyDropdown,MU)}},MusicPlaylistShelf:class extends KO{static type="MusicPlaylistShelf";playlist_id;contents;collapsed_item_count;continuation;constructor(t){super(),this.playlist_id=t.playlistId,this.contents=WG(t.contents,[Cj,KF]),this.collapsed_item_count=t.collapsedItemCount,this.continuation=t.continuations?.[0]?.nextContinuationData?.continuation||null}},MusicQueue:Lj,MusicResponsiveHeader:class extends KO{static type="MusicResponsiveHeader";thumbnail;buttons;title;subtitle;strapline_text_one;strapline_thumbnail;second_subtitle;subtitle_badge;description;constructor(t){super(),this.thumbnail=HG(t.thumbnail,gj),this.buttons=WG(t.buttons,[TF,bF,yj,RU,AF]),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle),this.strapline_text_one=new HU(t.straplineTextOne),this.strapline_thumbnail=HG(t.straplineThumbnail,gj),this.second_subtitle=new HU(t.secondSubtitle),Reflect.has(t,"subtitleBadge")&&(this.subtitle_badge=WG(t.subtitleBadge,fj)),Reflect.has(t,"description")&&(this.description=HG(t.description,Ij))}},MusicResponsiveListItem:Cj,MusicResponsiveListItemFixedColumn:kj,MusicResponsiveListItemFlexColumn:Sj,MusicShelf:Dj,MusicSideAlignedItem:class extends KO{static type="MusicSideAlignedItem";start_items;end_items;constructor(t){super(),Reflect.has(t,"startItems")&&(this.start_items=WG(t.startItems)),Reflect.has(t,"endItems")&&(this.end_items=WG(t.endItems))}},MusicSortFilterButton:class extends KO{static type="MusicSortFilterButton";title;icon_type;menu;constructor(t){super(),this.title=new HU(t.title).toString(),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.menu=HG(t.menu,pj)}},MusicTastebuilderShelf:class extends KO{static type="MusicTasteBuilderShelf";thumbnail;primary_text;secondary_text;action_button;is_visible;constructor(t){super(),this.thumbnail=HG(t.thumbnail,Nj),this.primary_text=new HU(t.primaryText),this.secondary_text=new HU(t.secondaryText),this.action_button=HG(t.actionButton,RU),this.is_visible=t.isVisible}},MusicTastebuilderShelfThumbnail:Nj,MusicThumbnail:gj,MusicTwoRowItem:Tj,MusicVisualHeader:class extends KO{static type="MusicVisualHeader";title;thumbnail;menu;foreground_thumbnail;constructor(t){super(),this.title=new HU(t.title),this.thumbnail=t.thumbnail?BU.fromResponse(t.thumbnail.musicThumbnailRenderer?.thumbnail):[],this.menu=HG(t.menu,AF),this.foreground_thumbnail=t.foregroundThumbnail?BU.fromResponse(t.foregroundThumbnail.musicThumbnailRenderer?.thumbnail):[]}},NavigationEndpoint:NU,Notification:hj,NotificationAction:class extends KO{static type="NotificationAction";response_text;constructor(t){super(),this.response_text=new HU(t.responseText)}},OpenOnePickAddVideoModalCommand:class extends KO{static type="OpenOnePickAddVideoModalCommand";list_id;modal_title;select_button_label;constructor(t){super(),this.list_id=t.listId,this.modal_title=t.modalTitle,this.select_button_label=t.selectButtonLabel}},OpenPopupAction:PU,PageHeader:class extends KO{static type="PageHeader";page_title;content;constructor(t){super(),this.page_title=t.pageTitle,this.content=HG(t.content,Bj)}},PageHeaderView:Bj,PageIntroduction:class extends KO{static type="PageIntroduction";header_text;body_text;page_title;header_icon_type;constructor(t){super(),this.header_text=new HU(t.headerText).toString(),this.body_text=new HU(t.bodyText).toString(),this.page_title=new HU(t.pageTitle).toString(),this.header_icon_type=t.headerIcon.iconType}},PanelFooterView:wW,PdgCommentChip:class extends KO{static type="PdgCommentChip";text;color_pallette;icon_type;constructor(t){super(),this.text=new HU(t.chipText),this.color_pallette={background_color:t.chipColorPalette?.backgroundColor,foreground_title_color:t.chipColorPalette?.foregroundTitleColor},Reflect.has(t,"chipIcon")&&Reflect.has(t.chipIcon,"iconType")&&(this.icon_type=t.chipIcon.iconType)}},PdgReplyButtonView:ij,PerformCommentActionEndpoint:class extends KO{static type="PerformCommentActionEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"comment/perform_comment_action"}buildRequest(){const t={};return this.#o.actions&&(t.actions=this.#o.actions),this.#o.action&&(t.actions=[this.#o.action]),t}},PivotBar:class extends KO{static type="PivotBar";items;constructor(t){super(),this.items=WG(t.items)}},PivotBarItem:class extends KO{static type="PivotBarItem";pivot_identifier;endpoint;title;accessibility_label;icon_type;accessibility;constructor(t){super(),this.pivot_identifier=t.pivotIdentifier,this.endpoint=new NU(t.navigationEndpoint),this.title=new Text(t.title),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new JO(t.accessibility.accessibilityData)}),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}get label(){return this.accessibility?.accessibility_data?.label}},PivotButton:Vj,PlayerAnnotationsExpanded:class extends KO{static type="PlayerAnnotationsExpanded";featured_channel;allow_swipe_dismiss;annotation_id;constructor(t){super(),Reflect.has(t,"featuredChannel")&&(this.featured_channel={start_time_ms:t.featuredChannel.startTimeMs,end_time_ms:t.featuredChannel.endTimeMs,watermark:BU.fromResponse(t.featuredChannel.watermark),channel_name:t.featuredChannel.channelName,endpoint:new NU(t.featuredChannel.navigationEndpoint),subscribe_button:HG(t.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=t.allowSwipeDismiss,this.annotation_id=t.annotationId}},PlayerCaptionsTracklist:class extends KO{static type="PlayerCaptionsTracklist";caption_tracks;audio_tracks;default_audio_track_index;translation_languages;constructor(t){super(),Reflect.has(t,"captionTracks")&&(this.caption_tracks=t.captionTracks.map(t=>({base_url:t.baseUrl,name:new HU(t.name),vss_id:t.vssId,language_code:t.languageCode,kind:t.kind,is_translatable:t.isTranslatable}))),Reflect.has(t,"audioTracks")&&(this.audio_tracks=t.audioTracks.map(t=>({audio_track_id:t.audioTrackId,captions_initial_state:t.captionsInitialState,default_caption_track_index:t.defaultCaptionTrackIndex,has_default_track:t.hasDefaultTrack,visibility:t.visibility,caption_track_indices:t.captionTrackIndices}))),Reflect.has(t,"defaultAudioTrackIndex")&&(this.default_audio_track_index=t.defaultAudioTrackIndex),Reflect.has(t,"translationLanguages")&&(this.translation_languages=t.translationLanguages.map(t=>({language_code:t.languageCode,language_name:new HU(t.languageName)})))}},PlayerControlsOverlay:class extends KO{static type="PlayerControlsOverlay";overflow;constructor(t){super(),this.overflow=HG(t.overflow,Oj)}},PlayerErrorMessage:class extends KO{static type="PlayerErrorMessage";subreason;reason;proceed_button;thumbnails;icon_type;constructor(t){super(),this.subreason=new HU(t.subreason),this.reason=new HU(t.reason),this.proceed_button=HG(t.proceedButton,RU),this.thumbnails=BU.fromResponse(t.thumbnail),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}},PlayerLegacyDesktopYpcOffer:class extends KO{static type="PlayerLegacyDesktopYpcOffer";title;thumbnail;offer_description;offer_id;constructor(t){super(),this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_description=t.offerDescription,this.offer_id=t.offerId}},PlayerLegacyDesktopYpcTrailer:class extends KO{static type="PlayerLegacyDesktopYpcTrailer";video_id;title;thumbnail;offer_headline;offer_description;offer_id;offer_button_text;video_message;trailer;constructor(t){super(),this.video_id=t.trailerVideoId,this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_headline=t.offerHeadline,this.offer_description=t.offerDescription,this.offer_id=t.offerId,this.offer_button_text=t.offerButtonText,this.video_message=t.fullVideoMessage,this.trailer=HG(t.ypcTrailer,Uj)}},PlayerLiveStoryboardSpec:class extends KO{static type="PlayerLiveStoryboardSpec";board;constructor(t){super();const[e,i,s,n,a]=t.spec.split("#");this.board={type:"live",template_url:e,thumbnail_width:parseInt(i,10),thumbnail_height:parseInt(s,10),columns:parseInt(n,10),rows:parseInt(a,10)}}},PlayerMicroformat:class extends KO{static type="PlayerMicroformat";title;description;thumbnails;embed;length_seconds;channel;is_family_safe;is_unlisted;has_ypc_metadata;view_count;category;publish_date;upload_date;available_countries;start_timestamp;end_timestamp;constructor(t){super(),this.title=new HU(t.title),this.description=new HU(t.description),this.thumbnails=BU.fromResponse(t.thumbnail),Reflect.has(t,"embed")&&(this.embed={iframe_url:t.embed.iframeUrl,flash_url:t.embed.flashUrl,flash_secure_url:t.embed.flashSecureUrl,width:t.embed.width,height:t.embed.height}),this.length_seconds=parseInt(t.lengthSeconds),this.channel={id:t.externalChannelId,name:t.ownerChannelName,url:t.ownerProfileUrl},this.is_family_safe=!!t.isFamilySafe,this.is_unlisted=!!t.isUnlisted,this.has_ypc_metadata=!!t.hasYpcMetadata,this.view_count=parseInt(t.viewCount),this.category=t.category,this.publish_date=t.publishDate,this.upload_date=t.uploadDate,this.available_countries=t.availableCountries,this.start_timestamp=t.liveBroadcastDetails?.startTimestamp?new Date(t.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=t.liveBroadcastDetails?.endTimestamp?new Date(t.liveBroadcastDetails.endTimestamp):null}},PlayerOverflow:Oj,PlayerOverlay:class extends KO{static type="PlayerOverlay";end_screen;autoplay;share_button;add_to_menu;fullscreen_engagement;actions;browser_media_session;decorated_player_bar;video_details;constructor(t){super(),this.end_screen=HG(t.endScreen,Wj),this.autoplay=HG(t.autoplay,Fj),this.share_button=HG(t.shareButton,RU),this.add_to_menu=HG(t.addToMenu,AF),this.fullscreen_engagement=HG(t.fullscreenEngagement),this.actions=WG(t.actions),this.browser_media_session=HG(t.browserMediaSession),this.decorated_player_bar=HG(t.decoratedPlayerBarRenderer,bW),this.video_details=HG(t.videoDetails,Hj)}},PlayerOverlayAutoplay:Fj,PlayerOverlayVideoDetails:Hj,PlayerStoryboardSpec:class extends KO{static type="PlayerStoryboardSpec";boards;constructor(t){super();const e=t.spec.split("|"),i=new URL(e.shift());this.boards=e.map((t,e)=>{const[s,n,a,o,r,c,l,h]=t.split("#");i.searchParams.set("sigh",h);const d=Math.ceil(parseInt(a,10)/(parseInt(o,10)*parseInt(r,10)));return{type:"vod",template_url:i.toString().replace("$L",e).replace("$N",l),thumbnail_width:parseInt(s,10),thumbnail_height:parseInt(n,10),thumbnail_count:parseInt(a,10),interval:parseInt(c,10),columns:parseInt(o,10),rows:parseInt(r,10),storyboard_count:d}})}},Playlist:aW,PlaylistAddToOption:cF,PlaylistCustomThumbnail:sW,PlaylistEditEndpoint:class extends KO{static type="PlaylistEditEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"browse/edit_playlist"}buildRequest(){const t={};return this.#o.actions&&(t.actions=this.#o.actions),this.#o.playlistId&&(t.playlistId=this.#o.playlistId),this.#o.params&&(t.params=this.#o.params),t}},PlaylistHeader:class extends KO{static type="PlaylistHeader";id;title;subtitle;stats;brief_stats;author;description;num_videos;view_count;can_share;can_delete;is_editable;privacy;save_button;shuffle_play_button;menu;banner;constructor(t){super(),this.id=t.playlistId,this.title=new HU(t.title),this.subtitle=t.subtitle?new HU(t.subtitle):null,this.stats=t.stats.map(t=>new HU(t)),this.brief_stats=t.briefStats.map(t=>new HU(t)),this.author=t.ownerText||t.ownerEndpoint?new YG({...t.ownerText,navigationEndpoint:t.ownerEndpoint},t.ownerBadges,null):null,this.description=new HU(t.descriptionText),this.num_videos=new HU(t.numVideosText),this.view_count=new HU(t.viewCountText),this.can_share=t.shareData.canShare,this.can_delete=t.editableDetails.canDelete,this.is_editable=t.isEditable,this.privacy=t.privacy,this.save_button=HG(t.saveButton),this.shuffle_play_button=HG(t.shufflePlayButton),this.menu=HG(t.moreActionsMenu),this.banner=HG(t.playlistHeaderBanner)}},PlaylistInfoCardContent:class extends KO{static type="PlaylistInfoCardContent";title;thumbnails;video_count;channel_name;endpoint;constructor(t){super(),this.title=new HU(t.playlistTitle),this.thumbnails=BU.fromResponse(t.thumbnail),this.video_count=new HU(t.playlistVideoCount),this.channel_name=new HU(t.channelName),this.endpoint=new NU(t.action)}},PlaylistMetadata:class extends KO{static type="PlaylistMetadata";title;description;constructor(t){super(),this.title=t.title,this.description=t.description||null}},PlaylistPanel:Mj,PlaylistPanelVideo:Rj,PlaylistPanelVideoWrapper:Aj,PlaylistSidebar:class extends KO{static type="PlaylistSidebar";items;constructor(t){super(),this.items=WG(t.items)}get contents(){return this.items}},PlaylistSidebarPrimaryInfo:class extends KO{static type="PlaylistSidebarPrimaryInfo";stats;thumbnail_renderer;title;menu;endpoint;description;constructor(t){super(),this.stats=t.stats.map(t=>new HU(t)),this.thumbnail_renderer=HG(t.thumbnailRenderer),this.title=new HU(t.title),this.menu=HG(t.menu),this.endpoint=new NU(t.navigationEndpoint),this.description=new HU(t.description)}},PlaylistSidebarSecondaryInfo:class extends KO{static type="PlaylistSidebarSecondaryInfo";owner;button;constructor(t){super(),this.owner=HG(t.videoOwner),this.button=HG(t.button)}},PlaylistThumbnailOverlay:class extends KO{static type="PlaylistThumbnailOverlay";icon_type;text;constructor(t){super(),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.text=new HU(t.text)}},PlaylistVideo:class extends KO{static type="PlaylistVideo";id;index;title;author;thumbnails;thumbnail_overlays;set_video_id;endpoint;is_playable;menu;upcoming;video_info;accessibility_label;style;duration;constructor(t){super(),this.id=t.videoId,this.index=new HU(t.index),this.title=new HU(t.title),this.author=new YG(t.shortBylineText),this.thumbnails=BU.fromResponse(t.thumbnail),this.thumbnail_overlays=WG(t.thumbnailOverlays),this.set_video_id=t?.setVideoId,this.endpoint=new NU(t.navigationEndpoint),this.is_playable=t.isPlayable,this.menu=HG(t.menu,AF),this.video_info=new HU(t.videoInfo),this.accessibility_label=t.title.accessibility.accessibilityData.label,Reflect.has(t,"style")&&(this.style=t.style);const e=t.upcomingEventData&&Number(`${t.upcomingEventData.startTime}000`);e&&(this.upcoming=new Date(e)),this.duration={text:new HU(t.lengthText).toString(),seconds:parseInt(t.lengthSeconds)}}get is_live(){return"LIVE"===this.thumbnail_overlays.firstOfType(oH)?.style}get is_upcoming(){return"UPCOMING"===this.thumbnail_overlays.firstOfType(oH)?.style}},PlaylistVideoList:class extends KO{static type="PlaylistVideoList";id;is_editable;can_reorder;videos;constructor(t){super(),this.id=t.playlistId,this.is_editable=t.isEditable,this.can_reorder=t.canReorder,this.videos=WG(t.contents)}},PlaylistVideoThumbnail:nW,Poll:class extends KO{static type="Poll";choices;poll_type;total_votes;live_chat_poll_id;constructor(t){super(),this.choices=t.choices.map(t=>({text:new HU(t.text),select_endpoint:t.selectServiceEndpoint?new NU(t.selectServiceEndpoint):null,deselect_endpoint:t.deselectServiceEndpoint?new NU(t.deselectServiceEndpoint):null,vote_ratio_if_selected:t?.voteRatioIfSelected||null,vote_percentage_if_selected:new HU(t.votePercentageIfSelected),vote_ratio_if_not_selected:t?.voteRatioIfSelected||null,vote_percentage_if_not_selected:new HU(t.votePercentageIfSelected),image:t.image?BU.fromResponse(t.image):null})),Reflect.has(t,"type")&&(this.poll_type=t.type),Reflect.has(t,"totalVotes")&&(this.total_votes=new HU(t.totalVotes)),Reflect.has(t,"liveChatPollId")&&(this.live_chat_poll_id=t.liveChatPollId)}},PollHeader:class extends KO{static type="PollHeader";poll_question;thumbnails;metadata;live_chat_poll_type;context_menu_button;constructor(t){super(),this.poll_question=new HU(t.pollQuestion),this.thumbnails=BU.fromResponse(t.thumbnail),this.metadata=new HU(t.metadataText),this.live_chat_poll_type=t.liveChatPollType,this.context_menu_button=HG(t.contextMenuButton,RU)}},Post:jj,PostMultiImage:class extends KO{static type="PostMultiImage";images;constructor(t){super(),this.images=WG(t.images,yF)}},PrefetchWatchCommand:class extends AW{static type="PrefetchWatchCommand";constructor(t){super(t)}},PremiereTrailerBadge:class extends KO{static type="PremiereTrailerBadge";label;constructor(t){super(),this.label=new HU(t.label)}},ProductList:JF,ProductListHeader:class extends KO{static type="ProductListHeader";title;suppress_padding_disclaimer;constructor(t){super(),this.title=new HU(t.title),this.suppress_padding_disclaimer=!!t.suppressPaddingDisclaimer}},ProductListItem:class extends KO{static type="ProductListItem";title;accessibility_title;thumbnail;price;endpoint;merchant_name;stay_in_app;view_button;constructor(t){super(),this.title=new HU(t.title),this.accessibility_title=t.accessibilityTitle,this.thumbnail=BU.fromResponse(t.thumbnail),this.price=t.price,this.endpoint=new NU(t.onClickCommand),this.merchant_name=t.merchantName,this.stay_in_app=!!t.stayInApp,this.view_button=HG(t.viewButton,RU)}},ProfileColumn:Gj,ProfileColumnStats:class extends KO{static type="ProfileColumnStats";items;constructor(t){super(),this.items=WG(t.items)}get contents(){return this.items}},ProfileColumnStatsEntry:class extends KO{static type="ProfileColumnStatsEntry";label;value;constructor(t){super(),this.label=new HU(t.label),this.value=new HU(t.value)}},ProfileColumnUserInfo:class extends KO{static type="ProfileColumnUserInfo";title;thumbnails;constructor(t){super(),this.title=new HU(t.title),this.thumbnails=BU.fromResponse(t.thumbnail)}},Quiz:class extends KO{static type="Quiz";choices;total_votes;constructor(t){super(),this.choices=t.choices.map(t=>({text:new HU(t.text),is_correct:t.isCorrect})),this.total_votes=new HU(t.totalVotes)}},RecognitionShelf:class extends KO{static type="RecognitionShelf";title;subtitle;avatars;button;surface;constructor(t){super(),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle),this.avatars=t.avatars.map(t=>new BU(t)),this.button=HG(t.button,RU),this.surface=t.surface}},ReelItem:class extends KO{static type="ReelItem";id;title;thumbnails;views;endpoint;accessibility;constructor(t){super(),this.id=t.videoId,this.title=new HU(t.headline),this.thumbnails=BU.fromResponse(t.thumbnail),this.views=new HU(t.viewCountText),this.endpoint=new NU(t.navigationEndpoint),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new JO(t.accessibility.accessibilityData)})}get label(){return this.accessibility?.accessibility_data?.label}},ReelPlayerHeader:$j,ReelPlayerOverlay:class extends KO{static type="ReelPlayerOverlay";like_button;reel_player_header_supported_renderers;menu;next_item_button;prev_item_button;subscribe_button_renderer;style;view_comments_button;share_button;pivot_button;info_panel;constructor(t){super(),this.like_button=HG(t.likeButton,PF),this.reel_player_header_supported_renderers=HG(t.reelPlayerHeaderSupportedRenderers,$j),this.menu=HG(t.menu,AF),this.next_item_button=HG(t.nextItemButton,RU),this.prev_item_button=HG(t.prevItemButton,RU),this.subscribe_button_renderer=HG(t.subscribeButtonRenderer,[RU,MH]),this.style=t.style,this.view_comments_button=HG(t.viewCommentsButton,RU),this.share_button=HG(t.shareButton,RU),this.pivot_button=HG(t.pivotButton,Vj),this.info_panel=HG(t.infoPanel,qW)}},ReelShelf:IH,ReelWatchEndpoint:class extends KO{static type="ReelWatchEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"reel/reel_item_watch"}buildRequest(){const t={};return this.#o.videoId&&(t.playerRequest={videoId:this.#o.videoId}),t.playerRequest&&(this.#o.playerParams&&(t.playerRequest.params=this.#o.playerParams),this.#o.racyCheckOk&&(t.playerRequest.racyCheckOk=!!this.#o.racyCheckOk),this.#o.contentCheckOk&&(t.playerRequest.contentCheckOk=!!this.#o.contentCheckOk)),this.#o.params&&(t.params=this.#o.params),this.#o.inputType&&(t.inputType=this.#o.inputType),t.disablePlayerResponse=!!this.#o.disablePlayerResponse,t}},RelatedChipCloud:class extends KO{static type="RelatedChipCloud";content;constructor(t){super(),this.content=HG(t.content)}},RemoveBannerForLiveChatCommand:class extends KO{static type="RemoveBannerForLiveChatCommand";target_action_id;constructor(t){super(),this.target_action_id=t.targetActionId}},RemoveChatItemAction:class extends KO{static type="RemoveChatItemAction";target_item_id;constructor(t){super(),this.target_item_id=t.targetItemId}},RemoveChatItemByAuthorAction:class extends KO{static type="RemoveChatItemByAuthorAction";external_channel_id;constructor(t){super(),this.external_channel_id=t.externalChannelId}},ReplaceChatItemAction:class extends KO{static type="ReplaceChatItemAction";target_item_id;replacement_item;constructor(t){super(),this.target_item_id=t.targetItemId,this.replacement_item=HG(t.replacementItem)}},ReplaceLiveChatAction:class extends KO{static type="ReplaceLiveChatAction";to_replace;replacement;constructor(t){super(),this.to_replace=t.toReplace,this.replacement=HG(t.replacement)}},ReplayChatItemAction:class extends KO{static type="ReplayChatItemAction";actions;video_offset_time_msec;constructor(t){super(),this.actions=WG(t.actions?.map(t=>(delete t.clickTrackingParams,t))),this.video_offset_time_msec=t.videoOffsetTimeMsec}},RichGrid:qj,RichItem:class extends KO{static type="RichItem";content;constructor(t){super(),this.content=HG(t.content)}},RichListHeader:class extends KO{static type="RichListHeader";title;subtitle;title_style;icon_type;constructor(t){super(),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle),Reflect.has(t,"titleStyle")&&(this.title_style=t.titleStyle.style),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}},RichMetadata:class extends KO{static type="RichMetadata";thumbnail;title;subtitle;call_to_action;icon_type;endpoint;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle),this.call_to_action=new HU(t.callToAction),Reflect.has(t,"callToActionIcon")&&(this.icon_type=t.callToActionIcon.iconType),this.endpoint=new NU(t.endpoint)}},RichMetadataRow:class extends KO{static type="RichMetadataRow";contents;constructor(t){super(),this.contents=WG(t.contents)}},RichSection:class extends KO{static type="RichSection";content;full_bleed;target_id;constructor(t){super(),this.content=HG(t.content),this.full_bleed=!!t.fullBleed,"targetId"in t&&(this.target_id=t.targetId)}},RichShelf:class extends KO{static type="RichShelf";title;contents;endpoint;subtitle;is_expanded;is_bottom_divider_hidden;is_top_divider_hidden;layout_sizing;icon_type;menu;next_button;previous_button;constructor(t){super(),this.title=new HU(t.title),this.contents=WG(t.contents),this.is_expanded=!!t.is_expanded,this.is_bottom_divider_hidden=!!t.isBottomDividerHidden,this.is_top_divider_hidden=!!t.isTopDividerHidden,"endpoint"in t&&(this.endpoint=new NU(t.endpoint)),"subtitle"in t&&(this.subtitle=new HU(t.subtitle)),"layoutSizing"in t&&(this.layout_sizing=t.layoutSizing),"icon"in t&&(this.icon_type=t.icon.iconType),this.menu=HG(t.menu),this.next_button=HG(t.nextButton),this.previous_button=HG(t.previousButton)}},RunAttestationCommand:class extends KO{static type="RunAttestationCommand";engagement_type;ids;constructor(t){super(),this.engagement_type=t.engagementType,Reflect.has(t,"ids")&&(this.ids=t.ids.map(t=>({encrypted_video_id:t.encryptedVideoId,external_channel_id:t.externalChannelId,comment_id:t.commentId,external_owner_id:t.externalOwnerId,artist_id:t.artistId,playlist_id:t.playlistId,external_post_id:t.externalPostId,share_id:t.shareId})))}},SearchBox:VF,SearchEndpoint:class extends KO{static type="SearchEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"search"}buildRequest(){const t={};return this.#o.query&&(t.query=this.#o.query),this.#o.params&&(t.params=this.#o.params),this.#o.webSearchboxStatsUrl&&(t.webSearchboxStatsUrl=this.#o.webSearchboxStatsUrl),this.#o.suggestStats&&(t.suggestStats=this.#o.suggestStats),t}},SearchFilter:Kj,SearchFilterGroup:Yj,SearchFilterOptionsDialog:class extends KO{static type="SearchFilterOptionsDialog";title;groups;constructor(t){super(),this.title=new HU(t.title),this.groups=WG(t.groups,Yj)}},SearchHeader:class extends KO{static type="SearchHeader";chip_bar;search_filter_button;constructor(t){super(),this.chip_bar=HG(t.chipBar,FH),this.search_filter_button=HG(t.searchFilterButton,RU)}},SearchRefinementCard:eH,SearchSubMenu:class extends KO{static type="SearchSubMenu";title;groups;button;constructor(t){super(),Reflect.has(t,"title")&&(this.title=new HU(t.title)),Reflect.has(t,"groups")&&(this.groups=WG(t.groups,Yj)),Reflect.has(t,"button")&&(this.button=HG(t.button,bF))}},SearchSuggestion:WW,SearchSuggestionsSection:class extends KO{static type="SearchSuggestionsSection";contents;constructor(t){super(),this.contents=WG(t.contents)}},SecondarySearchContainer:Qj,SectionHeaderView:class extends KO{static type="SectionHeaderView";headline;constructor(t){super(),this.headline=HU.fromAttributed(t.headline)}},SectionList:ZF,SegmentedLikeDislikeButton:class extends KO{static type="SegmentedLikeDislikeButton";like_button;dislike_button;constructor(t){super(),this.like_button=HG(t.likeButton,[bF,RU]),this.dislike_button=HG(t.dislikeButton,[bF,RU])}},SegmentedLikeDislikeButtonView:SF,SendFeedbackAction:class extends KO{static type="SendFeedbackAction";bucket;constructor(t){super(),this.bucket=t.bucket}},SettingBoolean:class extends KO{static type="SettingBoolean";title;summary;enable_endpoint;disable_endpoint;item_id;constructor(t){super(),Reflect.has(t,"title")&&(this.title=new HU(t.title)),Reflect.has(t,"summary")&&(this.summary=new HU(t.summary)),Reflect.has(t,"enableServiceEndpoint")&&(this.enable_endpoint=new NU(t.enableServiceEndpoint)),Reflect.has(t,"disableServiceEndpoint")&&(this.disable_endpoint=new NU(t.disableServiceEndpoint)),this.item_id=t.itemId}},SettingsCheckbox:Xj,SettingsOptions:class extends KO{static type="SettingsOptions";title;text;options;constructor(t){super(),this.title=new HU(t.title),Reflect.has(t,"text")&&(this.text=new HU(t.text).toString()),Reflect.has(t,"options")&&(this.options=WG(t.options,[Jj,MU,cW,Xj,BH]))}},SettingsSidebar:class extends KO{static type="SettingsSidebar";title;items;constructor(t){super(),this.title=new HU(t.title),this.items=WG(t.items,zU)}get contents(){return this.items}},SettingsSwitch:Jj,ShareEndpoint:class extends MW{static type="ShareEndpoint";constructor(t){super(t)}},ShareEntityEndpoint:class extends MW{static type="ShareEntityEndpoint";constructor(t){super(t)}},ShareEntityServiceEndpoint:MW,SharePanelHeader:Zj,SharePanelTitleV15:class extends KO{static type="SharePanelTitleV15";title;constructor(t){super(),this.title=new HU(t.title)}},ShareTarget:tG,SharedPost:class extends KO{static type="SharedPost";thumbnail;content;published;menu;original_post;id;endpoint;expand_button;author;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail),this.content=new HU(t.content),this.published=new HU(t.publishedTimeText),this.menu=HG(t.actionMenu,AF),this.original_post=HG(t.originalPost,[MF,jj]),this.id=t.postId,this.endpoint=new NU(t.navigationEndpoint),this.expand_button=HG(t.expandButton,RU),this.author=new YG(t.displayName,void 0)}},Shelf:class extends KO{static type="Shelf";title;endpoint;content;icon_type;menu;play_all_button;subtitle;constructor(t){super(),this.title=new HU(t.title),Reflect.has(t,"endpoint")&&(this.endpoint=new NU(t.endpoint)),this.content=HG(t.content),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"menu")&&(this.menu=HG(t.menu)),Reflect.has(t,"playAllButton")&&(this.play_all_button=HG(t.playAllButton,RU)),Reflect.has(t,"subtitle")&&(this.subtitle=new HU(t.subtitle))}},ShortsLockupView:class extends KO{static type="ShortsLockupView";entity_id;accessibility_text;thumbnail;on_tap_endpoint;menu_on_tap;index_in_collection;menu_on_tap_a11y_label;overlay_metadata;inline_player_data;badge;constructor(t){super(),this.entity_id=t.entityId,this.accessibility_text=t.accessibilityText,this.thumbnail=BU.fromResponse(t.thumbnail),this.on_tap_endpoint=new NU(t.onTap),this.menu_on_tap=new NU(t.menuOnTap),this.index_in_collection=t.indexInCollection,this.menu_on_tap_a11y_label=t.menuOnTapA11yLabel,this.overlay_metadata={primary_text:t.overlayMetadata.primaryText?HU.fromAttributed(t.overlayMetadata.primaryText):void 0,secondary_text:t.overlayMetadata.secondaryText?HU.fromAttributed(t.overlayMetadata.secondaryText):void 0},t.inlinePlayerData?.onVisible&&(this.inline_player_data=new NU(t.inlinePlayerData.onVisible)),t.badge&&(this.badge=HG(t.badge,LF))}},ShowCustomThumbnail:VW,ShowDialogCommand:class extends KO{static type="ShowDialogCommand";inline_content;remove_default_padding;constructor(t){super(),this.inline_content=HG(t.panelLoadingStrategy?.inlineContent),this.remove_default_padding=!!t.removeDefaultPadding}},ShowEngagementPanelEndpoint:class extends KO{static type="ShowEngagementPanelEndpoint";panel_identifier;source_panel_identifier;constructor(t){super(),this.panel_identifier=t.panelIdentifier,this.source_panel_identifier=t.sourcePanelIdentifier}},ShowLiveChatActionPanelAction:class extends KO{static type="ShowLiveChatActionPanelAction";panel_to_show;constructor(t){super(),this.panel_to_show=HG(t.panelToShow,aj)}},ShowLiveChatDialogAction:class extends KO{static type="ShowLiveChatDialogAction";dialog;constructor(t){super(),this.dialog=HG(t.dialog)}},ShowLiveChatTooltipCommand:class extends KO{static type="ShowLiveChatTooltipCommand";tooltip;constructor(t){super(),this.tooltip=HG(t.tooltip)}},ShowingResultsFor:class extends KO{static type="ShowingResultsFor";corrected_query;original_query;corrected_query_endpoint;original_query_endpoint;search_instead_for;showing_results_for;constructor(t){super(),this.corrected_query=new HU(t.correctedQuery),this.original_query=new HU(t.originalQuery),this.corrected_query_endpoint=new NU(t.correctedQueryEndpoint),this.original_query_endpoint=new NU(t.originalQueryEndpoint),this.search_instead_for=new HU(t.searchInsteadFor),this.showing_results_for=new HU(t.showingResultsFor)}},SignalAction:class extends KO{static type="SignalAction";signal;constructor(t){super(),this.signal=t.signal}},SignalServiceEndpoint:class extends KO{static type="SignalServiceEndpoint";actions;signal;constructor(t){super(),Array.isArray(t.actions)&&(this.actions=WG(t.actions.map(t=>(delete t.clickTrackingParams,t)))),this.signal=t.signal}},SimpleCardContent:class extends KO{static type="SimpleCardContent";image;title;display_domain;show_link_icon;call_to_action;endpoint;constructor(t){super(),this.image=BU.fromResponse(t.image),this.title=new HU(t.title),this.display_domain=new HU(t.displayDomain),this.show_link_icon=t.showLinkIcon,this.call_to_action=new HU(t.callToAction),this.endpoint=new NU(t.command)}},SimpleCardTeaser:class extends KO{static type="SimpleCardTeaser";message;prominent;constructor(t){super(),this.message=new HU(t.message),this.prominent=t.prominent}},SimpleMenuHeader:class extends KO{static type="SimpleMenuHeader";title;buttons;constructor(t){super(),this.title=new HU(t.title),this.buttons=WG(t.buttons,RU)}},SimpleTextSection:class extends KO{static type="SimpleTextSection";lines;style;constructor(t){super(),this.lines=t.lines.map(t=>new HU(t)),this.style=t.layoutStyle}},SingleActionEmergencySupport:class extends KO{static type="SingleActionEmergencySupport";action_text;nav_text;details;icon_type;endpoint;constructor(t){super(),this.action_text=new HU(t.actionText),this.nav_text=new HU(t.navigationText),this.details=new HU(t.detailsText),this.icon_type=t.icon.iconType,this.endpoint=new NU(t.navigationEndpoint)}},SingleColumnBrowseResults:class extends KO{static type="SingleColumnBrowseResults";tabs;constructor(t){super(),this.tabs=WG(t.tabs,eG)}},SingleColumnMusicWatchNextResults:class extends KO{static type="SingleColumnMusicWatchNextResults";contents;constructor(t){super(),this.contents=jG(t)}},SingleHeroImage:class extends KO{static type="SingleHeroImage";thumbnails;style;constructor(t){super(),this.thumbnails=BU.fromResponse(t.thumbnail),this.style=t.style}},SlimOwner:class extends KO{static type="SlimOwner";thumbnail;title;endpoint;subscribe_button;constructor(t){super(),this.thumbnail=BU.fromResponse(t.thumbnail),this.title=new HU(t.title),this.endpoint=new NU(t.navigationEndpoint),this.subscribe_button=HG(t.subscribeButton,MH)}},SlimVideoMetadata:class extends KO{static type="SlimVideoMetadata";title;collapsed_subtitle;expanded_subtitle;owner;description;video_id;date;constructor(t){super(),this.title=new HU(t.title),this.collapsed_subtitle=new HU(t.collapsedSubtitle),this.expanded_subtitle=new HU(t.expandedSubtitle),this.owner=HG(t.owner),this.description=new HU(t.description),this.video_id=t.videoId,this.date=new HU(t.dateText)}},SortFilterHeader:QW,SortFilterSubMenu:ZU,SponsorCommentBadge:class extends KO{static type="SponsorCommentBadge";custom_badge;tooltip;constructor(t){super(),this.custom_badge=BU.fromResponse(t.customBadge),this.tooltip=t.tooltip}},StartAt:iG,StructuredDescriptionContent:EH,StructuredDescriptionPlaylistLockup:kH,SubFeedOption:DF,SubFeedSelector:NF,SubscribeButton:MH,SubscribeButtonView:kW,SubscribeEndpoint:class extends KO{static type="SubscribeEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"subscription/subscribe"}buildRequest(){const t={};return this.#o.channelIds&&(t.channelIds=this.#o.channelIds),this.#o.siloName&&(t.siloName=this.#o.siloName),this.#o.params&&(t.params=this.#o.params),this.#o.botguardResponse&&(t.botguardResponse=this.#o.botguardResponse),this.#o.feature&&(t.clientFeature=this.#o.feature),t}},SubscriptionNotificationToggleButton:AH,Tab:eG,Tabbed:class extends KO{static type="Tabbed";contents;constructor(t){super(),this.contents=jG(t)}},TabbedSearchResults:class extends KO{static type="TabbedSearchResults";tabs;constructor(t){super(),this.tabs=WG(t.tabs,eG)}},TextCarouselItemView:LH,TextFieldView:hW,TextHeader:class extends KO{static type="TextHeader";title;style;constructor(t){super(),this.title=new HU(t.title),this.style=t.style}},ThirdPartyShareTargetSection:sG,ThumbnailBadgeView:WH,ThumbnailBottomOverlayView:qH,ThumbnailHoverOverlayToggleActionsView:GH,ThumbnailHoverOverlayView:HH,ThumbnailLandscapePortrait:class extends KO{static type="ThumbnailLandscapePortrait";landscape;portrait;constructor(t){super(),this.landscape=BU.fromResponse(t.landscape),this.portrait=BU.fromResponse(t.portrait)}},ThumbnailOverlayBadgeView:jH,ThumbnailOverlayBottomPanel:OW,ThumbnailOverlayEndorsement:class extends KO{static type="ThumbnailOverlayEndorsement";text;constructor(t){super(),this.text=new HU(t.text).toString()}},ThumbnailOverlayHoverText:class extends KO{static type="ThumbnailOverlayHoverText";text;icon_type;constructor(t){super(),this.text=new HU(t.text),this.icon_type=t.icon.iconType}},ThumbnailOverlayInlineUnplayable:class extends KO{static type="ThumbnailOverlayInlineUnplayable";text;icon_type;constructor(t){super(),this.text=new HU(t.text).toString(),this.icon_type=t.icon.iconType}},ThumbnailOverlayLoadingPreview:class extends KO{static type="ThumbnailOverlayLoadingPreview";text;constructor(t){super(),this.text=new HU(t.text)}},ThumbnailOverlayNowPlaying:class extends KO{static type="ThumbnailOverlayNowPlaying";text;constructor(t){super(),this.text=new HU(t.text).toString()}},ThumbnailOverlayPinking:class extends KO{static type="ThumbnailOverlayPinking";hack;constructor(t){super(),this.hack=t.hack}},ThumbnailOverlayPlaybackStatus:class extends KO{static type="ThumbnailOverlayPlaybackStatus";texts;constructor(t){super(),this.texts=t.texts.map(t=>new HU(t))}},ThumbnailOverlayProgressBarView:$H,ThumbnailOverlayResumePlayback:class extends KO{static type="ThumbnailOverlayResumePlayback";percent_duration_watched;constructor(t){super(),this.percent_duration_watched=t.percentDurationWatched}},ThumbnailOverlaySidePanel:class extends KO{static type="ThumbnailOverlaySidePanel";text;icon_type;constructor(t){super(),this.text=new HU(t.text),this.icon_type=t.icon.iconType}},ThumbnailOverlayTimeStatus:oH,ThumbnailOverlayToggleButton:class extends KO{static type="ThumbnailOverlayToggleButton";is_toggled;icon_type;tooltip;toggled_endpoint;untoggled_endpoint;constructor(t){super(),Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled),this.icon_type={toggled:t.toggledIcon.iconType,untoggled:t.untoggledIcon.iconType},this.tooltip={toggled:t.toggledTooltip,untoggled:t.untoggledTooltip},t.toggledServiceEndpoint&&(this.toggled_endpoint=new NU(t.toggledServiceEndpoint)),t.untoggledServiceEndpoint&&(this.untoggled_endpoint=new NU(t.untoggledServiceEndpoint))}},ThumbnailView:KH,TimedMarkerDecoration:mW,TitleAndButtonListHeader:class extends KO{static type="TitleAndButtonListHeader";title;constructor(t){super(),this.title=new HU(t.title)}},ToggleButton:bF,ToggleButtonView:wF,ToggleFormField:class extends KO{static type="ToggleFormField";label;toggled;toggle_on_action;toggle_off_action;constructor(t){super(),this.label=new Text(t.label),this.toggled=t.toggled,"toggleOnAction"in t&&(this.toggle_on_action=new NU(t.toggleOnAction)),"toggleOffAction"in t&&(this.toggle_off_action=new NU(t.toggleOffAction))}},ToggleMenuServiceItem:class extends KO{static type="ToggleMenuServiceItem";text;toggled_text;icon_type;toggled_icon_type;default_endpoint;toggled_endpoint;constructor(t){super(),this.text=new HU(t.defaultText),this.toggled_text=new HU(t.toggledText),this.icon_type=t.defaultIcon.iconType,this.toggled_icon_type=t.toggledIcon.iconType,this.default_endpoint=new NU(t.defaultServiceEndpoint),this.toggled_endpoint=new NU(t.toggledServiceEndpoint)}},Tooltip:class extends KO{static type="Tooltip";promo_config;target_id;details;suggested_position;dismiss_stratedy;dwell_time_ms;constructor(t){super(),this.promo_config={promo_id:t.promoConfig.promoId,impression_endpoints:t.promoConfig.impressionEndpoints.map(t=>new NU(t)),accept:new NU(t.promoConfig.acceptCommand),dismiss:new NU(t.promoConfig.dismissCommand)},this.target_id=t.targetId,this.details=new HU(t.detailsText),this.suggested_position=t.suggestedPosition.type,this.dismiss_stratedy=t.dismissStrategy.type,this.dwell_time_ms=parseInt(t.dwellTimeMs)}},TopbarMenuButton:class extends KO{static type="TopbarMenuButton";icon_type;menu_renderer;target_id;constructor(t){super(),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.menu_renderer=HG(t.menuRenderer),this.target_id=t.targetId}},TopicChannelDetails:class extends KO{static type="TopicChannelDetails";title;avatar;subtitle;subscribe_button;endpoint;constructor(t){super(),this.title=new HU(t.title),this.avatar=BU.fromResponse(t.thumbnail??t.avatar),this.subtitle=new HU(t.subtitle),this.subscribe_button=HG(t.subscribeButton,MH),this.endpoint=new NU(t.navigationEndpoint)}},Transcript:oF,TranscriptFooter:tF,TranscriptSearchBox:eF,TranscriptSearchPanel:aF,TranscriptSectionHeader:iF,TranscriptSegment:sF,TranscriptSegmentList:nF,TwoColumnBrowseResults:nG,TwoColumnSearchResults:class extends KO{static type="TwoColumnSearchResults";header;primary_contents;secondary_contents;target_id;constructor(t){super(),this.header=HG(t.header),this.primary_contents=HG(t.primaryContents,[qj,ZF]),this.secondary_contents=HG(t.secondaryContents,[Qj]),"targetId"in t&&(this.target_id=t.targetId)}},TwoColumnWatchNextResults:class extends KO{static type="TwoColumnWatchNextResults";results;secondary_results;conversation_bar;playlist;autoplay;constructor(t){super(),this.results=WG(t.results?.results.contents),this.secondary_results=WG(t.secondaryResults?.secondaryResults.results),this.conversation_bar=HG(t?.conversationBar);const e=t.playlist?.playlist;e&&(this.playlist={id:e.playlistId,title:e.title,author:e.shortBylineText?.simpleText?new HU(e.shortBylineText):new YG(e.longBylineText),contents:WG(e.contents),current_index:e.currentIndex,is_infinite:!!e.isInfinite,menu:HG(e.menu,AF)});const i=t.autoplay?.autoplay;i&&(this.autoplay={sets:i.sets.map(t=>this.#g(t))},i.modifiedSets&&(this.autoplay.modified_sets=i.modifiedSets.map(t=>this.#g(t))),i.countDownSecs&&(this.autoplay.count_down_secs=i.countDownSecs))}#g(t){const e={autoplay_video:new NU(t.autoplayVideo)};return t.nextButtonVideo&&(e.next_button_video=new NU(t.nextButtonVideo)),e}},UnifiedSharePanel:class extends KO{static type="UnifiedSharePanel";third_party_network_section;header;share_panel_version;show_loading_spinner;constructor(t){if(super(),t.contents){const e=t.contents.find(t=>t.thirdPartyNetworkSection);e&&(this.third_party_network_section={share_target_container:HG(e.thirdPartyNetworkSection.shareTargetContainer,sG),copy_link_container:HG(e.thirdPartyNetworkSection.copyLinkContainer,cW),start_at_container:HG(e.thirdPartyNetworkSection.startAtContainer,iG)})}this.header=HG(t.header,Zj),this.share_panel_version=t.sharePanelVersion,Reflect.has(t,"showLoadingSpinner")&&(this.show_loading_spinner=t.showLoadingSpinner)}},UniversalWatchCard:zj,UnsubscribeEndpoint:class extends KO{static type="UnsubscribeEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"subscription/unsubscribe"}buildRequest(){const t={};return this.#o.channelIds&&(t.channelIds=this.#o.channelIds),this.#o.siloName&&(t.siloName=this.#o.siloName),this.#o.params&&(t.params=this.#o.params),t}},UpdateChannelSwitcherPageAction:class extends KO{static type="UpdateChannelSwitcherPageAction";header;contents;constructor(t){super();const e=HG(t.page,JU);e&&(this.header=e.header,this.contents=e.contents)}},UpdateDateTextAction:class extends KO{static type="UpdateDateTextAction";date_text;constructor(t){super(),this.date_text=new HU(t.dateText).toString()}},UpdateDescriptionAction:class extends KO{static type="UpdateDescriptionAction";description;constructor(t){super(),this.description=new HU(t.description)}},UpdateEngagementPanelAction:class extends KO{static type="UpdateEngagementPanelAction";target_id;content;constructor(t){super(),this.target_id=t.targetId,this.content=HG(t.content,oF)}},UpdateEngagementPanelContentCommand:class extends KO{static type="UpdateEngagementPanelContentCommand";content_source_panel_identifier;target_panel_identifier;constructor(t){super(),this.content_source_panel_identifier=t.contentSourcePanelIdentifier,this.target_panel_identifier=t.targetPanelIdentifier}},UpdateLiveChatPollAction:class extends KO{static type="UpdateLiveChatPollAction";poll_to_update;constructor(t){super(),this.poll_to_update=HG(t.pollToUpdate)}},UpdateSubscribeButtonAction:class extends KO{static type="UpdateSubscribeButtonAction";channel_id;subscribed;constructor(t){super(),this.channel_id=t.channelId,this.subscribed=t.subscribed}},UpdateTitleAction:class extends KO{static type="UpdateTitleAction";title;constructor(t){super(),this.title=new HU(t.title)}},UpdateToggleButtonTextAction:class extends KO{static type="UpdateToggleButtonTextAction";default_text;toggled_text;button_id;constructor(t){super(),this.default_text=new HU(t.defaultText).toString(),this.toggled_text=new HU(t.toggledText).toString(),this.button_id=t.buttonId}},UpdateViewershipAction:class extends KO{static type="UpdateViewershipAction";view_count;extra_short_view_count;original_view_count;unlabeled_view_count_value;is_live;constructor(t){super();const e=t.viewCount.videoViewCountRenderer;this.view_count=new HU(e.viewCount),this.extra_short_view_count=new HU(e.extraShortViewCount),this.original_view_count=parseInt(e.originalViewCount),this.unlabeled_view_count_value=new HU(e.unlabeledViewCountValue),this.is_live=e.isLive}},UploadTimeFactoid:pH,UpsellDialog:class extends KO{static type="UpsellDialog";message_title;message_text;action_button;dismiss_button;is_visible;constructor(t){super(),this.message_title=new HU(t.dialogMessageTitle),this.message_text=new HU(t.dialogMessageText),this.action_button=HG(t.actionButton,RU),this.dismiss_button=HG(t.dismissButton,RU),this.is_visible=t.isVisible}},VerticalList:class extends KO{static type="VerticalList";items;collapsed_item_count;collapsed_state_button_text;constructor(t){super(),this.items=WG(t.items),this.collapsed_item_count=t.collapsedItemCount,this.collapsed_state_button_text=new HU(t.collapsedStateButtonText)}get contents(){return this.items}},VerticalWatchCardList:class extends KO{static type="VerticalWatchCardList";items;view_all_text;view_all_endpoint;constructor(t){super(),this.items=WG(t.items),this.view_all_text=new HU(t.viewAllText),this.view_all_endpoint=new NU(t.viewAllEndpoint)}get contents(){return this.items}},Video:rH,VideoAttributeView:hH,VideoAttributesSectionView:CH,VideoCard:cH,VideoDescriptionCourseSection:SH,VideoDescriptionHeader:fH,VideoDescriptionInfocardsSection:yH,VideoDescriptionMusicSection:wH,VideoDescriptionTranscriptSection:xH,VideoInfoCardContent:class extends KO{static type="VideoInfoCardContent";title;channel_name;view_count;video_thumbnails;duration;endpoint;constructor(t){super(),this.title=new HU(t.videoTitle),this.channel_name=new HU(t.channelName),this.view_count=new HU(t.viewCountText),this.video_thumbnails=BU.fromResponse(t.videoThumbnail),this.duration=new HU(t.lengthString),this.endpoint=new NU(t.action)}},VideoMetadataCarouselView:class extends KO{static type="VideoMetadataCarouselView";carousel_titles;carousel_items;constructor(t){super(),this.carousel_titles=jG(t.carouselTitles,!0,NH),this.carousel_items=jG(t.carouselItems,!0,DH)}},VideoOwner:oG,VideoPrimaryInfo:class extends KO{static type="VideoPrimaryInfo";title;super_title_link;station_name;view_count;badges;published;relative_date;menu;constructor(t){super(),this.title=new HU(t.title),"superTitleLink"in t&&(this.super_title_link=new HU(t.superTitleLink)),"stationName"in t&&(this.station_name=new HU(t.stationName)),this.view_count=HG(t.viewCount,rG),this.badges=WG(t.badges,aH),this.published=new HU(t.dateText),this.relative_date=new HU(t.relativeDateText),this.menu=HG(t.videoActions,AF)}},VideoSecondaryInfo:class extends KO{static type="VideoSecondaryInfo";owner;description;description_placeholder;subscribe_button;metadata;show_more_text;show_less_text;default_expanded;description_collapsed_lines;constructor(t){super(),this.owner=HG(t.owner,oG),this.description=new HU(t.description),"attributedDescription"in t&&(this.description=HU.fromAttributed(t.attributedDescription)),"descriptionPlaceholder"in t&&(this.description_placeholder=new HU(t.descriptionPlaceholder)),this.subscribe_button=HG(t.subscribeButton,[MH,RU]),this.metadata=HG(t.metadataRowContainer,mj),this.show_more_text=new HU(t.showMoreText),this.show_less_text=new HU(t.showLessText),this.default_expanded=t.defaultExpanded,this.description_collapsed_lines=t.descriptionCollapsedLines}},VideoViewCount:rG,ViewCountFactoid:mH,VoiceReplyContainerView:eW,WatchCardCompactVideo:class extends KO{static type="WatchCardCompactVideo";title;subtitle;duration;style;constructor(t){super(),this.title=new HU(t.title),this.subtitle=new HU(t.subtitle),this.duration={text:new HU(t.lengthText).toString(),seconds:JG(t.lengthText.simpleText)},this.style=t.style}},WatchCardHeroVideo:class extends KO{static type="WatchCardHeroVideo";endpoint;call_to_action_button;hero_image;label;constructor(t){super(),this.endpoint=new NU(t.navigationEndpoint),this.call_to_action_button=HG(t.callToActionButton),this.hero_image=HG(t.heroImage),this.label=t.lengthText?.accessibility.accessibilityData.label||""}},WatchCardRichHeader:class extends KO{static type="WatchCardRichHeader";title;title_endpoint;subtitle;author;style;constructor(t){super(),this.title=new HU(t.title),this.title_endpoint=new NU(t.titleNavigationEndpoint),this.subtitle=new HU(t.subtitle),this.author=new YG(t,t.titleBadge?[t.titleBadge]:null,t.avatar),this.author.name=this.title.toString(),this.style=t.style}},WatchCardSectionSequence:class extends KO{static type="WatchCardSectionSequence";lists;constructor(t){super(),this.lists=WG(t.lists)}},WatchEndpoint:AW,WatchNextEndScreen:Wj,WatchNextEndpoint:class extends KO{static type="WatchNextEndpoint";#o;constructor(t){super(),this.#o=t}getApiPath(){return"next"}buildRequest(){const t={};return this.#o.videoId&&(t.videoId=this.#o.videoId),this.#o.playlistId&&(t.playlistId=this.#o.playlistId),void 0===this.#o.index&&void 0===this.#o.playlistIndex||(t.playlistIndex=this.#o.index||this.#o.playlistIndex),(this.#o.playerParams||this.#o.params)&&(t.params=this.#o.playerParams||this.#o.params),t.racyCheckOk=!!this.#o.racyCheckOk,t.contentCheckOk=!!this.#o.contentCheckOk,t}},WatchNextTabbedResults:class extends nG{static type="WatchNextTabbedResults";constructor(t){super(t)}},YpcTrailer:Uj});const uG=new Set(["trackingParams","accessibility","accessibilityData"]),pG={};function mG(t){return t.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}function _G(t,e){let i=!1;if("object"==typeof e&&null!=e){if(i=fG(e))return pG[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=function(t){const e=Array.isArray(t);if(e&&0===t.length)return!1;const i=e&&t.every(t=>fG(t));return!!i&&Object.fromEntries(t.map(t=>{const e=Reflect.ownKeys(t)[0].toString();return[OG(e),t[e]]}))}(e)){for(const[t,e]of Object.entries(i))pG[t]=e;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if(i=function(t,e){if("object"==typeof e&&null!==e){if(t.endsWith("Endpoint")||t.endsWith("Command")||"endpoint"===t)return{type:"misc",endpoint:new NU(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){const t=new HU(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:t.endpoint,text:t.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}(t,e))return i;if(i=function(t){if(!Array.isArray(t))return!1;if(0===t.length)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};const e=t.map(t=>typeof t);if(!e.every(t=>t===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};const i=e[0];if("object"!==i)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[i],optional:!1},optional:!1};let s=[];for(let e=0;e<t.length;e++){const i=Object.entries(t[e]).map(([t,e])=>[t,_G(t,e)]);0!==e?s=AG(s,i).resolved_key_info:s=i}return{type:"array",array_type:"object",items:{type:"object",keys:s,optional:!1},optional:!1}}(e))return i}const s=typeof e;return"object"===s?{type:"object",keys:Object.entries(e).map(([t,e])=>[t,_G(t,e)]),optional:!1}:{type:"primitive",typeof:[s],optional:!1}}function fG(t){if(!("object"==typeof t))return!1;const e=Reflect.ownKeys(t);if(1===e.length){const t=e[0].toString();if(t.endsWith("Renderer")||t.endsWith("Model"))return OG(t)}return!1}function yG(t){if("object"!=typeof t||null===t)throw new zG("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(t=>!function(t){return"string"==typeof t&&uG.has(t)}(t)).filter(t=>"string"==typeof t).map(e=>[e,_G(e,Reflect.get(t,e))])}function bG(t){return function(t){const e=t.filter(([,t])=>"misc"===t.type&&("NavigationEndpoint"===t.misc_type||"Text"===t.misc_type)&&"WEB_PAGE_TYPE_CHANNEL"===t.endpoint?.metadata.page_type).sort(([,t],[,e])=>"misc"!==t.type||"misc"!==e.type||"Text"!==t.misc_type||"Text"!==e.misc_type?0:e.text.length-t.text.length),i=new Set,s=e[0];let n;if(s){i.add(s[0]);const e=t.map(([t])=>t).filter(t=>t.endsWith("Badges")||"badges"===t),a=e.filter(t=>t.startsWith("owner")||t.startsWith("author"))[0]??e[0],o=t.find(([t])=>t===a),r=!!o&&"array"===o[1].type&&"renderer"===o[1].array_type&&Reflect.has(o[1].renderers,"MetadataBadge");r&&a&&i.add(a),n={type:"misc",misc_type:"Author",optional:!1,params:[s[0],r?a:void 0]}}return n&&t.push(["author",n]),t.filter(([t])=>!i.has(t))}(yG(t))}function gG(t){const e=bG(t),i=new Map;for(const[,t]of e)if("renderer"===t.type||"array"===t.type&&"renderer"===t.array_type)for(const e of t.renderers){const t=pG[e];t&&i.set(e,t)}return{key_info:e,unimplemented_dependencies:Array.from(i).filter(([t])=>!FG(t))}}function vG(t,e,i){const{key_info:s,unimplemented_dependencies:n}=gG(e),a=function(t,e,i){i({error_type:"class_not_found",classname:t,key_info:e});const s=class extends KO{static type=t;static#v=new Map;static set key_info(t){this.#v=new Map(t)}static get key_info(){return[...this.#v.entries()]}constructor(e){super();const{key_info:n,unimplemented_dependencies:a}=gG(e),{resolved_key_info:o,changed_keys:r}=AG(s.key_info,n);r.length>0&&(s.key_info=o,i({error_type:"class_changed",classname:t,key_info:s.key_info,changed_keys:r}));for(const[t,e]of a)vG(t,e,i);for(const[t,i]of n){let s=mG(t);"misc"===i.type&&"NavigationEndpoint"===i.misc_type&&(s="endpoint"),Reflect.set(this,s,RG(t,i,e))}}};return s.key_info=e,Object.defineProperty(s,"name",{value:t,writable:!1}),s}(t,s,i);!function(t,e){DG.set(t,e),NG.set(t,e)}(t,a);for(const[t,e]of n)vG(t,e,i);return a}function wG(t,e){const i=[],s=["super();"];for(const[t,n]of e){let e=mG(t);"misc"===n.type&&"NavigationEndpoint"===n.misc_type&&(e="endpoint"),i.push(`${e}${n.optional?"?":""}: ${kG(n)};`),s.push(`this.${e} = ${CG(t,n)};`)}return`class ${t} extends YTNode {\n  static type = '${t}';\n\n  ${i.join("\n  ")}\n\n  constructor(data: RawNode) {\n    ${s.join("\n    ")}\n  }\n}\n`}function xG(t,e){return`{\n${e.map(([e,i])=>`${" ".repeat(2*(t+2))}${mG(e)}${i.optional?"?":""}: ${kG(i,t+1)}`).join(",\n")}\n${" ".repeat(2*(t+1))}}`}function kG(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(t=>`YTNodes.${t}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(t=>`YTNodes.${t}`).join(" | ")}> | null`;case"primitive":{const e=t.items.typeof;t.items.optional&&!e.includes("undefined")&&e.push("undefined");return`${1===e.length?`${e[0]}`:`(${e.join(" | ")})`}[]`}case"object":return`${xG(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return xG(e,t.keys);case"misc":return"Thumbnail"===t.misc_type?"Thumbnail[]":t.misc_type;case"primitive":return t.typeof.join(" | ")}}function SG(t,e,i,s){const n=[...i,s];return`{\n${e.map(([e,i])=>`${" ".repeat(2*(t+2))}${mG(e)}: ${CG(e,i,n,t+1)}`).join(",\n")}\n${" ".repeat(2*(t+1))}}`}function CG(t,e,i=["data"],s=1){let n="undefined";switch(e.type){case"renderer":n=`Parser.parseItem(${i.join(".")}.${t}, ${TG(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":n=`Parser.parse(${i.join(".")}.${t}, true, ${TG(e.renderers)})`;break;case"object":n=`${i.join(".")}.${t}.map((item: any) => (${SG(s,e.items.keys,[],"item")}))`;break;case"primitive":n=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":n=SG(s,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":n=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{const t=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${t} : undefined`:t}default:n=`new ${e.misc_type}(${i.join(".")}.${t})`}if("undefined"===n)throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":n=`${i.join(".")}.${t}`}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${n} : undefined`:n}function TG(t){return 1===t.length?`YTNodes.${t[0]}`:`[ ${t.map(t=>`YTNodes.${t}`).join(", ")} ]`}function IG(t,e){let i=t;for(const t of e)i=i[t];return i}function EG(t,e){let i=t;for(const t of e){if(!Reflect.has(i,t))return!1;i=i[t]}return!0}function PG(t,e,i,s,n){const a={},o=[...i,t];for(const[t,i]of s)a[t]=n?RG(t,i,e,o):void 0;return a}function RG(t,e,i,s=["data"]){const n=!e.optional||EG({data:i},[...s,t]);switch(e.type){case"renderer":return n?HG(IG({data:i},[...s,t]),e.renderers.map(t=>UG(t))):void 0;case"array":switch(e.array_type){case"renderer":return n?jG(IG({data:i},[...s,t]),!0,e.renderers.map(t=>UG(t))):void 0;case"object":return n?IG({data:i},[...s,t]).map((a,o)=>PG(`${o}`,i,[...s,t],e.items.keys,n)):void 0;case"primitive":return n?IG({data:i},[...s,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return PG(t,i,s,e.keys,n);case"misc":switch(e.misc_type){case"NavigationEndpoint":return n?new NU(IG({data:i},[...s,t])):void 0;case"Text":return n?new HU(IG({data:i},[...s,t])):void 0;case"Thumbnail":return n?BU.fromResponse(IG({data:i},[...s,t])):void 0;case"Author":return!e.optional||EG({data:i},[...s,e.params[0]])?new YG(IG({data:i},[...s,e.params[0]]),e.params[1]?IG({data:i},[...s,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return IG({data:i},[...s,t])}}function AG(t,e){const i=new Map,s=new Set(t.map(([t])=>t)),n=new Set(e.map(([t])=>t)),a=e.filter(([t])=>!s.has(t)),o=t.filter(([t])=>!n.has(t)),r=t.filter(([t])=>n.has(t)),c=new Map(e);for(const[t,e]of r){const s=c.get(t);if(s)if(e.type===s.type)switch(e.type){case"object":{if("object"!==s.type)continue;const{resolved_key_info:n}=AG(e.keys,s.keys),a={type:"object",keys:n,optional:e.optional||s.optional};JSON.stringify(a)!==JSON.stringify(e)&&i.set(t,a)}break;case"renderer":{if("renderer"!==s.type)continue;const n={type:"renderer",renderers:{...e.renderers,...s.renderers},optional:e.optional||s.optional};JSON.stringify({...n,renderers:Object.keys(n.renderers)})!==JSON.stringify({...e,renderers:Object.keys(e.renderers)})&&i.set(t,n)}break;case"array":if("array"!==s.type)continue;switch(e.array_type){case"renderer":{if("renderer"!==s.array_type){i.set(t,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const n={type:"array",array_type:"renderer",renderers:{...e.renderers,...s.renderers},optional:e.optional||s.optional};JSON.stringify({...n,renderers:Object.keys(n.renderers)})!==JSON.stringify({...e,renderers:Object.keys(e.renderers)})&&i.set(t,n)}break;case"object":{if("primitive"===s.array_type&&1==s.items.typeof.length&&"never"===s.items.typeof[0])continue;if("object"!==s.array_type){i.set(t,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const{resolved_key_info:n}=AG(e.items.keys,s.items.keys),a={type:"array",array_type:"object",items:{type:"object",keys:n,optional:e.items.optional||s.items.optional},optional:e.optional||s.optional};JSON.stringify(a)!==JSON.stringify(e)&&i.set(t,a)}break;case"primitive":{if(e.items.typeof.includes("never")&&"object"===s.array_type){i.set(t,s);continue}if("primitive"!==s.array_type){i.set(t,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const n=new Set([...s.items.typeof,...e.items.typeof]);n.size>1&&n.has("never")&&n.delete("never");const a={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(n),optional:e.items.optional||s.items.optional},optional:e.optional||s.optional};JSON.stringify(a)!==JSON.stringify(e)&&i.set(t,a)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"misc":if("misc"!==s.type)continue;switch(e.misc_type!==s.misc_type&&i.set(t,{type:"primitive",typeof:["unknown"],optional:!0}),e.misc_type){case"Author":{if("Author"!==s.misc_type)break;const n=e.params[1]||s.params[1],a={type:"misc",misc_type:"Author",optional:e.optional||s.optional,params:[s.params[0],n]};JSON.stringify(a)!==JSON.stringify(e)&&i.set(t,a)}}break;case"primitive":{if("primitive"!==s.type)continue;const n={type:"primitive",typeof:Array.from(new Set([...s.typeof,...e.typeof])),optional:e.optional||s.optional};JSON.stringify(n)!==JSON.stringify(e)&&i.set(t,n)}}else i.set(t,{type:"primitive",typeof:["unknown"],optional:!0})}for(const[t,e]of a)i.set(t,{...e,optional:!0});for(const[t,e]of o)i.set(t,{...e,optional:!0});const l=t.filter(([t])=>!i.has(t));return{resolved_key_info:[...new Map([...l,...i]).entries()],changed_keys:[...i.entries()]}}const MG="Parser",LG=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),DG=new Map(Object.entries(dG)),NG=new Map;let BG=({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&GO(MG,new zG(`Something went wrong at ${t}!\nThis is a bug, please report it at ${tU.bugs.url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":GO(MG,new QG(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":GO(MG,new zG(`Mutation data required for processing ${t}, but none found.\nThis is a bug, please report it at ${tU.bugs.url}`));break;case"mutation_data_invalid":GO(MG,new zG(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.\nThis is a bug, please report it at ${tU.bugs.url}`));break;case"class_not_found":GO(MG,new zG(`${t} not found!\nThis is a bug, want to help us fix it? Follow the instructions at ${tU.homepage.split("#",1)[0]}/blob/main/docs/updating-the-parser.md or report it at ${tU.bugs.url}!\nIntrospected and JIT generated this class in the meantime:\n${wG(t,e.key_info)}`));break;case"class_changed":GO(MG,`${t} changed!\nThe following keys where altered: ${e.changed_keys.map(([t])=>mG(t)).join(", ")}\nThe class has changed to:\n${wG(t,e.key_info)}`);break;default:GO(MG,"Unreachable code reached at ParserErrorHandler")}};function VG(t){return LG.has(t)}function OG(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}function UG(t){const e=DG.get(t);if(!e){const e=new Error(`Module not found: ${t}`);throw e.code="MODULE_NOT_FOUND",e}return e}function FG(t){return DG.has(t)}function HG(t,e){if(!t)return null;const i=Object.keys(t);if(!i.length)return null;const s=OG(i[0]);if(!VG(s))try{const n=FG(s)?UG(s):vG(s,t[i[0]],BG);if(e)if(Array.isArray(e)){if(!e.some(t=>t.type===n.type))return BG({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.map(t=>t.type)}),null}else if(n.type!==e.type)return BG({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.type}),null;const a=new n(t[i[0]]);return a}catch(e){return BG({classname:s,classdata:t[i[0]],error:e,error_type:"parse"}),null}return null}function WG(t,e){if(Array.isArray(t)){const i=[];for(const s of t){const t=HG(s,e);t&&i.push(t)}return QO(i)}if(!t)return QO([]);throw new QG("Expected array but got a single item")}function jG(t,e,i){if(!t)return null;if(Array.isArray(t)){const s=[];for(const e of t){const t=HG(e,i);t&&s.push(t)}const n=QO(s);return e?n:new zO(n)}if(e)throw new QG("Expected array but got a single item");return new zO(HG(t,i))}const GG=/Command$/,$G=/Endpoint$/,qG=/Action$/;function KG(t){let e=[];try{e=Object.keys(t)}catch{}for(const i of e){const e=t[i];if(GG.test(i)||$G.test(i)||qG.test(i)){const t=OG(i);if(VG(t))return;try{if(FG(t))return new(UG(t))(e)}catch(i){BG({error:i,classname:t,classdata:e,error_type:"parse"})}}}}class YG{id;name;thumbnails;endpoint;badges;is_moderator;is_verified;is_verified_artist;url;constructor(t,e,i,s){const n=new HU(t);this.id=s||n?.runs?.[0]?.endpoint?.payload?.browseId||n?.endpoint?.payload?.browseId||"N/A",this.name=n?.text||"N/A",this.thumbnails=i?BU.fromResponse(i):[],this.endpoint=n?.runs?.[0]?.endpoint||n?.endpoint,e?Array.isArray(e)?(this.badges=WG(e),this.is_moderator=this.badges?.some(t=>"MODERATOR"==t.icon_type),this.is_verified=this.badges?.some(t=>"BADGE_STYLE_TYPE_VERIFIED"==t.style),this.is_verified_artist=this.badges?.some(t=>"BADGE_STYLE_TYPE_VERIFIED_ARTIST"==t.style)):(this.badges=QO([]),this.is_verified=!!e.isVerified,this.is_verified_artist=!!e.isArtist):this.badges=QO([]),this.url="/browse"===n?.runs?.[0]?.endpoint?.metadata?.api_url&&`${ZO}${n?.runs?.[0]?.endpoint?.payload?.canonicalBaseUrl||`/u/${n?.runs?.[0]?.endpoint?.payload?.browseId}`}`||`${ZO}${n?.endpoint?.payload?.canonicalBaseUrl||`/u/${n?.endpoint?.payload?.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}}class zG extends Error{date;version;info;constructor(t,e){super(t),e&&(this.info=e),this.date=new Date,this.version=tU.version}}class QG extends zG{}function XG(t,e){return Reflect.ownKeys(t).some(i=>{const s=e[i]instanceof HU;return s||"object"!=typeof e[i]?t[i]===(s?e[i].toString():e[i]):JSON.stringify(t[i])===JSON.stringify(e[i])})}function JG(t){const e=t.split(":").map(t=>parseInt(t.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return 60*e[0]+e[1];case 3:return 3600*e[0]+60*e[1]+e[2];default:throw new Error("Invalid time string")}}function ZG(t){return!("emoji"in t)}const t$=new class{constructor(){this.clients=new Map,this.lastSearch=new Map,this.lastSearchQuery=new Map}async start(){await this.getClient(zL),await this.getClient(JL),await this.getClient(QL),await this.getClient(XL)}async getClient(t=zL){let i;if(this.clients.has(t))i=this.clients.get(t);else{const s=await e.get("https://m.youtube.com",!0),n=Object.entries(s).map(([t,e])=>`${t}=${e.value}`).join("; ");i=await WB.create({retrieve_player:!1,enable_session_cache:!1,generate_session_locally:!1,client_type:t,player_id:"0004de42",...t!==JL&&{cookie:n},fetch:(t,e)=>{var i,s,n,a,o,r,c;return"function"==typeof(null===(i=null==e?void 0:e.headers)||void 0===i?void 0:i.set)&&(null===(s=null==e?void 0:e.headers)||void 0===s||s.set("origin","https://www.youtube.com"),null===(n=null==e?void 0:e.headers)||void 0===n||n.set("referer","https://www.youtube.com"),null===(a=null==e?void 0:e.headers)||void 0===a||a.set("x-origin","https://www.youtube.com"),null===(o=null==e?void 0:e.headers)||void 0===o||o.set("sec-fetch-dest","empty"),null===(r=null==e?void 0:e.headers)||void 0===r||r.set("sec-fetch-mode","same-origin"),null===(c=null==e?void 0:e.headers)||void 0===c||c.set("sec-fetch-site","same-origin")),fetch(t,e)}}),this.clients.set(t,i)}return i}clearClients(){this.clients.clear()}async searchVideos(t,e,i="web"){var s,n,a,o,r,c,l,h,d,u,p,m,_,f,y,b,g,v,w;let x;if(e&&this.lastSearchQuery.get(i)===t&&(null===(s=this.lastSearch.get(i))||void 0===s?void 0:s.has_continuation))x=await this.lastSearch.get(i).getContinuation();else{if("music"===i){const e=await this.getClient(XL);x=await e.music.search(t,{type:"song"}),console.log("search",x)}else{const e=await this.getClient();x=await e.search(t)}this.lastSearchQuery.set(i,t)}this.lastSearch.set(i,x);const k=[],S=new Set;for(const t of"music"===i?x.contents:x.results){if("Video"===t.type||"MusicResponsiveListItem"===t.type){const e=t,i=e.id||e.video_id;i&&!S.has(i)&&(S.add(i),k.push({id:i,title:(null===(n=e.title)||void 0===n?void 0:n.text)||e.title||"",artist:(null===(a=e.author)||void 0===a?void 0:a.name)||(null===(r=null===(o=e.artists)||void 0===o?void 0:o[0])||void 0===r?void 0:r.name)||e.author||"",thumbnail:(null===(l=null===(c=e.thumbnails)||void 0===c?void 0:c[0])||void 0===l?void 0:l.url)||(null===(u=null===(d=null===(h=e.thumbnail)||void 0===h?void 0:h.contents)||void 0===d?void 0:d[0])||void 0===u?void 0:u.url)||"",duration:(null===(p=e.duration)||void 0===p?void 0:p.seconds)||e.duration||0,viewCount:(null===(m=e.view_count)||void 0===m?void 0:m.text)||""}))}if("MusicShelf"===t.type){const e=t.as(Dj);for(const t of e.contents)if("MusicResponsiveListItem"===t.type){const e=t.as(Cj),i=e.id;i&&!S.has(i)&&(S.add(i),k.push({id:i,title:e.title||"",artist:(null===(f=null===(_=e.artists)||void 0===_?void 0:_[0])||void 0===f?void 0:f.name)||"Unknown",thumbnail:(null===(g=null===(b=null===(y=e.thumbnail)||void 0===y?void 0:y.contents)||void 0===b?void 0:b[0])||void 0===g?void 0:g.url)||"",duration:(null===(v=e.duration)||void 0===v?void 0:v.seconds)||0,viewCount:(null===(w=e.view_count)||void 0===w?void 0:w.text)||""}))}}}return{results:k,nextPageToken:x.has_continuation?"continue":void 0}}async getPlaylists(){const t=await this.getClient(zL);return(await t.getLibrary()).playlists}async getPlaylist(t){const e=await this.getClient(QL);return await e.music.getPlaylist(t)}async getPlayableUrl(t){const e=await this.getClient(JL),i=(await e.getBasicInfo(t)).chooseFormat({type:"audio",quality:"best"});if(!i)throw new Error("No audio format available");return i.decipher(e.session.player)}async getSearchSuggestions(t){try{const e=await this.getClient();return await e.getSearchSuggestions(t)}catch(t){return console.error("Failed to get search suggestions:",t),[]}}async getYouTubeSuggestions(t,e="web",i=10){var s;try{const n=await this.getClient("music"===e?XL:zL),a=(null===(s=(await n.getInfo(t)).watch_next_feed)||void 0===s?void 0:s.map(t=>t.as(cj).content_id))||[],o=await Promise.all(a.map(async t=>{try{return await n.getBasicInfo(t)}catch(t){return null}}));return console.log("videos",o),o.filter(t=>!!t).slice(0,i).filter(t=>!!t.basic_info&&!!t.basic_info.id).map(t=>{var e;const i=t.basic_info;return console.log("[YouTubeService] getInfo for source:",t),{title:i.title||"",artist:i.author||"",artwork:(null===(e=i.thumbnail)||void 0===e?void 0:e[0].url)||"",duration:i.duration||0,id:i.id,videoId:i.id,addedAt:Date.now(),source:"youtube"}})}catch(t){return console.log("error",t),[]}}};class e${constructor(){this.id="minip-ytb",this.name="YouTube Music",this.version="1.0.0"}async initialize(){await t$.start()}async search(t,e,i="web"){return t$.searchVideos(t,e,i)}async getPlayableUrl(t){return t$.getPlayableUrl(t)}async getSuggestions(t,e="web",i=10){return t$.getYouTubeSuggestions(t,e,i)}async getPlaylists(){return t$.getPlaylists()}async getPlaylist(t){return t$.getPlaylist(t)}async getSearchSuggestions(t){return t$.getSearchSuggestions(t)}}const i$=new e$;return t.createSource=()=>new e$,t.default=i$,Object.defineProperty(t,"__esModule",{value:!0}),t}({},CookieManager);
